const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/peer-BJfOmXIw.js","assets/react-D-G-XDni.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&a(e,n,t[n]);return e},l=(e,r)=>t(e,n(r)),c=(e,t)=>{var n={};for(var a in e)s.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&o.call(e,a)&&(n[a]=e[a]);return n};import{a as d,c as p,j as u,R as m}from"./react-D-G-XDni.js";import{R as b}from"./react-dom-DrZoimYb.js";import{p as f,c as y,a as g,b as _,u as h,d as w,e as x,H as v,o as j,w as P,m as S,f as k,t as T,E as O,g as N,h as E,i as C,j as M,k as I,l as D,n as z,q as R,s as L,v as A,x as H,y as F,z as q,A as B,B as $,P as G}from"./vendor-CMSwJHez.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const W={},V=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in W)return;W[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise(((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)}))},Y=[{name:"Brick Shortage",desc:"All players lose 8 bricks"},{name:"Lucky Cache",desc:"+2 Bricks. +2 Gems. Play again"},{name:"Friendly Terrain",desc:"+1 Wall. Play again"},{name:"Miners",desc:"+1 Quarry"},{name:"Mother Lode",desc:"If quarry < enemy quarry, +2 quarry. Else, +1 quarry"},{name:"Dwarven Miners",desc:"+4 Wall. +1 Quarry"},{name:"Work Overtime",desc:"+5 Wall. You lose 6 gems"},{name:"Copping the Tech",desc:"If quarry < enemy quarry, quarry = enemy quarry"},{name:"Basic Wall",desc:"+3 Wall"},{name:"Sturdy Wall",desc:"+4 Wall"},{name:"Innovations",desc:"+1 To all player's quarrys, you gain 4 gems"},{name:"Foundations",desc:"If wall = 0, +6 wall, else +3 wall"},{name:"Tremors",desc:"All walls take 5 damage. Play again"},{name:"Secret Room",desc:"+1 Magic. Play again"},{name:"Earthquake",desc:"-1 To all player's quarrys"},{name:"Big Wall",desc:"+6 Wall"},{name:"Collapse!",desc:"-1 Enemy quarry"},{name:"New Equipment",desc:"+2 Quarry"},{name:"Strip Mine",desc:"-1 Quarry. +10 Wall. You gain 5 gems"},{name:"Reinforced Wall",desc:"+8 Wall"},{name:"Porticulus",desc:"+5 Wall, +1 dungeon"},{name:"Crystal Rocks",desc:"+7 Wall, gain 7 gems"},{name:"Harmonic Ore",desc:"+6 Wall, +3 tower"},{name:"Mondo Wall",desc:"+12 Wall"},{name:"Focused Designs",desc:"+8 Wall, +5 tower"},{name:"Great Wall",desc:"+15 Wall"},{name:"Rock Launcher",desc:"+6 Wall. 10 Damage to enemy"},{name:"Dragon's Heart",desc:"+20 Wall. +8 Tower"},{name:"Forced Labor",desc:"+9 Wall, lose 5 recruits"},{name:"Rock Garden",desc:"+1 Wall. +1 Tower. +2 Recruits"},{name:"Flood Water",desc:"Player(s) with lowest wall are -1 Dungeon and 2 damage to tower"},{name:"Barracks",desc:"+6 Recruits, +6 wall. If dungeon < enemy dungeon, +1 dungeon"},{name:"Battlements",desc:"+7 Wall, 6 damage to enemy"},{name:"Shift",desc:"Switch your wall with enemy wall"},{name:"Quartz",desc:"+1 Tower. Play again"},{name:"Smoky Quartz",desc:"1 Damage to enemy tower. Play again"},{name:"Amethyst",desc:"+3 Tower"},{name:"Spell Weavers",desc:"+1 Magic"},{name:"Prism",desc:"Draw 1 card. Discard 1 card. Play again"},{name:"Lodestone",desc:"+3 Tower. This card can't be discarded without playing it"},{name:"Solar Flare",desc:"+2 Tower. 2 Damage to enemy tower"},{name:"Crystal Matrix",desc:"+1 Magic. +3 Tower. +1 Enemy tower"},{name:"Gemstone Flaw",desc:"3 Damage to enemy tower"},{name:"Ruby",desc:"+5 Tower"},{name:"Gem Spear",desc:"5 Damage to enemy tower"},{name:"Power Burn",desc:"5 Damage to your tower. +2 Magic"},{name:"Harmonic Vibe",desc:"+1 Magic. +3 Tower. +3 Wall"},{name:"Parity",desc:"All player's magic equals the highest player's magic"},{name:"Emerald",desc:"+8 Tower"},{name:"Pearl of Wisdom",desc:"+5 Tower. +1 Magic"},{name:"Shatterer",desc:"-1 Magic. 9 Damage to enemy tower"},{name:"Crumblestone",desc:"+5 Tower. Enemy loses 6 bricks"},{name:"Sapphire",desc:"+11 Tower"},{name:"Discord",desc:"7 Damage to all towers, all players magic -1"},{name:"Fire Ruby",desc:"+6 Tower. 4 Damage to enemy tower"},{name:"Quarry's Help",desc:"+7 Tower. Lose 10 bricks"},{name:"Crystal Shield",desc:"+8 Tower. +3 Wall"},{name:"Empathy Gem",desc:"+8 Tower. +1 Dungeon"},{name:"Diamond",desc:"+15 Tower"},{name:"Sanctuary",desc:"+10 Tower. +5 Wall, gain 5 recruits"},{name:"Lava Jewel",desc:"+12 Tower. 6 Damage to enemy"},{name:"Dragon's Eye",desc:"+20 Tower"},{name:"Crystallize",desc:"+11 Tower. -6 Wall"},{name:"Bag of Baubles",desc:"If tower < enemy tower, +2 tower. Else +1 tower"},{name:"Rainbow",desc:"+1 Tower to all players. You gain 3 gems"},{name:"Apprentice",desc:"+4 Tower, you lose 3 recruits, 2 damage to enemy tower"},{name:"Lightning Shard",desc:"If Tower > enemy wall, 8 damage to enemy tower. Else 8 damage"},{name:"Phase Jewel",desc:"+13 Tower. +6 Recruits. +6 Bricks"},{name:"Mad Cow Disease",desc:"All players lose 6 recruits"},{name:"Faerie",desc:"2 Damage. Play again"},{name:"Moody Goblins",desc:"4 Damage. You lose 3 gems"},{name:"Minotaur",desc:"+1 Dungeon"},{name:"Elven Scout",desc:"Draw 1 card. Discard 1 card. Play again"},{name:"Goblin Mob",desc:"6 Damage. You take 3 damage"},{name:"Goblin Archers",desc:"3 Damage to enemy tower. You take 1 damage"},{name:"Shadow Faerie",desc:"2 Damage to enemy tower. Play again"},{name:"Orc",desc:"5 Damage"},{name:"Dwarves",desc:"4 Damage. +3 Wall"},{name:"Little Snakes",desc:"4 Damage to enemy tower"},{name:"Troll Trainer",desc:"+2 Dungeon"},{name:"Tower Gremlin",desc:"2 Damage. +4 Tower. +2 Wall"},{name:"Full Moon",desc:"+1 to all player's dungeon. You gain 3 recruits"},{name:"Slasher",desc:"6 Damage"},{name:"Ogre",desc:"7 Damage"},{name:"Rabid Sheep",desc:"6 Damage. Enemy loses 3 recruits"},{name:"Imp",desc:"6 Damage. All players lose 5 bricks, gems and recruits"},{name:"Spizzer",desc:"If enemy wall = 0, 10 damage, else 6 damage"},{name:"Werewolf",desc:"9 Damage"},{name:"Corrosion Cloud",desc:"If enemy wall > 0, 10 damage, else 7 damage"},{name:"Unicorn",desc:"If magic > enemy magic, 12 damage, else 8 damage"},{name:"Elven Archers",desc:"If wall > enemy wall, 6 damage to enemy tower, else 6 damage"},{name:"Succubus",desc:"5 Damage to enemy tower, enemy loses 8 recruits"},{name:"Rock Stompers",desc:"8 Damage, -1 enemy quarry"},{name:"Thief",desc:"Enemy loses 10 gems, 5 bricks, you gain 1/2 amt. round up"},{name:"Stone Giant",desc:"10 Damage. +4 Wall"},{name:"Vampire",desc:"10 Damage. Enemy loses 5 recruits, -1 enemy dungeon"},{name:"Dragon",desc:"20 Damage. Enemy loses 10 gems, -1 enemy dungeon"},{name:"Spearman",desc:"If wall > enemy wall do 3 damage else do 2 damage"},{name:"Gnome",desc:"3 Damage. +1 Gem"},{name:"Berserker",desc:"8 Damage. 3 Damage to your tower"},{name:"Warlord",desc:"13 Damage. You lose 3 gems"},{name:"Pegasus Lancer",desc:"12 Damage to enemy tower"}],K=Object.freeze(Object.defineProperty({__proto__:null,cardsI18n:Y},Symbol.toStringTag,{value:"Module"})),U=[{name:"On The House",location:"Harmondale"},{name:"Griffin's Rest",location:"Erathia"},{name:"Emerald Inn",location:"The Tularean Forest"},{name:"The Snobbish Goblin",location:"Deyja"},{name:"Familiar Place",location:"The Bracada Desert"},{name:"The Blessed Brew",location:"Celeste"},{name:"The Vampyre Lounge",location:"The Pit"},{name:"The Laughing Monk",location:"Evenmorn Island"},{name:"Fortune's Folly",location:"Mount Nighon"},{name:"Miner's Only",location:"The Barrow Downs"},{name:"The Loyal Mercenary",location:"Tatalia"},{name:"The Potted Pixie",location:"Avlee"},{name:"Grogg's Grog",location:"Stone City"},{name:"The Grog and Grub",location:"Dagger Wound Island"},{name:"Kessel's Kantina",location:"Ravenshore"},{name:"Profit House",location:"Alvar"},{name:"Parched Throat",location:"Ironsand Desert"},{name:"Dragon's Blood Inn",location:"Garrote Gorge"},{name:"Black Company",location:"Shadowspire"},{name:"Traveler's Rest",location:"Murmurwoods"},{name:"Bull's Eye Inn",location:"Ravage Roaming"},{name:"Pirate's Rest",location:"Regna"},{name:"The Dancing Ogre",location:"Ravenshore"},{name:"Miho's Roadhouse",location:"Alvar"},{name:"Lord Osric Temper",location:"Free Haven"},{name:"Lord Anthony Stone",location:"Frozen Highlands"},{name:"Lord Erik von Stromgard",location:"Frozen Highlands"},{name:"Lady Loretta Fleise",location:"Silver Cove"},{name:"Lord Albert Newton",location:"Misty Islands"},{name:"Prince Nicolai Ironfist",location:"Castle Ironfist"}],J=Object.freeze(Object.defineProperty({__proto__:null,tavernsI18n:U},Symbol.toStringTag,{value:"Module"})),Q="2.0.1",X="https://github.com/arcomage/arcomage-hd",Z="arcomagehdls",ee="arcomagehdls_ver",te="6",ne="e",re="m",se="o",oe="q",ae="u",ie="B",le="C",ce="E",de="I",pe="J",ue="K",me="L",be="M",fe="V",ye="01",ge="02",_e="03",he="04",we="05",xe="06",ve="07",je="0c",Pe="0d",Se="0h",ke="0k",Te="0l",Oe="0m",Ne="0n",Ee="0o",Ce="0p",Me="0q",Ie="0s",De="0u",ze="0v",Re="0x",Le=e=>{const{tower:t,wall:n,brickProd:r,gemProd:s,recruitProd:o,bricks:a,gems:i,recruits:l}=e;return{tower:t,wall:n,brickProd:r,gemProd:s,recruitProd:o,bricks:a,gems:i,recruits:l}},Ae=e=>{const{winTower:t,winResource:n}=e;return{winTower:t,winResource:n}},He={tower:20,wall:10,brickProd:2,gemProd:2,recruitProd:2,bricks:5,gems:5,recruits:5,winTower:50,winResource:100,cardsInHand:5},Fe={player:Le(He),opponent:Le(He)},qe=["😎","🤣","😃","😂","🧐","🤓","🦄","🧝","🧙","🧚","👶","💂","🤴","👸","👨","👩","🚶","🦸","😺","🐶","🐼"],Be=["😈","💀","🤬","💩","🤡","👹","👺","👻","👽","👾","🧛","🦹","🤖","💻","📱","🧟","🧞","🎃","🦁","🐯","🐍"],$e=!1,Ge=!1,We=!0,Ve={brightness:1,contrast:1,grayscale:0,sepia:0,saturate:1,hue:0,invert:0,opacity:1,twist:!1,grain:!1},Ye=!1,Ke=l(i({playerName:"",opponentName:""},He),{cardsInHand:He.cardsInHand}),Ue=f(((e,t)=>{if("h"===t.type)e.aiLevel=t.aiLevel}),{aiLevel:0}),Je=f(((e,t)=>{switch(t.type){case"O":return t.payload;case"F":e.list.push({n:t.n,position:-1,owner:"common",unusable:!1,discarded:!1,isFlipped:!0,zeroOpacity:!1});break;case"G":{const{owner:n}=t,r=e.nextPos[n];e.total[n]+=1;const s=e.list;s.forEach((e=>{(null==e?void 0:e.owner)===n&&e.position>=r&&(e.position+=1)}));const o=s[s.length-1];null!==o&&(o.position=r,o.owner=n,o.isFlipped=!1);break}case"t":{const n=e.list[t.index];null!==n&&(n.position=-5,n.unusable=!0,n.owner="common");break}case"v":{const n=e.list[t.index];null!==n&&(n.position=t.toPosition,n.unusable=!0,n.owner="common");break}case"r":{const n=e.list[t.index];null!==n&&(n.position=-1,n.unusable=!0,n.isFlipped=!0,n.owner="common");break}case"s":{const n=e.list[t.index];null!==n&&(n.zeroOpacity=!0);break}case"x":if(null!==e.list[t.index]){const n=t.owner;e.total[n]-=1,e.list.forEach((e=>{(null==e?void 0:e.owner)===n&&e.position>t.position&&(e.position-=1)})),e.nextPos[n]=t.position}break;case"A":{const n=e.list[t.index];null!==n&&(n.discarded=!0);break}case"w":null!==e.list[t.index]&&(e.list[t.index]=null);break;case"Y":t.unusables.forEach((t=>{const n=e.list[t];null!==n&&(n.unusable=!0)})),t.usables.forEach((t=>{const n=e.list[t];null!==n&&(n.unusable=!1)}))}}),{total:{player:0,opponent:0},list:[],nextPos:{player:0,opponent:0}}),Qe={playersTurn:!0,locked:[!1,!1],discardMode:!1,isNewTurn:!0},Xe=f(((e,t)=>{var n;switch(t.type){case"P":return l(i({},Qe),{playersTurn:t.playersTurn});case"W":e.discardMode=t.on;break;case"U":e.playersTurn=!e.playersTurn;break;case fe:{const r=null!=(n=t.locknumber)?n:0;e.locked[r]=t.on;break}case"Z":e.isNewTurn=t.on}}),Qe),Ze=Object.entries,et=e=>e.reduce(((e,[t,n])=>l(i({},e),{[t]:n})),{}),tt=Object.keys,nt={en:{local:"English",en:"English",isLatinScript:!0,isRtl:!1},fr:{local:"Français",en:"French",isLatinScript:!0,isRtl:!1},de:{local:"Deutsch",en:"German",isLatinScript:!0,isRtl:!1},"zh-Hans":{local:"简体中文",en:"Simplified Chinese",isLatinScript:!1,isRtl:!1},"zh-Hant":{local:"繁體中文",en:"Traditional Chinese",isLatinScript:!1,isRtl:!1},ru:{local:"Русский",en:"Russian",isLatinScript:!1,isRtl:!1},pl:{local:"Polski",en:"Polish",isLatinScript:!0,isRtl:!1},es:{local:"Español",en:"Spanish",isLatinScript:!0,isRtl:!1},it:{local:"Italiano",en:"Italian",isLatinScript:!0,isRtl:!1},cs:{local:"Čeština",en:"Czech",isLatinScript:!0,isRtl:!1},"pt-BR":{local:"Português (Brasil)",en:"Brazilian Portuguese",isLatinScript:!0,isRtl:!1},ja:{local:"日本語",en:"Japanese",isLatinScript:!1,isRtl:!1},uk:{local:"Українська",en:"Ukrainian",isLatinScript:!1,isRtl:!1},ar:{local:"العربية",en:"Arabic",isLatinScript:!1,isRtl:!0}},rt=tt(nt),st="en",ot=Object.freeze(Object.defineProperty({__proto__:null,defaultLang:st,langInfo:nt,langs:rt},Symbol.toStringTag,{value:"Module"})),at=f(((e,t)=>{switch(t.type){case"1":e.code=t.lang;break;case"3":e.boldfont=t.boldfont;break;case"5":e.erathian=t.erathian}}),{code:st,boldfont:$e,erathian:Ge}),it=i({},He),lt=f(((e,t)=>{switch(t.type){case"0f":e.on=t.on;break;case Se:e.yourId=t.id;break;case ke:e.opponentId=t.id;break;case Te:e.status=t.status;break;case Ce:e.gameNumber=t.n;break;case Oe:null!==t.payload&&(e.tempSettings=t.payload);break;case Ne:e.tempPlayerName=t.name;break;case Ee:e.tempOpponentName=t.name}}),{on:!1,yourId:"",opponentId:"",status:"disconnected",tempSettings:it,tempPlayerName:"",tempOpponentName:"",gameNumber:-1}),ct=f(((e,t)=>{switch(t.type){case ye:e.pref=t.show;break;case ge:e.langPref=t.show;break;case _e:e.sgPref=t.show;break;case he:e.help=t.show;break;case we:e.landscape=t.show;break;case xe:e.disconnectNotice=t.show;break;case"08":e.end.type=t.payload.type,e.end.surrender=t.payload.surrender,e.end.reasons=t.payload.reasons}}),{pref:!1,langPref:!1,sgPref:!1,help:!1,landscape:!1,disconnectNotice:!1,end:{type:null}}),dt=f(((e,t)=>{if(t.type===pe)return i(i({},e),t.payload)}),Ke),pt=f(((e,t)=>{switch(t.type){case"7":e.volume=t.volume;break;case"9":e.stereo=t.stereo}}),{volume:5,stereo:We}),ut=y({status:f(((e,t)=>{switch(t.type){case"Q":return{player:i({},t.payload),opponent:i({},t.payload)};case"j":for(const n of t.payload){const{isPlayer:t,statusProp:r}=n;"to"in n?e[t?"player":"opponent"][r]=n.to:e[t?"player":"opponent"][r]+=n.diff}}}),Fe),lang:at,cards:Je,game:Xe,settings:dt,screen:ct,sound:pt,visual:f(((e,t)=>{switch(t.type){case"b":e.noanim=t.noanim;break;case"d":e.pixelation=t.pixelation;break;case"f":e.visualvalues=i(i({},e.visualvalues),t.payload)}}),{noanim:Ye,pixelation:0,visualvalues:Ve}),ai:Ue,multiplayer:lt}),mt=g(),bt=_({reducer:ut,middleware:e=>e().concat(mt),devTools:!1}),ft=()=>w(),yt=h,gt=(e,t)=>{let n=e(bt.getState());return bt.subscribe((()=>{const r=e(bt.getState());r!==n&&(n=r,t(r))}))},_t=d.createContext({i18n:()=>"",cards:()=>"",taverns:()=>""}),ht={tower:"tower",wall:"wall",resource:"resource",brick:"brick",bricks:"bricks",gem:"gem",gems:"gems",recruit:"recruit",recruits:"recruits",quarry:"quarry",magic:"magic",dungeon:"dungeon","Your %s":"Your %s","Opponent's %s":"Opponent's %s","1 brick":"1 brick","%s bricks":"%s bricks","1 gem":"1 gem","%s gems":"%s gems","1 recruit":"1 recruit","%s recruits":"%s recruits","This card costs %s":"This card costs %s",allUnusableTip:"All cards are unusable, you must discard a card by right-clicking or long-pressing on it","Your %sp":"Your %sp","Opponent's %sp":"Opponent's %sp","%s1. Reach %s2 to win":"%s1. Reach %s2 to win","%s (%ss production)":"%s (%ss production)",discarded:"discarded","Discard a card":"Discard a card","You Win!":"You Win!","You Lose!":"You Lose!","Tie Game":"Tie Game","%s has reached the victory condition":"%s has reached the victory condition","%s have reached the victory condition":"%s have reached the victory condition","Your opponent has no tower left":"Your opponent has no tower left","You have no tower left":"You have no tower left","Review cards":"Review cards","Hide cards":"Hide cards",". ":". ",Preferences:"Preferences",": ":": ","Your Name":"Your Name","Opponent's Name":"Opponent's Name","Choose a Tavern (Preset Preferences)":"Choose a Tavern (Preset Preferences)","Castle in Enroth":"Castle in Enroth",Antagarich:"Antagarich",Jadame:"Jadame",Default:"Default",Customized:"Customized","Starting Conditions":"Starting Conditions","Victory Conditions":"Victory Conditions","Minimum is starting %s1 + 1 = %s0":"Minimum is starting %s1 + 1 = %s0","Minimum is MAX(%s1+%s2, %s3+%s4, %s5+%s6) + 1 = %s0":"Minimum is MAX(%s1+%s2, %s3+%s4, %s5+%s6) + 1 = %s0","Other Preferences":"Other Preferences","Cards in Hand":"Cards in Hand","AI Level":"AI Level",Genius:"Genius",Smart:"Smart",Mediocre:"Mediocre",Stupid:"Stupid",Idiotic:"Idiotic",Multiplayer:"Multiplayer",off:"off",on:"on","Your ID":"Your ID","Enter your opponent's ID":"Enter your opponent's ID",Connect:"Connect",Copy:"Copy","Copied 📋✅":"Copied 📋✅","Connecting to the network ⌛":"Connecting to the network ⌛","Connected to the network (but not to anyone) 🟡":"Connected to the network (but not to anyone) 🟡","Connecting to ID %s ⌛":"Connecting to ID %s ⌛","Connected to ID %s ✅ You're the host 🏠":"Connected to ID %s ✅ You're the host 🏠","Connected by ID %s ✅ You're the guest 💼":"Connected by ID %s ✅ You're the guest 💼","Connection failed ❌":"Connection failed ❌","Disconnected 🔌":"Disconnected 🔌","You are playing against computer AI":"You are playing against computer AI","You are playing against human":"You are playing against human",'You and your opponent are disconnected. Please go to "Preferences" and start a new game.':'You and your opponent are disconnected. Please go to "Preferences" and start a new game.',"Multiplayer Mode is experimental and works only for users behind non-symmetric NAT":"Multiplayer Mode is experimental and works only for users behind non-symmetric NAT",Reset:"Reset","Apply & New Game":"Apply & New Game",Cancel:"Cancel",Language:"Language","Sound & Graphics":"Sound & Graphics",Sound:"Sound",Volume:"Volume",Mute:"Mute","Stereo Sound":"Stereo Sound",Graphics:"Graphics","Disable animation":"Disable animation",Pixelation:"Pixelation","Visual Preset":"Visual Preset","Filter may slow down the game":"Filter may slow down the game",Normal:"Normal",Vibrant:"Vibrant","Black and white":"Black and white",Nostalgia:"Nostalgia",Bright:"Bright",Dark:"Dark",Brightness:"Brightness",Contrast:"Contrast",Grayscale:"Grayscale",Sepia:"Sepia",Saturate:"Saturate",Hue:"Hue",Invert:"Invert",Opacity:"Opacity",Twist:"Twist",Grain:"Grain",Filters:"Filters",Help:"Help","Toggle Full Screen":"Toggle Full Screen",GitHub:"GitHub","Bold font":"Bold font",ERATHIAN:"Use Erathian %s (latin script languages only)","ArcoMage HD":"ArcoMage HD",DESC:"Web-based free and open source HD clone of 3DO and NWC's 2000 card game Arcomage","Please go to %s to view more information (including %s1), star the repo and follow %s2 there.":"Please go to %s to view more information (including %s1), star the repo and follow %s2 there.","the GitHub project page":"the GitHub project page","an informative tutorial image in English":"an informative tutorial image in English","Game rules":"Game rules",GAMERULES:"Victory conditions vary per tavern. Build your tower, destroy your opponent's tower, or collect enough resources before your opponent does.\nLarge yellow numbers in column are the productions. This is how many new units of a particular resource you will receive on your next turn. Small black numbers in column are the resources. This is how many units you have available to spend on your current turn.\nCards: Each have their own cost to play, indicated in a small circle in the lower right corner of the card. The cost will be deducted from your resources according to the color of the card. Left click on a card plays the card. Right click on a card to discard without playing.\nRed represents your Quarry Generator which produces your Brick resources, blue represents your Magic Generator which produces Gem resources, green represents your Dungeon generator which produces Recruit resources.","With no usable or discardable card, your opponent has surrendered":"With no usable or discardable card, your opponent has surrendered","With no usable or discardable card, you have surrendered":"With no usable or discardable card, you have surrendered",'With no usable or discardable card, you must surrender. Open the "%s1" window and click "%s2" (or ask your opponent to do so)':'With no usable or discardable card, you must surrender. Open the "%s1" window and click "%s2" (or ask your opponent to do so)',"Please rotate your device to landscape mode":"Please rotate your device to landscape mode"},wt=Object.freeze(Object.defineProperty({__proto__:null,i18n:ht},Symbol.toStringTag,{value:"Module"})),xt={i18n:ht,cards:Y,taverns:U},vt=Object.assign({"./cards/ar.ts":()=>V((()=>import("./ar-cBXXV90k.js")),[]),"./cards/cs.ts":()=>V((()=>import("./cs-Yefx00jc.js")),[]),"./cards/de.ts":()=>V((()=>import("./de-CQ3uVE6Q.js")),[]),"./cards/en.ts":()=>V((()=>Promise.resolve().then((()=>K))),void 0),"./cards/es.ts":()=>V((()=>import("./es-doAvX8DT.js")),[]),"./cards/fr.ts":()=>V((()=>import("./fr-OJ4c_-M3.js")),[]),"./cards/it.ts":()=>V((()=>import("./it-CmPtuGfT.js")),[]),"./cards/ja.ts":()=>V((()=>import("./ja-OGHlnIMq.js")),[]),"./cards/pl.ts":()=>V((()=>import("./pl-DBgDFfQQ.js")),[]),"./cards/pt-BR.ts":()=>V((()=>import("./pt-BR-BF_gVi6F.js")),[]),"./cards/ru.ts":()=>V((()=>import("./ru-CdTgBDRm.js")),[]),"./cards/uk.ts":()=>V((()=>import("./uk-JeblRLCm.js")),[]),"./cards/zh-Hans.ts":()=>V((()=>import("./zh-Hans-CmWGsh0W.js")),[]),"./cards/zh-Hant.ts":()=>V((()=>import("./zh-Hant-CNTp0rZI.js")),[]),"./langs.ts":()=>V((()=>Promise.resolve().then((()=>ot))),void 0),"./main/ar.ts":()=>V((()=>import("./ar-4wLmPgqM.js")),[]),"./main/cs.ts":()=>V((()=>import("./cs-MFQmT3sY.js")),[]),"./main/de.ts":()=>V((()=>import("./de-Wst09QFw.js")),[]),"./main/en.ts":()=>V((()=>Promise.resolve().then((()=>wt))),void 0),"./main/es.ts":()=>V((()=>import("./es-sFHA_kpO.js")),[]),"./main/fr.ts":()=>V((()=>import("./fr-TAm-HUrW.js")),[]),"./main/it.ts":()=>V((()=>import("./it-C7_ewQ84.js")),[]),"./main/ja.ts":()=>V((()=>import("./ja-ChZUrVOT.js")),[]),"./main/pl.ts":()=>V((()=>import("./pl-CC2cigU3.js")),[]),"./main/pt-BR.ts":()=>V((()=>import("./pt-BR-BO3Ebcd9.js")),[]),"./main/ru.ts":()=>V((()=>import("./ru-BXzaMaRY.js")),[]),"./main/uk.ts":()=>V((()=>import("./uk-B5sdFrHm.js")),[]),"./main/zh-Hans.ts":()=>V((()=>import("./zh-Hans-Bf9nf46e.js")),[]),"./main/zh-Hant.ts":()=>V((()=>import("./zh-Hant-BNilLo48.js")),[]),"./taverns/ar.ts":()=>V((()=>import("./ar-B_fR-gH4.js")),[]),"./taverns/cs.ts":()=>V((()=>import("./cs-BylOk9-4.js")),[]),"./taverns/de.ts":()=>V((()=>import("./de-xbRvLe32.js")),[]),"./taverns/en.ts":()=>V((()=>Promise.resolve().then((()=>J))),void 0),"./taverns/es.ts":()=>V((()=>import("./es-DKN0UO27.js")),[]),"./taverns/fr.ts":()=>V((()=>import("./fr-BD4GbAOh.js")),[]),"./taverns/it.ts":()=>V((()=>import("./it-B57qKxfh.js")),[]),"./taverns/ja.ts":()=>V((()=>import("./ja-Dw2OQfVI.js")),[]),"./taverns/pl.ts":()=>V((()=>import("./pl-WX4Ka4Pv.js")),[]),"./taverns/pt-BR.ts":()=>V((()=>import("./pt-BR-Dj0K65Bh.js")),[]),"./taverns/ru.ts":()=>V((()=>import("./ru-D6VFEaQa.js")),[]),"./taverns/uk.ts":()=>V((()=>import("./uk-7qnt5vF_.js")),[]),"./taverns/zh-Hans.ts":()=>V((()=>import("./zh-Hans-61H8lVnM.js")),[]),"./taverns/zh-Hant.ts":()=>V((()=>import("./zh-Hant-CJO4kkDb.js")),[]),"./types.ts":()=>V((()=>Promise.resolve().then((()=>Uc))),void 0)}),jt=e=>{const t=p.c(16),{children:n}=e,[r,s]=d.useState(xt),o=yt(Pt);let a,i,l,c,m,b,f;return t[0]!==o?(a=()=>{(async()=>{const[e,t,n]=await Promise.all([vt[`./main/${o}.ts`](),vt[`./cards/${o}.ts`](),vt[`./taverns/${o}.ts`]()]),{i18n:r}=e,{cardsI18n:a}=t,{tavernsI18n:i}=n;s({i18n:r,cards:a,taverns:i})})()},i=[o],t[0]=o,t[1]=a,t[2]=i):(a=t[1],i=t[2]),d.useEffect(a,i),t[3]!==r.i18n?(l=e=>{var t,n;return null!=(n=null==(t=r.i18n)?void 0:t[e])?n:""},t[3]=r.i18n,t[4]=l):l=t[4],t[5]!==r.cards?(c=(e,t)=>{var n;const s=r.cards,o=null==s?void 0:s[e];return null!=(n=null==o?void 0:o[t])?n:""},t[5]=r.cards,t[6]=c):c=t[6],t[7]!==r.taverns?(m=(e,t)=>{var n;const s=r.taverns,o=null==s?void 0:s[e];return null!=(n=null==o?void 0:o[t])?n:""},t[7]=r.taverns,t[8]=m):m=t[8],t[9]!==l||t[10]!==c||t[11]!==m?(b={i18n:l,cards:c,taverns:m},t[9]=l,t[10]=c,t[11]=m,t[12]=b):b=t[12],t[13]!==n||t[14]!==b?(f=u.jsx(_t.Provider,{value:b,children:n}),t[13]=n,t[14]=b,t[15]=f):f=t[15],f};function Pt(e){return e.lang.code}const St=500,kt={width:window.innerWidth,height:window.innerHeight,narrowMobile:window.innerHeight<=499},Tt=d.createContext(kt),Ot=e=>{const t=p.c(5),{children:n}=e,[r,s]=d.useState(kt);let o,a,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const e=()=>{s({width:window.innerWidth,height:window.innerHeight,narrowMobile:window.innerHeight<=499})};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},a=[],t[0]=o,t[1]=a):(o=t[0],a=t[1]),d.useEffect(o,a),t[2]!==n||t[3]!==r?(i=u.jsx(Tt.Provider,{value:r,children:n}),t[2]=n,t[3]=r,t[4]=i):i=t[4],i},Nt="_main_1o18h_1",Et=()=>{const e=p.c(19),t=yt(Ct),n=`.pixelated { filter: ${t>0?"url(#pixelation)":"none"}; }`;let r,s,o,a,i;e[0]!==n?(r=u.jsx("style",{children:n}),e[0]=n,e[1]=r):r=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx("feFlood",{x:"1",y:"1",height:"1",width:"1"}),e[2]=s):s=e[2],e[3]!==t?(o=u.jsx("feComposite",{width:t,height:t}),e[3]=t,e[4]=o):o=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("feTile",{}),i=u.jsx("feComposite",{in:"SourceGraphic",operator:"in"}),e[5]=a,e[6]=i):(a=e[5],i=e[6]);const l=t/2;let c,d,m,b,f,y;return e[7]!==l?(c=u.jsx("feMorphology",{operator:"dilate",radius:l}),e[7]=l,e[8]=c):c=e[8],e[9]!==o||e[10]!==c?(d=u.jsxs("filter",{id:"pixelation",x:"0",y:"0",children:[s,o,a,i,c]}),e[9]=o,e[10]=c,e[11]=d):d=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsxs("filter",{id:"twist",children:[u.jsx("feTurbulence",{id:"turbulence4",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"3"}),u.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8"})]}),e[12]=m):m=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsxs("filter",{id:"grain",children:[u.jsx("feTurbulence",{baseFrequency:"0.60,0.90",result:"colorNoise"}),u.jsx("feColorMatrix",{in:"colorNoise",type:"matrix",values:".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"}),u.jsx("feComposite",{operator:"in",in2:"SourceGraphic",result:"monoNoise"}),u.jsx("feBlend",{in:"SourceGraphic",in2:"monoNoise",mode:"multiply"})]}),e[13]=b):b=e[13],e[14]!==d?(f=u.jsxs("svg",{className:Nt,"aria-hidden":!0,children:[d,m,b]}),e[14]=d,e[15]=f):f=e[15],e[16]!==r||e[17]!==f?(y=u.jsxs(u.Fragment,{children:[r,f]}),e[16]=r,e[17]=f,e[18]=y):y=e[18],y};function Ct(e){return e.visual.pixelation}const Mt=[{term:"brightness",css:"brightness",en:"Brightness",type:"main"},{term:"contrast",css:"contrast",en:"Contrast",type:"main"},{term:"grayscale",css:"grayscale",en:"Grayscale",type:"main"},{term:"sepia",css:"sepia",en:"Sepia",type:"main"},{term:"saturate",css:"saturate",en:"Saturate",type:"main"},{term:"hue",css:"hue-rotate",en:"Hue",type:"main"},{term:"invert",css:"invert",en:"Invert",type:"main"},{term:"opacity",css:"opacity",en:"Opacity",type:"main"},{term:"twist",css:"twist",en:"Twist",type:"filter"},{term:"grain",css:"grain",en:"Grain",type:"filter"}],It=[{en:"Normal",values:{}},{en:"Vibrant",values:{saturate:1.5,contrast:1.1}},{en:"Black and white",values:{grayscale:1}},{en:"Nostalgia",values:{brightness:1.1,contrast:1.1,sepia:.5,saturate:.9}},{en:"Bright",values:{brightness:1.3,contrast:1.1}},{en:"Dark",values:{brightness:.7,contrast:1.1}}],Dt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled"]],zt=(()=>{const e=Dt[0];for(const t of Dt){const n=null==t?void 0:t[1];if("undefined"!=typeof document&&n in document)return e.reduce(((e,n,r)=>l(i({},e),{[n]:t[r]})),{})}return null})(),Rt=null==zt?void 0:zt.requestFullscreen,Lt=null==zt?void 0:zt.exitFullscreen,At=null==zt?void 0:zt.fullscreenElement,Ht=null==zt?void 0:zt.fullscreenEnabled,Ft=!!Ht&&document[Ht],qt=e=>{const t=e.screen;for(const n in t)if("end"===n){if(t.end.type)return!0}else if(t[n])return!0;return!1},Bt=["targetExists","content"],$t={listeners:new Map,add:(e,t,n)=>{$t.listeners.has(e)||$t.listeners.set(e,[null,null]);const r=$t.listeners.get(e),s=Bt.indexOf(t);null!==r[s]&&$t.remove(e,t),r[s]=n},remove:(e,t)=>{var n,r;if(!$t.listeners.has(e))return;const s=$t.listeners.get(e),o=Bt.indexOf(t);switch(t){case"targetExists":null==(n=s[o])||n.disconnect(),s[o]=null;break;case"content":null==(r=s[o])||r.disconnect(),s[o]=null}}},Gt=(e,t="all")=>{const n=e.getAttribute("aria-describedby");if(n){const t=document.getElementById(n);t&&(t.classList.remove("tooltip-show"),setTimeout((()=>{var e;null==(e=t.parentNode)||e.removeChild(t)}),300)),e.removeAttribute("aria-describedby")}"all"!==t&&"targetExists"!==t||$t.remove(e,"targetExists"),"all"!==t&&"content"!==t||$t.remove(e,"content")},Wt=e=>{Gt(e);const t=e.dataset.tooltipContent,n=e.dataset.tooltipPosition||"top";let r;if(t){r=document.createElement("div"),r.classList.add("tooltip"),setTimeout((()=>{r&&r.classList.add("tooltip-show")}),0),r.textContent=t,document.body.appendChild(r);const s=e.getBoundingClientRect(),o=r.getBoundingClientRect();let a=0,i=0;switch(n){case"top":a=s.top-o.height-6,i=s.left+s.width/2-o.width/2;break;case"bottom":a=s.bottom+6,i=s.left+s.width/2-o.width/2;break;case"left":a=s.top+s.height/2-o.height/2,i=s.left-o.width-6;break;case"right":a=s.top+s.height/2-o.height/2,i=s.right+6}r.style.left=`${i}px`,r.style.top=`${a}px`,r.style.width=`${o.width}px`,r.style.height=`${o.height}px`,r.setAttribute("role","tooltip"),r.classList.add(`tooltip-${n}`);const l=`tooltip-${Date.now()}`;r.id=l,e.setAttribute("aria-describedby",r.id),((e,t)=>{if(!e)return;const n=e.getBoundingClientRect();let r=n.left,s=n.top;const o={};if(n.right>window.innerWidth&&(o.x=n.right-window.innerWidth,r=window.innerWidth-n.width),n.left<0&&(o.x=-Math.abs(n.left),r=0),n.bottom>window.innerHeight&&(o.y=n.bottom-window.innerHeight,s=window.innerHeight-n.height),n.top<0&&(o.y=-Math.abs(n.top),s=0),e.style.left=`${r}px`,e.style.top=`${s}px`,0!==Object.keys(o).length){const n=document.getElementById(`${t}-style`);n&&e.removeChild(n);const r=document.createElement("style");r.id=`${t}-style`,r.textContent=`\n#${t}.tooltip-bottom::before, #${t}.tooltip-top::before {\n  left: calc(50% + ${o.x}px);\n}\n#${t}.tooltip-left::before, #${t}.tooltip-right::before {\n  top: calc(50% + ${o.y}px);\n}`,e.appendChild(r)}})(r,l)}const s=new MutationObserver((t=>{t.forEach((t=>{var n;if("attributes"===t.type&&"data-tooltip-content"===t.attributeName){const t=null!=(n=e.getAttribute("data-tooltip-content"))?n:"";t?r&&document.body.contains(r)?r.textContent=t:Wt(e):Gt(e,"targetExists")}}))}));e&&(s.observe(e,{attributes:!0}),$t.add(e,"content",s))},Vt={onPointerEnter:e=>{if("mouse"===e.pointerType){const t=e.currentTarget;Wt(t);const n=new MutationObserver((()=>{document.body.contains(t)||Gt(t)}));n.observe(document.body,{childList:!0,subtree:!0}),$t.add(t,"targetExists",n)}},onPointerLeave:e=>{if("mouse"===e.pointerType){const t=e.currentTarget;Gt(t)}},onTouchStart:e=>{const t=e.currentTarget;Wt(t);const n=new MutationObserver((()=>{document.body.contains(t)||Gt(t)}));n.observe(document.body,{childList:!0,subtree:!0}),$t.add(t,"targetExists",n)},onTouchEnd:e=>{const t=e.currentTarget;Gt(t)}},Yt=(e="",t="top",n)=>{const{noTouch:r=!1}=n||{};return i({"data-tooltip-content":e,"data-tooltip-position":t},r?{onPointerEnter:Vt.onPointerEnter,onPointerLeave:Vt.onPointerLeave}:Vt)},Kt="_fullscreenbutton_fjwmq_21",Ut=()=>{const e=p.c(12),t=d.useContext(_t),n=yt(qt),r=Jt;let s,o,a,c,m,b;return e[0]!==n?(s=n?{tabIndex:-1}:{},e[0]=n,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o=x("topbutton",Kt),e[2]=o):o=e[2],e[3]!==t?(a=Yt(t.i18n("Toggle Full Screen"),"bottom"),e[3]=t,e[4]=a):a=e[4],e[5]!==t?(c=t.i18n("Toggle Full Screen"),e[5]=t,e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{className:"el-0",d:"m2.09 8.877-0.086-6.187c-0.0033931-0.31548 0.25352-0.57195 0.569-0.568l6.188 0.09c0.49627 0.00613 0.73988 0.60701 0.388 0.957l-1.722 1.721 2.863 2.863-2.658 2.658-2.863-2.863-1.722 1.722c-0.348 0.348-0.949 0.102-0.957-0.393z"}),u.jsx("path",{className:"el-1",d:"m19.231 7.585 1.722 1.722c0.35033 0.3522 0.95174 0.10774 0.957-0.389l0.09-6.188c0.0034-0.31509-0.25291-0.57138-0.568-0.568l-6.189 0.09c-0.49626 0.00613-0.73988 0.60701-0.388 0.957l1.718 1.713-2.863 2.863 2.658 2.659z"}),u.jsx("path",{className:"el-2",d:"m2.573 21.839 6.188-0.09c0.49627-0.0061 0.73988-0.607 0.388-0.957l-1.722-1.718 2.863-2.863-2.658-2.659-2.863 2.863-1.722-1.722c-0.35033-0.3522-0.95174-0.10774-0.957 0.389l-0.09 6.188c0 0.315 0.258 0.573 0.573 0.569z"}),u.jsx("path",{className:"el-3",d:"m14.85 20.832c-0.35253 0.35067-0.10722 0.95262 0.39 0.957l6.187 0.09c0.31548 0.0039 0.57239-0.25252 0.569-0.568l-0.09-6.188c-0.0053-0.49674-0.60667-0.7412-0.957-0.389l-1.722 1.722-2.863-2.863-2.658 2.659 2.863 2.863z"})]}),e[7]=m):m=e[7],e[8]!==s||e[9]!==a||e[10]!==c?(b=u.jsx("button",l(i(l(i({},s),{accessKey:"f",className:o,onClick:r,onAuxClick:r}),a),{"aria-label":c,children:m})),e[8]=s,e[9]=a,e[10]=c,e[11]=b):b=e[11],b};function Jt(){Ft&&(At&&document[At]?Lt&&document[Lt]():Rt&&document.documentElement[Rt]())}const Qt="_githubbutton_68xxa_28",Xt=()=>{const e=p.c(12),t=d.useContext(_t),n=yt(qt);let r,s,o,a,c,m;return e[0]!==n?(r=n?{tabIndex:-1}:{},e[0]=n,e[1]=r):r=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(s=x("topbutton",Qt),e[2]=s):s=e[2],e[3]!==t?(o=Yt(t.i18n("GitHub"),"bottom"),e[3]=t,e[4]=o):o=e[4],e[5]!==t?(a=t.i18n("GitHub"),e[5]=t,e[6]=a):a=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{className:"el-0",d:"M11.968 1.714c-5.82 0-10.541 4.72-10.541 10.54 0 4.657 3.04 8.601 7.178 10.025.518.064.712-.26.712-.518v-1.81c-2.91.646-3.557-1.423-3.557-1.423-.453-1.229-1.164-1.552-1.164-1.552-.97-.647.064-.647.064-.647 1.035.065 1.617 1.1 1.617 1.1.97 1.616 2.458 1.164 3.04.905a2.252 2.252 0 01.646-1.423c-2.328-.258-4.785-1.164-4.785-5.238 0-1.164.388-2.07 1.1-2.845-.066-.194-.454-1.294.128-2.716 0 0 .906-.259 2.91 1.099.841-.259 1.747-.323 2.652-.323s1.81.129 2.651.323c2.005-1.358 2.91-1.1 2.91-1.1.582 1.423.194 2.523.13 2.781a4.183 4.183 0 011.1 2.846c0 4.074-2.458 4.915-4.786 5.173.388.324.711.97.711 1.94v2.91c0 .259.194.582.711.518a10.553 10.553 0 007.179-10.024c-.065-5.82-4.786-10.541-10.606-10.541z"}),u.jsx("path",{className:"el-1",d:"M11.968 1.714c-5.82 0-10.541 4.72-10.541 10.54 0 4.657 3.04 8.601 7.178 10.025.518.064.712-.26.712-.518v-1.81c-2.91.646-4.396-1.307-4.396-1.307-.453-1.23-1.164-1.552-1.164-1.552-.97-.647.065-.647.065-.647 1.035.065 1.617 1.1 1.617 1.1.97 1.616 3.296 1.048 3.878.789a2.252 2.252 0 01.646-1.423c-2.328-.258-4.785-1.164-4.785-5.238 0-1.164.388-2.07 1.1-2.845-.066-.194-.483-.253.1-1.675 0 0 .934-1.3 2.938.059.841-.26 1.747-.324 2.652-.324s1.81.13 2.651.323c2.005-1.358 2.881-.059 2.881-.059.582 1.423.223 1.482.159 1.74a4.183 4.183 0 011.1 2.846c0 4.074-2.458 4.915-4.786 5.173.388.324.711.97.711 1.94v2.91c0 .259.194.582.711.518 4.3-1.45 7.19-5.487 7.179-10.024-.065-5.82-4.786-10.541-10.606-10.541z"}),u.jsx("path",{className:"el-2",d:"M11.968 1.714c-5.82 0-10.541 4.72-10.541 10.54 0 4.657 3.04 8.601 7.178 10.025.518.064.712-.26.712-.518v-1.81c-2.91.646-2.66-1.597-2.66-1.597-.454-1.228-1.165-1.552-1.165-1.552-.97-.646.065-.646.065-.646 1.035.064 1.617 1.1 1.617 1.1.97 1.616 1.56 1.337 2.143 1.078a2.252 2.252 0 01.646-1.423c-2.328-.258-4.785-1.164-4.785-5.238 0-1.164.388-2.07 1.1-2.845-.066-.194-.396-2.017.186-3.439 0 0 .848.464 2.852 1.822.841-.259 1.747-.323 2.652-.323s1.81.129 2.651.323c2.005-1.358 2.968-1.823 2.968-1.823.582 1.423.136 3.246.072 3.504a4.183 4.183 0 011.1 2.846c0 4.074-2.458 4.915-4.786 5.173.388.324.711.97.711 1.94v2.91c0 .259.194.582.711.518 4.3-1.45 7.19-5.487 7.179-10.024-.065-5.82-4.786-10.541-10.606-10.541z"})]}),e[7]=c):c=e[7],e[8]!==r||e[9]!==o||e[10]!==a?(m=u.jsx("a",l(i(l(i({},r),{accessKey:"g",className:s,href:X,target:"_blank",rel:"noopener noreferrer",onContextMenu:Zt}),o),{"aria-label":a,children:c})),e[8]=r,e[9]=o,e[10]=a,e[11]=m):m=e[11],m};function Zt(){window.open(X)}const en="_helpbutton_66esn_12",tn="_windowactive_66esn_18",nn=()=>{const e=p.c(17),t=d.useContext(_t),n=yt(rn),r=yt(qt),s=ft();let o;e[0]!==s?(o=()=>{s({type:he,show:!0})},e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==r?(c=r?{tabIndex:-1}:{},e[2]=r,e[3]=c):c=e[3];const m=n&&tn;let b,f,y,g,_;return e[4]!==m?(b=x("topbutton",en,m),e[4]=m,e[5]=b):b=e[5],e[6]!==t?(f=Yt(t.i18n("Help"),"bottom"),e[6]=t,e[7]=f):f=e[7],e[8]!==t?(y=t.i18n("Help"),e[8]=t,e[9]=y):y=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M12,2.1c-5.5,0-9.9,4.4-9.9,9.9c0,5.5,4.4,9.9,9.9,9.9c5.5,0,9.9-4.4,9.9-9.9C21.9,6.5,17.5,2.1,12,2.1z M12,20.1c-4.5,0-8.1-3.6-8.1-8.1c0-4.5,3.6-8.1,8.1-8.1c4.5,0,8.1,3.6,8.1,8.1C20.1,16.5,16.5,20.1,12,20.1z"}),u.jsx("path",{d:"M11.8,6.7c-2.5,0-3.2,2.2-3.2,2.2L10,9.7c0,0,0.3-0.8,0.9-1.2c0.5-0.4,1.6-0.6,2.2,0.1c0.7,0.9-0.2,1.6-1.1,2.7 c-1,1.2-1,3.7-1,3.7h2c0,0,0.1-2.3,1-3.4c0.6-0.7,1.4-1.3,1.4-2.5S14.3,6.7,11.8,6.7z"}),u.jsx("rect",{x:"11",y:"16",width:"2",height:"2"})]}),e[10]=g):g=e[10],e[11]!==a||e[12]!==c||e[13]!==b||e[14]!==f||e[15]!==y?(_=u.jsx("button",l(i(l(i({},c),{accessKey:"h",className:b,onClick:a,onAuxClick:a}),f),{"aria-label":y,children:g})),e[11]=a,e[12]=c,e[13]=b,e[14]=f,e[15]=y,e[16]=_):_=e[16],_};function rn(e){return e.screen.help}const sn="_langprefbutton_1hahv_177",on="_windowactive_1hahv_183",an=()=>{const e=p.c(20),t=d.useContext(_t),n=yt(ln),r=yt(qt),s=ft();let o;e[0]!==s?(o=()=>{s({type:ge,show:!0})},e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==r?(c=r?{tabIndex:-1}:{},e[2]=r,e[3]=c):c=e[3];const m=n&&on;let b,f,y,g,_,h,w,v;return e[4]!==m?(b=x("topbutton",sn,m),e[4]=m,e[5]=b):b=e[5],e[6]!==t?(f=Yt(t.i18n("Language"),"bottom"),e[6]=t,e[7]=f):f=e[7],e[8]!==t?(y=t.i18n("Language"),e[8]=t,e[9]=y):y=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsxs("clipPath",{id:"cp",children:[u.jsx("path",{d:"m0.35579 8.7757v-7.824h1.764v6.336h3.096v1.488z"}),u.jsx("path",{d:"m7.3323 4.8159-0.192 0.72h1.668l-0.18-0.72q-0.168-0.58802-0.324-1.248t-0.312-1.272h-0.048q-0.144 0.624-0.3 1.284-0.144 0.648-0.312 1.236zm-2.832 3.9602 2.448-7.824h2.124l2.448 7.824h-1.872l-0.48-1.86h-2.388l-0.48 1.86z"}),u.jsx("path",{d:"m11.364 8.7757v-7.824h1.812l2.04 3.888 0.768 1.728h0.048q-0.06-0.624-0.144-1.392-0.072-0.768-0.072-1.464v-2.76h1.68v7.824h-1.812l-2.04-3.9001-0.768-1.704h-0.048q0.06 0.648 0.132 1.392 0.084 0.744 0.084 1.44v2.772z"}),u.jsx("path",{d:"m21.228 8.9197q-0.80398 0-1.512-0.252-0.696-0.264-1.212-0.768t-0.816-1.248q-0.288-0.75598-0.288-1.74 0-0.97202 0.3-1.728 0.3-0.768 0.816-1.296 0.528-0.528 1.224-0.80398t1.476-0.276q0.85198 0 1.464 0.312t0.99598 0.70798l-0.92402 1.128q-0.3-0.264-0.63602-0.44402t-0.84-0.18q-0.456 0-0.84 0.18-0.372 0.168-0.648 0.49202t-0.432 0.792q-0.144 0.46798-0.144 1.056 0 1.212 0.54002 1.884 0.552 0.65998 1.656 0.65998 0.24 0 0.46798-0.06t0.372-0.18v-1.344h-1.296v-1.44h2.856v3.6q-0.408 0.39602-1.08 0.672t-1.5 0.276z"}),u.jsx("path",{d:"m10.71 12.09h-2.82l1.095-0.615c-0.24-0.54002-0.705-1.335-1.11-1.95l-1.095 0.54002c0.40501 0.615 0.855 1.47 1.08 2.025h-2.715v1.11h5.565zm-0.52502 1.995h-4.4251v1.095h4.4251zm-4.4251 3.06h4.4251v-1.065h-4.4251z"}),u.jsx("path",{d:"m9.0749 19.215v2.145h-2.13v-2.145zm1.215-1.125h-4.5449v5.0699h1.2v-0.67498h3.345z"}),u.jsx("path",{d:"m16.23 13.83v1.995h-2.46c0.12-0.585 0.255-1.275 0.39001-1.995zm1.29 1.995v-3.135h-3.135c0.06-0.44999 0.15-0.91499 0.225-1.335h3.9148v-1.17h-7.6199v1.17h2.325c-0.06 0.41998-0.135 0.88502-0.225 1.335h-1.74v1.14h1.545c-0.135 0.72-0.27 1.41-0.40501 1.995h-1.89v1.155h8.3399v-1.155z"}),u.jsx("path",{d:"m16.65 19.11v2.43h-4.035v-2.43zm-5.325 4.2452h1.29v-0.6h4.035v0.54002h1.35v-5.4002h-6.675z"})]}),e[10]=g):g=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsxs("g",{strokeWidth:"1.8",children:[u.jsx("path",{className:"el-1",d:"m1.2434 0.86587v7.0859h3.7569"}),u.jsx("path",{className:"el-2",d:"m7.8843 0.55085-2.5518 8.6879"}),u.jsx("path",{className:"el-3",d:"m8.1109 0.42864 2.6089 8.7857"}),u.jsx("path",{className:"el-4",d:"m6.5286 6.256h2.9355"}),u.jsx("path",{className:"el-5",d:"m12.224 0.92869v7.8919"}),u.jsx("path",{className:"el-7",d:"m16.598 0.92753v7.8606"}),u.jsx("path",{className:"el-6",d:"m12.59 1.1549 3.8596 7.4297"})]}),h=u.jsx("path",{className:"el-8",d:"m20.865 5.0947h2.0403v2.455c-0.47429 0.27351-1.1606 0.36295-1.6744 0.40493s-0.79875-0.061202-1.1568-0.19281-0.66411-0.33053-0.92731-0.5876-0.47436-0.57229-0.62433-0.95486-0.22035-0.83243-0.22035-1.3313c0-0.49886 0.0765-0.93344 0.22953-1.3221 0.15303-0.38867 0.35807-0.72226 0.62433-0.99158s0.58148-0.47436 0.93649-0.61513 0.71308-0.21116 1.1293-0.21117c0.41622-5.2e-6 0.80794 0.079571 1.1201 0.23871 0.31217 0.15914 0.67667 0.41704 0.87252 0.61902",strokeWidth:"2"}),e[11]=_,e[12]=h):(_=e[11],h=e[12]),e[13]===Symbol.for("react.memo_cache_sentinel")?(w=u.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[g,u.jsxs("g",{className:"all",fill:"none",clipPath:"url(#cp)",children:[_,h,u.jsxs("g",{strokeWidth:"1.5",children:[u.jsx("path",{className:"el-9",d:"m7.3906 9.7344 1.0781 2.1562"}),u.jsx("path",{className:"el-10",d:"m5.812 12.672h4.5169"}),u.jsx("path",{className:"el-11",d:"m5.7185 14.688h4.4849"}),u.jsx("path",{className:"el-12",d:"m5.7341 16.578h4.5005"}),u.jsx("path",{className:"el-14",d:"m5.7341 18.688h3.9069v3.8432"}),u.jsx("path",{className:"el-15",d:"m6.3982 21.828h3.2974"}),u.jsx("path",{className:"el-13",d:"m6.375 18.141v5.1406"}),u.jsx("path",{className:"el-16",d:"m10.812 10.75h7.7818"}),u.jsx("path",{className:"el-19",d:"m11.265 16.359h7.204"}),u.jsx("path",{className:"el-18",d:"m11.23 13.211h5.7506v2.6089"}),u.jsx("path",{className:"el-22",d:"m11.988 22.055h5.3599"}),u.jsx("path",{className:"el-20",d:"m11.936 18.031v4.7391"}),u.jsx("path",{className:"el-17",d:"m13.953 10.984-0.92138 4.8281"}),u.jsx("path",{className:"el-21",d:"m11.965 18.586h5.3288v4.8432"})]})]})]}),e[13]=w):w=e[13],e[14]!==a||e[15]!==c||e[16]!==b||e[17]!==f||e[18]!==y?(v=u.jsx("button",l(i(l(i({},c),{accessKey:"l",className:b,onClick:a,onAuxClick:a}),f),{"aria-label":y,children:w})),e[14]=a,e[15]=c,e[16]=b,e[17]=f,e[18]=y,e[19]=v):v=e[19],v};function ln(e){return e.screen.langPref}const cn="_prefbutton_1xd0i_9",dn="_windowactive_1xd0i_15",pn=()=>{const e=p.c(17),t=d.useContext(_t),n=yt(un),r=yt(qt),s=ft();let o;e[0]!==s?(o=()=>{s({type:ye,show:!0})},e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==r?(c=r?{tabIndex:-1}:{},e[2]=r,e[3]=c):c=e[3];const m=n&&dn;let b,f,y,g,_;return e[4]!==m?(b=x("topbutton",cn,m),e[4]=m,e[5]=b):b=e[5],e[6]!==t?(f=Yt(t.i18n("Preferences"),"bottom"),e[6]=t,e[7]=f):f=e[7],e[8]!==t?(y=t.i18n("Preferences"),e[8]=t,e[9]=y):y=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})}),e[10]=g):g=e[10],e[11]!==a||e[12]!==c||e[13]!==b||e[14]!==f||e[15]!==y?(_=u.jsx("button",l(i(l(i({},c),{accessKey:"p",className:b,onClick:a,onAuxClick:a}),f),{"aria-label":y,children:g})),e[11]=a,e[12]=c,e[13]=b,e[14]=f,e[15]=y,e[16]=_):_=e[16],_};function un(e){return e.screen.pref}const mn="_sgprefbutton_1oz03_25",bn="_windowactive_1oz03_31",fn=()=>{const e=p.c(17),t=d.useContext(_t),n=yt(yn),r=yt(qt),s=ft();let o;e[0]!==s?(o=()=>{s({type:_e,show:!0})},e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==r?(c=r?{tabIndex:-1}:{},e[2]=r,e[3]=c):c=e[3];const m=n&&bn;let b,f,y,g,_;return e[4]!==m?(b=x("topbutton",mn,m),e[4]=m,e[5]=b):b=e[5],e[6]!==t?(f=Yt(t.i18n("Sound & Graphics"),"bottom"),e[6]=t,e[7]=f):f=e[7],e[8]!==t?(y=t.i18n("Sound & Graphics"),e[8]=t,e[9]=y):y=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{className:"el-0",d:"m12.584 3.3633a0.80007 0.80007 0 0 0-0.50195 0.19531l-5.2637 4.5527h-4.8984a0.80007 0.80007 0 0 0-0.79883 0.79883v6.1113a0.80007 0.80007 0 0 0 0.79883 0.79883h4.8184l5.3437 4.6211a0.80007 0.80007 0 0 0 1.3223-0.60352v-15.674a0.80007 0.80007 0 0 0-0.79492-0.80078 0.80007 0.80007 0 0 0-0.025391 0zm-5.3555 5.4805c2.9487 0 4.4004 2.8359 4.459 2.9531l0.099609 0.20312-0.099609 0.20312c-0.058613 0.11722-1.5103 2.9531-4.459 2.9531-2.9487 0-4.3998-2.8359-4.4629-2.9531l-0.099609-0.20312 0.10352-0.20312c0.058613-0.11722 1.5103-2.9531 4.459-2.9531zm0 0.90234c-1.9748-1e-7 -3.1558 1.6678-3.5391 2.2539 0.38324 0.58613 1.5643 2.2539 3.5391 2.2539 1.9748 0 3.1558-1.6678 3.5391-2.2539-0.38324-0.58613-1.5643-2.2539-3.5391-2.2539zm-0.0019531 0.44922c1.0041 2e-6 1.8379 0.8069 1.8379 1.8047 4e-7 0.99779-0.83383 1.8047-1.8379 1.8047-1.0041-2e-6 -1.8379-0.8069-1.8379-1.8047-4e-7 -0.99779 0.83383-1.8047 1.8379-1.8047zm0 0.91406c-0.52133 0-0.92383 0.39956-0.92383 0.89062-2e-7 0.49107 0.4025 0.89062 0.92383 0.89062s0.92383-0.39956 0.92383-0.89062c2e-7 -0.49107-0.4025-0.89062-0.92383-0.89062z"}),u.jsx("path",{className:"el-1",d:"m15.344 7.776c-0.15037 0.00316-0.2968 0.048654-0.4225 0.13125-0.36963 0.2424-0.47262 0.73862-0.23 1.1081 1.1907 1.8141 1.1907 4.1559 0 5.97-0.24222 0.36936-0.13926 0.86513 0.23 1.1075 0.36936 0.24222 0.86513 0.13926 1.1075-0.23 1.5381-2.3435 1.5381-5.3821 0-7.7253-0.15095-0.23027-0.40971-0.36674-0.685-0.36125z"}),u.jsx("path",{className:"el-2",d:"m17.615 5.504c-0.16475 0.00378-0.32431 0.058355-0.45687 0.15625-0.35534 0.2621-0.43114 0.76252-0.16937 1.1181 2.2905 3.1074 2.2905 7.336 0 10.443-0.26218 0.35568-0.18635 0.85657 0.16937 1.1187 0.35568 0.26218 0.85657 0.18635 1.1187-0.16937 2.7026-3.6665 2.7026-8.6747 0-12.341-0.15443-0.20985-0.40138-0.33134-0.66187-0.32563z"}),u.jsx("path",{className:"el-3",d:"m19.704 3.4244c-0.17928 0.0019-0.35272 0.063973-0.4925 0.17625-0.34479 0.27659-0.39993 0.78038-0.12313 1.125 3.4165 4.2529 3.4165 10.297 0 14.55-0.27639 0.34452-0.22127 0.84786 0.12313 1.1244 0.34436 0.27654 0.84767 0.2217 1.1244-0.1225 3.8811-4.8311 3.8811-11.723 0-16.555-0.15368-0.19119-0.38658-0.30131-0.63187-0.29875z"})]}),e[10]=g):g=e[10],e[11]!==a||e[12]!==c||e[13]!==b||e[14]!==f||e[15]!==y?(_=u.jsx("button",l(i(l(i({},c),{accessKey:"s",className:b,onClick:a,onAuxClick:a}),f),{"aria-label":y,children:g})),e[11]=a,e[12]=c,e[13]=b,e[14]=f,e[15]=y,e[16]=_):_=e[16],_};function yn(e){return e.screen.sgPref}const gn=()=>u.jsxs("div",{role:"navigation",children:[u.jsx(pn,{}),u.jsx(an,{}),u.jsx(fn,{}),u.jsx(Ut,{}),u.jsx(nn,{}),u.jsx(Xt,{})]}),_n="_main_1abw6_1",hn=e=>null!==e.type,wn=(e,t,n,r,s,o,a)=>{const i=p.c(9),l=void 0===n?0:n,c=void 0!==r&&r,u=!1,m=!1,b=!1,f=d.useRef(null);let y,g;i[0]!==c||i[1]!==u||i[2]!==l||i[3]!==t||i[4]!==m||i[5]!==b||i[6]!==e?(y=()=>{const n=n=>{null!==e&&n.key!==e||c!==n.altKey||u!==n.ctrlKey||m!==n.metaKey||b!==n.shiftKey||(l>0?(null!==f.current&&clearTimeout(f.current),f.current=window.setTimeout((()=>t(n)),l)):t(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n),null!==f.current&&clearTimeout(f.current)}},g=[e,t,l,c,u,m,b],i[0]=c,i[1]=u,i[2]=l,i[3]=t,i[4]=m,i[5]=b,i[6]=e,i[7]=y,i[8]=g):(y=i[7],g=i[8]),d.useEffect(y,g)},xn="_windowbg_x9kxd_25",vn="_darkerbg_x9kxd_28",jn="_windowmain_x9kxd_31",Pn="_windowinner_x9kxd_38",Sn="_screenpref_x9kxd_41",kn="_screenlangpref_x9kxd_41",Tn="_screenvolumepref_x9kxd_41",On="_screenhelp_x9kxd_41",Nn="_logo_x9kxd_102",En="_version_x9kxd_108",Cn="_description_x9kxd_117",Mn="_buttonwrapper_x9kxd_120",In="_warning_x9kxd_129",Dn="_active_x9kxd_132",zn="_cancel_x9kxd_135",Rn="_onecolumn_x9kxd_177",Ln="_againsthumanorai_x9kxd_1",An="_multiplayer_x9kxd_188",Hn="_multiplayernotification_x9kxd_1",Fn="_twocolumnjustifybetween_x9kxd_203",qn="_twocolumnitem_x9kxd_206",Bn="_twocolumn_x9kxd_203",$n="_fourcolumn_x9kxd_227",Gn="_onethird_x9kxd_236",Wn="_twothird_x9kxd_244",Vn="_half_x9kxd_249",Yn={[ye]:Sn,[ge]:x(kn,"screenlangpref"),[_e]:Tn,[he]:On,[we]:"",[xe]:""},Kn={[ye]:"Preferences",[ge]:"Language",[_e]:"Sound & Graphics",[he]:"Help",[we]:"Please rotate your device to landscape mode",[xe]:'You and your opponent are disconnected. Please go to "Preferences" and start a new game.'},Un=({screenActionType:e,children:t,onCancel:n,darkerBg:r=!1,exitableDelay:s=0})=>{const o=ft(),a=d.useContext(_t),l=d.useRef(null),[c,m]=d.useState(!1);d.useEffect((()=>{m(!1);const e=setTimeout((()=>{m(!0)}),s);return()=>{clearTimeout(e)}}),[s]);const b=d.useRef(!1);d.useEffect((()=>{b.current=c}),[c]);const f=d.useCallback((()=>{b.current&&(null==n||n(),o({type:e,show:!1}))}),[]),y=d.useRef(null);((e,t)=>{const n=p.c(6);let r,s;n[0]!==t||n[1]!==e.current?(r=()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return window.addEventListener("mousedown",n),()=>{window.removeEventListener("mousedown",n)}},n[0]=t,n[1]=e.current,n[2]=r):r=n[2],n[3]!==t||n[4]!==e?(s=[t,e],n[3]=t,n[4]=e,n[5]=s):s=n[5],d.useEffect(r,s)})(y,f),wn("Escape",f);const g=d.useContext(Tt);return u.jsx("div",{className:x(xn,"windowbg",r&&vn),role:"dialog","aria-label":a.i18n(Kn[e]),"aria-modal":!0,ref:l,children:u.jsx("div",{ref:y,className:x(jn,"windowmain",Yn[e]),children:u.jsxs("div",{className:x(Pn),children:[u.jsx("div",i({className:x(Nn,g.narrowMobile&&(e===ye||e===_e)&&"hidden"),"aria-hidden":!0},Yt(a.i18n("ArcoMage HD"),"bottom"))),t,u.jsx("button",i({accessKey:"x",className:x(zn,"cancel"),onClick:f,"aria-label":a.i18n("Cancel")},Yt(a.i18n("Cancel"),"bottom")))]})})})},Jn=()=>{const e=p.c(4),t=d.useContext(_t);let n,r;return e[0]!==t?(n=t.i18n('You and your opponent are disconnected. Please go to "Preferences" and start a new game.'),e[0]=t,e[1]=n):n=e[1],e[2]!==n?(r=u.jsx(Un,{screenActionType:xe,exitableDelay:750,children:n}),e[2]=n,e[3]=r):r=e[3],r},Qn=["bricks","gems","recruits"],Xn=["brickProd","gemProd","recruitProd"],Zn={brickProd:"bricks",gemProd:"gems",recruitProd:"recruits"},er=["playerName","opponentName"],tr=["tower","wall","bricks","gems","recruits","brickProd","gemProd","recruitProd"],nr=["winTower","winResource","cardsInHand","aiLevel"],rr={brick:["bricks","brickProd"],gem:["gems","gemProd"],recruit:["recruits","recruitProd"]},sr=e=>e.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),or=(e,t,n)=>t?0===e?n.i18n("Your opponent has no tower left"):1===e?n.i18n("%s has reached the victory condition").replace("%s",n.i18n("Your %s").replace("%s",n.i18n("tower"))):n.i18n("%s have reached the victory condition").replace("%s",n.i18n("Your %s").replace("%s",n.i18n(Qn[e-2]))):0===e?n.i18n("You have no tower left"):1===e?n.i18n("%s has reached the victory condition").replace("%s",n.i18n("Opponent's %s").replace("%s",n.i18n("tower"))):n.i18n("%s have reached the victory condition").replace("%s",n.i18n("Opponent's %s").replace("%s",n.i18n(Qn[e-2]))),ar={container:"_container_sb3fa_9",fadein:"_fadein_sb3fa_1",main:"_main_sb3fa_19",win:"_win_sb3fa_22",lose:"_lose_sb3fa_25",tie:"_tie_sb3fa_28",firework:"_firework_sb3fa_37",narrowmobilemode:"_narrowmobilemode_sb3fa_49",normalmode:"_normalmode_sb3fa_52",firework1:"_firework1_sb3fa_56",firework2:"_firework2_sb3fa_60",notetext:"_notetext_sb3fa_65",text:"_text_sb3fa_73",erathiantext:"_erathiantext_sb3fa_86",erathiantextspace:"_erathiantextspace_sb3fa_94"},ir="_main_10h65_1",lr=()=>{const e=p.c(14),t=d.useContext(_t),[n,r]=d.useState(!1);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{r(cr)},e[0]=s):s=e[0];const o=s;let a,i,l,c,m,b,f;return e[1]!==n?(a=n&&u.jsx("style",{children:"\n.card:not(.card-pos--1) {\n  z-index: 100;\n  pointer-events: none;\n}\n.card-pos--5 > div,\n.card-pos--4 > div,\n.card-pos--3 > div,\n.card-pos--2 > div {\n  opacity: 0.9;\n}"}),e[1]=n,e[2]=a):a=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(i=x(ir,"robotocondensed endscreen-review-cards-btn"),e[3]=i):i=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{e.stopPropagation(),o()},c=e=>{e.preventDefault(),e.stopPropagation(),o()},e[4]=l,e[5]=c):(l=e[4],c=e[5]),e[6]!==t||e[7]!==n?(m=n?t.i18n("Hide cards"):t.i18n("Review cards"),e[6]=t,e[7]=n,e[8]=m):m=e[8],e[9]!==m?(b=u.jsx("button",{className:i,accessKey:"c",onClick:l,onContextMenu:c,onKeyDown:dr,children:m}),e[9]=m,e[10]=b):b=e[10],e[11]!==a||e[12]!==b?(f=u.jsxs(u.Fragment,{children:[a,b]}),e[11]=a,e[12]=b,e[13]=f):f=e[13],f};function cr(e){return!e}function dr(e){e.stopPropagation()}const pr={lose:"You Lose!",tie:"Tie Game",win:"You Win!"},ur={lose:"you lose",tie:"tie game",win:"you win"},mr=e=>{const t=ft(),n=d.useContext(_t),{type:r,surrender:s,reasons:o}=e,a=d.useContext(Tt),c=n.i18n(pr[r]),p=ur[r].split(" "),m=u.jsxs(u.Fragment,{children:[p[0],u.jsx("span",{className:ar.erathiantextspace}),p[1]]});let b=null;if(o){b=[...o.win?o.win.map((e=>or(e,!0,n))):[],...o.lose?o.lose.map((e=>or(e,!1,n))):[]].join(n.i18n(". "))}else if(s)switch(r){case"win":b=n.i18n("With no usable or discardable card, your opponent has surrendered");break;case"lose":b=n.i18n("With no usable or discardable card, you have surrendered")}const[f,y]=d.useState(!1);d.useEffect((()=>{y(!1);const e=setTimeout((()=>{y(!0)}),500);return()=>{clearTimeout(e)}}),[e]);const g=d.useCallback((e=>{(e instanceof KeyboardEvent||"nativeEvent"in e&&e.nativeEvent instanceof KeyboardEvent)&&("key"in e&&("Tab"===e.key||"c"===e.key||"CapsLock"===e.key)||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)||(e.preventDefault(),t({type:"09"}))}),[]);wn(null,g,500);const _=f?{onClick:g,onContextMenu:g}:{};return u.jsxs("div",l(i({className:x(ar.container,ar[r],a.narrowMobile?ar.narrowmobilemode:ar.normalmode)},_),{children:[u.jsxs("div",{className:x(ar.main),role:"button",tabIndex:0,children:[null!==b&&u.jsx("div",{className:x(ar.notetext,"robotocondensed el-text"),children:b}),u.jsx("div",{className:x(ar.text,"robotocondensed el-text"),children:c}),u.jsx("div",{className:x(ar.erathiantext,"erathian-normal"),children:m}),("win"===r||"tie"===r)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:x(ar.firework,ar.firework1)}),u.jsx("div",{className:x(ar.firework,ar.firework2)})]})]}),u.jsx(lr,{})]}))},br=({children:e})=>u.jsx(u.Fragment,{children:e.split("\n").map(((e,t)=>u.jsx("p",{children:e},t)))}),fr=()=>{const e=p.c(29),t=d.useContext(_t);let n,r,s,o,a,i,l,c,m,b,f,y,g;if(e[0]!==t){const r=t.i18n("Please go to %s to view more information (including %s1), star the repo and follow %s2 there.");n=r.split(/(%s\d?)/g),n.forEach(((e,r)=>{if("string"==typeof e&&e.match(/^%s\d?$/))e:switch(e){case"%s":n[r]=u.jsx("a",{href:X,target:"_blank",rel:"noopener noreferrer",children:t.i18n("the GitHub project page")},e);break e;case"%s1":n[r]=u.jsx("a",{href:"https://raw.githubusercontent.com/arcomage/arcomage-hd/main/misc/readme_images/manual.jpg",target:"_blank",rel:"noopener noreferrer",children:t.i18n("an informative tutorial image in English")},e);break e;case"%s2":n[r]=u.jsx("a",{href:"https://github.com/tomchen",target:"_blank",rel:"noopener noreferrer",dir:"ltr",children:"@tomchen"},e)}})),e[0]=t,e[1]=n}else n=e[1];return e[2]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsxs("small",{className:x(En,"select-all"),children:["v",Q]}),s=x(Cn,"select-text"),e[2]=r,e[3]=s):(r=e[2],s=e[3]),e[4]!==t?(o="ArcoMage HD"!==t.i18n("ArcoMage HD")&&u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:t.i18n("ArcoMage HD")}),u.jsx(u.Fragment,{children:" - "})]}),e[4]=t,e[5]=o):o=e[5],e[6]!==t?(a=t.i18n("DESC"),e[6]=t,e[7]=a):a=e[7],e[8]!==o||e[9]!==a?(i=u.jsxs("p",{className:s,children:[o,a]}),e[8]=o,e[9]=a,e[10]=i):i=e[10],e[11]!==n?(l=u.jsx("p",{className:"help-text select-text",children:u.jsx("strong",{children:n})}),e[11]=n,e[12]=l):l=e[12],e[13]!==t?(c=t.i18n("Game rules"),e[13]=t,e[14]=c):c=e[14],e[15]!==t?(m=t.i18n(": "),e[15]=t,e[16]=m):m=e[16],e[17]!==c||e[18]!==m?(b=u.jsx("p",{className:"help-text select-text",children:u.jsxs("strong",{children:[c,m]})}),e[17]=c,e[18]=m,e[19]=b):b=e[19],e[20]!==t?(f=t.i18n("GAMERULES"),e[20]=t,e[21]=f):f=e[21],e[22]!==f?(y=u.jsx("div",{className:"help-text select-text",children:u.jsx(br,{children:f})}),e[22]=f,e[23]=y):y=e[23],e[24]!==y||e[25]!==i||e[26]!==l||e[27]!==b?(g=u.jsxs(Un,{screenActionType:he,children:[r,i,l,b,y]}),e[24]=y,e[25]=i,e[26]=l,e[27]=b,e[28]=g):g=e[28],g},yr="_wrapper_ib2ne_25",gr="_all_ib2ne_32",_r="_arrow_ib2ne_38",hr="_mouth_ib2ne_44",wr="_smiley_ib2ne_50",xr=()=>{const e=p.c(14),t=d.useContext(_t);let n,r,s,o,a,c,m,b,f,y;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=x(yr,"relative"),e[0]=n):n=e[0],e[1]!==t?(r=Yt(t.i18n("Please rotate your device to landscape mode"),"bottom"),e[1]=t,e[2]=r):r=e[2],e[3]!==t?(s=t.i18n("Please rotate your device to landscape mode"),e[3]=t,e[4]=s):s=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(o=x(_r,"absolute"),e[5]=o):o=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("svg",{className:o,viewBox:"0 0 13.16 10.677",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("g",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"1.323",children:u.jsx("path",{d:"M.662.66c5.926.163 9.178 3.464 9.354 9.354M12.499 6.02l-2.483 3.991M6.513 6.93l3.503 3.08"})})}),c=x(gr,"relative"),e[6]=a,e[7]=c):(a=e[6],c=e[7]),e[8]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx("svg",{viewBox:"0 0 261.17 544.12",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fill:"#fff",d:"M15.826 544.12h229.52c8.74 0 15.826-7.086 15.826-15.826V15.834c0-8.75-7.086-15.826-15.826-15.826H15.826C7.086.008 0 7.093 0 15.834v512.45c0 8.749 7.086 15.835 15.826 15.835zm37.59-11.877h-8.587a1.037 1.037 0 01-1.033-1.041c0-.564.459-1.043 1.033-1.043h8.587c.574 0 1.042.479 1.042 1.043a1.037 1.037 0 01-1.042 1.041zm0-4.187h-8.587a1.029 1.029 0 01-1.033-1.033c0-.564.459-1.041 1.033-1.041h8.587c.574 0 1.042.467 1.042 1.041a1.023 1.023 0 01-1.042 1.033zm7.239 2.734c0 1.234-.995 2.238-2.228 2.238s-2.238-1.004-2.238-2.238v-7.373H42.065v7.373a2.233 2.233 0 01-2.228 2.238 2.24 2.24 0 01-2.238-2.238v-9.6a2.24 2.24 0 012.238-2.238h18.589a2.233 2.233 0 012.228 2.238v9.6zm91.035-2.496a3.952 3.952 0 01-3.949 3.959h-34.3a3.954 3.954 0 01-3.959-3.959v-5.938a3.955 3.955 0 013.959-3.959h34.3c2.19 0 3.949 1.77 3.949 3.959zm64.69 5.145h-7.009a2.233 2.233 0 010-4.465h7.009c1.511 0 2.735-1.176 2.735-2.611 0-1.443-1.225-2.609-2.735-2.609h-5.909c-.22.305-.459.506-1.004.496a1.23 1.23 0 01-.488-.096l-3.644-1.539c-.439-.191-.736-.621-.736-1.1s.287-.918.728-1.1l3.643-1.539c.44-.182.957-.096 1.311.258.048.047.096.096.134.152h5.967c3.969 0 7.191 3.176 7.191 7.086.008 3.893-3.224 7.067-7.193 7.067zm13.178-522.94a5.958 5.958 0 015.957 5.958 5.959 5.959 0 11-5.957-5.958zm-61.296 3.605a2.35 2.35 0 012.353 2.352c0 1.301-1.052 2.353-2.353 2.353s-2.353-1.052-2.353-2.353 1.062-2.352 2.353-2.352zm-7.172 0a2.342 2.342 0 012.343 2.352c0 1.301-1.042 2.353-2.343 2.353s-2.353-1.052-2.353-2.353 1.062-2.352 2.353-2.352zm-70.523-3.289h58.694a4.782 4.782 0 010 9.562H90.567a4.783 4.783 0 01-4.781-4.781 4.775 4.775 0 014.781-4.781zM11.58 31.67H249.6v471.89H11.58z"})}),b=x(wr,"absolute"),e[8]=m,e[9]=b):(m=e[8],b=e[9]),e[10]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsxs("div",{className:c,children:[m,u.jsxs("svg",{className:b,viewBox:"0 0 79.375 79.375",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("circle",{cx:"21.828",cy:"28.297",r:"6.804",fill:"#fff"}),u.jsx("circle",{cx:"57.544",cy:"28.297",r:"6.804",fill:"#fff"}),u.jsx("path",{className:x(hr,""),d:"M15.119 56.88c13.919-9.022 29.213-12.999 49.137 0",stroke:"#fff",strokeLinecap:"round",strokeWidth:"2"})]})]}),e[10]=f):f=e[10],e[11]!==r||e[12]!==s?(y=u.jsx(Un,{screenActionType:we,darkerBg:!0,exitableDelay:750,children:u.jsxs("div",l(i({role:"alert",className:n},r),{"aria-label":s,children:[a,f]}))}),e[11]=r,e[12]=s,e[13]=y):y=e[13],y},vr=d.forwardRef(((e,t)=>{const n=p.c(7);let r,s;if(n[0]!==e){const t=e,{onKeyDown:o}=t;r=c(t,["onKeyDown"]),s=e=>{"Enter"===e.key&&e.target.click(),o&&o(e)},n[0]=e,n[1]=r,n[2]=s}else r=n[1],s=n[2];const o=s;let a;return n[3]!==o||n[4]!==r||n[5]!==t?(a=u.jsx("input",l(i({type:"checkbox"},r),{onKeyDown:o,ref:t})),n[3]=o,n[4]=r,n[5]=t,n[6]=a):a=n[6],a}));vr.displayName="CheckBox";const jr=()=>{const e=p.c(42),t=yt(Pr),n=yt(Sr),r=yt(kr),s=d.useContext(_t),o=ft();let a;e:{if(e[0]!==s){const t=s.i18n("ERATHIAN");if(void 0!==t){const n=t.split("%s");let r,s,o,i;e[2]!==n[0]?(r=u.jsx(d.Fragment,{children:n[0]},0),e[2]=n[0],e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsxs("span",{"aria-hidden":!0,className:"!px-0",children:["[",u.jsx("span",{className:x("text-2xl p-0","erathian"),children:"Erathian"}),"]"]},1),e[4]=s):s=e[4],e[5]!==n[1]?(o=u.jsx(d.Fragment,{children:n[1]},2),e[5]=n[1],e[6]=o):o=e[6],e[7]!==r||e[8]!==o?(i=[r,s,o],e[7]=r,e[8]=o,e[9]=i):i=e[9],a=i;break e}e[0]=s,e[1]=a}else a=e[1];a=null}const c=a;let m,b,f,y,g,_,h;e[10]!==o||e[11]!==t?(m=[...rt].sort(Tr).map((e=>u.jsx("button",l(i({lang:e,className:x("m-2",e===t&&Dn),onClick:()=>{o({type:"0",lang:e})}},Yt(nt[e].en,"bottom")),{"aria-label":`${nt[e].local} [${nt[e].en}]`,children:nt[e].local}),e))),e[10]=o,e[11]=t,e[12]=m):m=e[12],e[13]!==m?(b=u.jsx("div",{className:"my-5 flex flex-wrap justify-center",children:m}),e[13]=m,e[14]=b):b=e[14],e[15]!==o?(f=e=>{o({type:"2",boldfont:e.target.checked})},e[15]=o,e[16]=f):f=e[16],e[17]!==n||e[18]!==f?(y=u.jsx(vr,{checked:n,onChange:f}),e[17]=n,e[18]=f,e[19]=y):y=e[19],e[20]!==s?(g=s.i18n("Bold font"),e[20]=s,e[21]=g):g=e[21],e[22]!==g?(_=u.jsx("span",{children:g}),e[22]=g,e[23]=_):_=e[23],e[24]!==y||e[25]!==_?(h=u.jsxs("label",{className:"flex w-full justify-center",children:[y,_]}),e[24]=y,e[25]=_,e[26]=h):h=e[26];const w=!!nt[t].isLatinScript&&r,v=!nt[t].isLatinScript;let j,P,S,k,T;return e[27]!==o?(j=e=>{o({type:"4",erathian:e.target.checked})},e[27]=o,e[28]=j):j=e[28],e[29]!==j||e[30]!==w||e[31]!==v?(P=u.jsx(vr,{checked:w,disabled:v,onChange:j}),e[29]=j,e[30]=w,e[31]=v,e[32]=P):P=e[32],e[33]!==c?(S=u.jsx("span",{children:c}),e[33]=c,e[34]=S):S=e[34],e[35]!==P||e[36]!==S?(k=u.jsxs("label",{className:"flex w-full justify-center",children:[P,S]}),e[35]=P,e[36]=S,e[37]=k):k=e[37],e[38]!==k||e[39]!==b||e[40]!==h?(T=u.jsxs(Un,{screenActionType:ge,children:[b,h,k]}),e[38]=k,e[39]=b,e[40]=h,e[41]=T):T=e[41],T};function Pr(e){return e.lang.code}function Sr(e){return e.lang.boldfont}function kr(e){return e.lang.erathian}function Tr(e,t){return e.localeCompare(t)}const Or=(e,t)=>{if(void 0===e)return t;const n=parseFloat(e.toString());return isNaN(n)?t:n},Nr=e=>e.replace(/[^0-9-]/g,""),Er=(e,t,n)=>{let r=parseInt(e);return isNaN(r)&&(r=0),r<n&&(r=n),r>t&&(r=t),r.toString()},Cr=e=>{var t,n,r;const s=p.c(86);let o,a,m,b;s[0]!==e?(t=e,({debounceDelay:a,validate:m,sanitize:b}=t),o=c(t,["debounceDelay","validate","sanitize"]),s[0]=e,s[1]=o,s[2]=a,s[3]=m,s[4]=b):(o=s[1],a=s[2],m=s[3],b=s[4]);const f=void 0===a?1e3:a,y=void 0===m?Er:m,g=void 0===b?Nr:b;let _,h,w,x,v,j,P;s[5]!==o?(n=o,({value:P,min:w,max:h,step:j,disabled:_,onChange:x}=n),v=c(n,["value","min","max","step","disabled","onChange"]),s[5]=o,s[6]=_,s[7]=h,s[8]=w,s[9]=x,s[10]=v,s[11]=j,s[12]=P):(_=s[6],h=s[7],w=s[8],x=s[9],v=s[10],j=s[11],P=s[12]);const[S,k]=d.useState(),[T,O]=d.useState(!1),N=d.useRef(void 0),E=d.useRef(void 0);let C;C=Or(h,Number.MAX_SAFE_INTEGER);const M=C;let I;I=Or(w,Number.MIN_SAFE_INTEGER);const D=I;let z;z=(e=>{var t;return parseFloat(null!=(t=null==e?void 0:e.toString())?t:"NaN")>0?parseFloat(e):1})(j);const R=z,L=d.useRef(null);let A;s[13]!==M||s[14]!==D||s[15]!==x||s[16]!==y?(A=e=>{const t=y(e,M,D).toString();if(k(t),O(!1),void 0===E.current&&void 0!==N.current&&t!==N.current&&x&&L.current){L.current.value=t;const e={target:L.current};x(e)}N.current=t},s[13]=M,s[14]=D,s[15]=x,s[16]=y,s[17]=A):A=s[17];const H=A;let F;s[18]!==H?(F=e=>{E.current&&clearTimeout(E.current),E.current=void 0,H(e)},s[18]=H,s[19]=F):F=s[19];const q=F;let B,$,G;s[20]!==q||s[21]!==P?(B=()=>{var e;void 0!==P&&q(null!=(e=null==P?void 0:P.toString())?e:"0")},s[20]=q,s[21]=P,s[22]=B):B=s[22],s[23]!==M||s[24]!==D||s[25]!==q||s[26]!==P?($=[P,D,M,q],s[23]=M,s[24]=D,s[25]=q,s[26]=P,s[27]=$):$=s[27],d.useEffect(B,$),s[28]!==H?(G=(e,t)=>{E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{E.current=void 0,H(e)}),t)},s[28]=H,s[29]=G):G=s[29];const W=G;let V,Y,K;s[30]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{E.current&&clearTimeout(E.current)},Y=[],s[30]=V,s[31]=Y):(V=s[30],Y=s[31]),d.useEffect(V,Y),s[32]!==M||s[33]!==D||s[34]!==f||s[35]!==W||s[36]!==q||s[37]!==g||s[38]!==y?(K=e=>{const t=g(e.target.value,M,D);y(t,M,D)!==t&&O(!0),f>0?(k(t),W(t,f)):q(null!=t?t:"0")},s[32]=M,s[33]=D,s[34]=f,s[35]=W,s[36]=q,s[37]=g,s[38]=y,s[39]=K):K=s[39];const U=K;let J;s[40]!==q||s[41]!==S?(J=()=>{q(null!=S?S:"0")},s[40]=q,s[41]=S,s[42]=J):J=s[42];const Q=J;let X;s[43]!==M||s[44]!==D||s[45]!==R||s[46]!==q||s[47]!==S||s[48]!==y?(X=e=>{L&&"current"in L&&L.current&&L.current.focus();const t=parseFloat(y(null!=S?S:"0",M,D));q((e?t+R:t-R).toString())},s[43]=M,s[44]=D,s[45]=R,s[46]=q,s[47]=S,s[48]=y,s[49]=X):X=s[49];const Z=X;let ee,te,ne;s[50]!==_||s[51]!==Z?(ee=e=>{_||(e.deltaY<0?Z(!0):Z(!1))},te=e=>{_||("ArrowUp"===e.key?(e.preventDefault(),Z(!0)):"ArrowDown"===e.key&&(e.preventDefault(),Z(!1)))},s[50]=_,s[51]=Z,s[52]=ee,s[53]=te):(ee=s[52],te=s[53]),s[54]!==Z?(ne=()=>{Z(!1)},s[54]=Z,s[55]=ne):ne=s[55];const re=_||parseFloat(null!=S?S:"0")<=D;let se,oe,ae,ie,le,ce;s[56]!==ne||s[57]!==re?(se=u.jsx("button",{className:"decrease",onClick:ne,disabled:re,tabIndex:-1,children:"−"}),s[56]=ne,s[57]=re,s[58]=se):se=s[58],s[59]!==S?(oe=null!=(r=null==S?void 0:S.toString())?r:"",s[59]=S,s[60]=oe):oe=s[60],s[61]!==M?(ae=M!==Number.MAX_SAFE_INTEGER?{max:M,"aria-valuemax":M}:{},s[61]=M,s[62]=ae):ae=s[62],s[63]!==D?(ie=D!==Number.MIN_SAFE_INTEGER?{min:D,"aria-valuemin":D}:{},s[63]=D,s[64]=ie):ie=s[64],s[65]!==R||s[66]!==_||s[67]!==Q||s[68]!==U||s[69]!==T||s[70]!==v||s[71]!==oe||s[72]!==ae||s[73]!==ie?(le=u.jsx("input",l(i(l(i(i({ref:L,type:"text",inputMode:"numeric",value:oe},ae),ie),{"aria-invalid":T,step:R,onChange:U,onBlur:Q,autoComplete:"off",autoCorrect:"off",spellCheck:"false",role:"spinbutton",disabled:_}),v),{className:"number-input-field"})),s[65]=R,s[66]=_,s[67]=Q,s[68]=U,s[69]=T,s[70]=v,s[71]=oe,s[72]=ae,s[73]=ie,s[74]=le):le=s[74],s[75]!==Z?(ce=()=>{Z(!0)},s[75]=Z,s[76]=ce):ce=s[76];const de=_||parseFloat(null!=S?S:"0")>=M;let pe,ue;return s[77]!==ce||s[78]!==de?(pe=u.jsx("button",{className:"increase",onClick:ce,disabled:de,tabIndex:-1,children:"+"}),s[77]=ce,s[78]=de,s[79]=pe):pe=s[79],s[80]!==ee||s[81]!==te||s[82]!==se||s[83]!==le||s[84]!==pe?(ue=u.jsxs("div",{role:"textbox",tabIndex:-1,className:"number-input",onWheel:ee,onKeyDown:te,children:[se,le,pe]}),s[80]=ee,s[81]=te,s[82]=se,s[83]=le,s[84]=pe,s[85]=ue):ue=s[85],ue};Cr.displayName="NumberInput";const Mr={brightness:{min:.3,max:3,step:.1},contrast:{min:.2,max:3,step:.1},grayscale:{min:0,max:1,step:.01},sepia:{min:0,max:1,step:.01},saturate:{min:0,max:3,step:.1},hue:{min:0,max:360,step:1},invert:{min:0,max:1,step:.01},opacity:{min:.2,max:1,step:.01}},Ir=[{tower:15,wall:5,brickProd:2,gemProd:2,recruitProd:2,bricks:10,gems:10,recruits:10,winTower:30,winResource:100,cardsInHand:5},{tower:20,wall:5,brickProd:2,gemProd:2,recruitProd:2,bricks:5,gems:5,recruits:5,winTower:50,winResource:150,cardsInHand:5},{tower:20,wall:6,brickProd:2,gemProd:2,recruitProd:2,bricks:5,gems:5,recruits:5,winTower:50,winResource:150,cardsInHand:5},{tower:25,wall:10,brickProd:3,gemProd:3,recruitProd:3,bricks:5,gems:5,recruits:5,winTower:75,winResource:200,cardsInHand:5},{tower:20,wall:10,brickProd:3,gemProd:3,recruitProd:3,bricks:5,gems:5,recruits:5,winTower:75,winResource:200,cardsInHand:5},{tower:30,wall:15,brickProd:4,gemProd:4,recruitProd:4,bricks:10,gems:10,recruits:10,winTower:100,winResource:300,cardsInHand:5},{tower:30,wall:16,brickProd:4,gemProd:4,recruitProd:4,bricks:10,gems:10,recruits:10,winTower:100,winResource:300,cardsInHand:5},{tower:20,wall:10,brickProd:5,gemProd:5,recruitProd:5,bricks:25,gems:25,recruits:25,winTower:150,winResource:400,cardsInHand:5},{tower:20,wall:10,brickProd:1,gemProd:1,recruitProd:1,bricks:15,gems:15,recruits:15,winTower:200,winResource:500,cardsInHand:5},{tower:20,wall:50,brickProd:1,gemProd:1,recruitProd:5,bricks:5,gems:5,recruits:25,winTower:100,winResource:300,cardsInHand:5},{tower:10,wall:20,brickProd:3,gemProd:1,recruitProd:2,bricks:15,gems:5,recruits:10,winTower:125,winResource:350,cardsInHand:5},{tower:10,wall:22,brickProd:3,gemProd:1,recruitProd:2,bricks:15,gems:5,recruits:10,winTower:125,winResource:350,cardsInHand:5},{tower:50,wall:50,brickProd:5,gemProd:3,recruitProd:5,bricks:20,gems:10,recruits:20,winTower:100,winResource:300,cardsInHand:5},{tower:15,wall:4,brickProd:2,gemProd:2,recruitProd:2,bricks:10,gems:10,recruits:10,winTower:30,winResource:100,cardsInHand:5},{tower:20,wall:4,brickProd:2,gemProd:2,recruitProd:2,bricks:5,gems:5,recruits:5,winTower:50,winResource:150,cardsInHand:5},{tower:20,wall:3,brickProd:2,gemProd:2,recruitProd:2,bricks:5,gems:5,recruits:5,winTower:50,winResource:150,cardsInHand:5},{tower:25,wall:8,brickProd:3,gemProd:3,recruitProd:3,bricks:5,gems:5,recruits:5,winTower:75,winResource:200,cardsInHand:5},{tower:20,wall:8,brickProd:3,gemProd:3,recruitProd:3,bricks:5,gems:5,recruits:5,winTower:75,winResource:200,cardsInHand:5},{tower:30,wall:14,brickProd:4,gemProd:4,recruitProd:4,bricks:10,gems:10,recruits:10,winTower:100,winResource:300,cardsInHand:5},{tower:30,wall:12,brickProd:4,gemProd:4,recruitProd:4,bricks:10,gems:10,recruits:10,winTower:100,winResource:300,cardsInHand:5},{tower:20,wall:8,brickProd:5,gemProd:5,recruitProd:5,bricks:25,gems:25,recruits:25,winTower:150,winResource:400,cardsInHand:5},{tower:20,wall:8,brickProd:1,gemProd:1,recruitProd:1,bricks:15,gems:15,recruits:15,winTower:200,winResource:500,cardsInHand:5},{tower:20,wall:45,brickProd:1,gemProd:1,recruitProd:5,bricks:5,gems:5,recruits:25,winTower:100,winResource:300,cardsInHand:5},{tower:10,wall:18,brickProd:3,gemProd:1,recruitProd:2,bricks:15,gems:5,recruits:10,winTower:125,winResource:350,cardsInHand:5},{tower:25,wall:30,brickProd:4,gemProd:4,recruitProd:4,bricks:10,gems:10,recruits:10,winTower:175,winResource:500,cardsInHand:6},{tower:40,wall:40,brickProd:5,gemProd:5,recruitProd:2,bricks:20,gems:25,recruits:10,winTower:125,winResource:450,cardsInHand:4},{tower:30,wall:50,brickProd:1,gemProd:1,recruitProd:5,bricks:5,gems:5,recruits:30,winTower:150,winResource:500,cardsInHand:4},{tower:10,wall:10,brickProd:1,gemProd:1,recruitProd:1,bricks:0,gems:0,recruits:0,winTower:125,winResource:250,cardsInHand:3},{tower:55,wall:0,brickProd:1,gemProd:6,recruitProd:1,bricks:5,gems:40,recruits:5,winTower:200,winResource:600,cardsInHand:4},{tower:60,wall:60,brickProd:5,gemProd:5,recruitProd:5,bricks:25,gems:25,recruits:25,winTower:250,winResource:750,cardsInHand:7}],Dr=[{c:7,count:13},{c:8,count:11},{c:6,count:6}],zr=/^(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]).?$/,Rr=e=>zr.test(e),Lr=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=Math.random()*(e/t);return n},Ar=e=>e[Math.floor(Math.random()*e.length)],Hr=e=>e.charAt(0).toUpperCase()+e.slice(1),Fr=(e,t)=>{const n=[];let r=0;for(let s=0;s<t.length;s++){const o=r+t[s];n.push(e.slice(r,o)),r=o}return n},qr=()=>{const e=p.c(451),t=d.useContext(_t),n=ft(),r=d.useRef(null),s=d.useRef(null),[o,a]=d.useState(!1),m=yt(Br),b=yt($r),y=yt(Gr),g=yt(Wr),_=yt(Vr),h=yt(Yr),w=yt(Kr),v=yt(Ur),j=yt(Jr),P=yt(Qr),S=yt(Xr),k=yt(Zr),T=yt(es),O=yt(ts),N=yt(ns),E=yt(rs),C=yt(ss),M=yt(os),I=yt(as),D=yt(is),z=yt(ls),R=yt(cs);let L;e[0]!==j||e[1]!==P||e[2]!==I||e[3]!==D||e[4]!==z||e[5]!==R||e[6]!==S||e[7]!==k||e[8]!==T||e[9]!==O||e[10]!==N||e[11]!==E||e[12]!==C||e[13]!==M?(L={playerName:j,opponentName:P,tower:S,wall:k,bricks:T,gems:O,recruits:N,brickProd:E,gemProd:C,recruitProd:M,winTower:I,winResource:D,cardsInHand:z,opponentId:R},e[0]=j,e[1]=P,e[2]=I,e[3]=D,e[4]=z,e[5]=R,e[6]=S,e[7]=k,e[8]=T,e[9]=O,e[10]=N,e[11]=E,e[12]=C,e[13]=M,e[14]=L):L=e[14];const A=L,[H,F]=d.useState(A),[q,B]=d.useState(v);let $;e[15]!==q||e[16]!==n||e[17]!==H?($=()=>{n({type:ye,show:!1}),n({type:"g",aiLevel:q});const e=H,{opponentId:t}=e,r=c(e,["opponentId"]);n({type:"H",payload:r})},e[15]=q,e[16]=n,e[17]=H,e[18]=$):$=e[18];const G=$,W=ds,[V,Y]=d.useState(-10),[K,U]=d.useState(""),[J,Q]=d.useState(!1),[X,Z]=d.useState(!1);let ee,te;e[19]!==n||e[20]!==H||e[21]!==X?(ee=()=>{const e=H.tower+1,t=Math.max(H.bricks+H.brickProd,H.gems+H.gemProd,H.recruits+H.recruitProd)+1;if(H.winTower<e?F((t=>f(t,(t=>{t.winTower=e})))):H.winResource<t&&F((e=>f(e,(e=>{e.winResource=t})))),Y(W(H)),X){const e=H,{playerName:t,opponentName:r,opponentId:s}=e,o=c(e,["playerName","opponentName","opponentId"]);n({type:ze,payload:o})}},te=[n,H,X],e[19]=n,e[20]=H,e[21]=X,e[22]=ee,e[23]=te):(ee=e[22],te=e[23]),d.useEffect(ee,te);const[ne,re]=d.useState(-10);let se,oe;e[24]!==g?(se=()=>{re(W(g))},oe=[g],e[24]=g,e[25]=se,e[26]=oe):(se=e[25],oe=e[26]),d.useEffect(se,oe);const ae=d.useRef("");let ie,le,ce,de,pe;e[27]!==n||e[28]!==H||e[29]!==y?(ie=()=>{if("connecting_to_id"!==ae.current&&"connected_net"!==ae.current||"connected_to_id"!==y){if(""!==ae.current&&"connected_by_id"===y){const{playerName:e}=H;n({type:De,name:e}),n({type:Ne,name:e})}}else{const e=H,{playerName:t,opponentName:r,opponentId:s}=e,o=c(e,["playerName","opponentName","opponentId"]);n({type:ze,payload:o}),n({type:De,name:t}),n({type:Ne,name:t})}ae.current=y},e[27]=n,e[28]=H,e[29]=y,e[30]=ie):ie=e[30],e[31]!==n||e[32]!==H||e[33]!==y||e[34]!==A.opponentId?(le=[n,H,y,A.opponentId],e[31]=n,e[32]=H,e[33]=y,e[34]=A.opponentId,e[35]=le):le=e[35],d.useEffect(ie,le),e[36]!==A.opponentId?(ce=()=>{F((e=>f(e,(e=>{e.opponentId=A.opponentId}))))},de=[A.opponentId],e[36]=A.opponentId,e[37]=ce,e[38]=de):(ce=e[37],de=e[38]),d.useEffect(ce,de),e[39]===Symbol.for("react.memo_cache_sentinel")?(pe=e=>{const{name:t,type:n,inputMode:r}=e.target,{value:s}=e.target;F((e=>f(e,(e=>{t in e&&("numeric"===r?e[t]=parseInt(s,10):"text"===n&&(e[t]=s))}))))},e[39]=pe):pe=e[39];const ue=pe;let me;e[40]!==n?(me=e=>{const{name:t,value:r}=e.target;t===er[0]&&(n({type:De,name:r}),n({type:Ne,name:r}))},e[40]=n,e[41]=me):me=e[41];const be=me;let fe;e[42]===Symbol.for("react.memo_cache_sentinel")?(fe=e=>{const t=-2===e?Ir.length:e;if(t>=0){const e=Ir.concat(He)[t];F((t=>i(i({},t),e)))}},e[42]=fe):fe=e[42];const ge=fe;let _e,he,we,xe,ve,je,Pe,Se,ke,Te,Oe,Ee,Ce,Me,Ie;e[43]!==t||e[44]!==H.opponentId||e[45]!==m||e[46]!==y||e[47]!==A.opponentId?(_e=()=>{e:switch(y){case"connecting_net":U(m?t.i18n("Connecting to the network ⌛"):t.i18n("Disconnected 🔌"));break e;case"connected_net":U(t.i18n("Connected to the network (but not to anyone) 🟡"));break e;case"connecting_to_id":{const e=H.opponentId,n=e.length>10?`${e.substring(0,5)}...${e.substring(e.length-5)}`:e;U(t.i18n("Connecting to ID %s ⌛").replace("%s",n));break e}case"connected_to_id":{const e=H.opponentId,n=`${e.substring(0,5)}...${e.substring(e.length-5)}`;U(t.i18n("Connected to ID %s ✅ You're the host 🏠").replace("%s",n));break e}case"connected_by_id":{const e=A.opponentId,n=`${e.substring(0,5)}...${e.substring(e.length-5)}`;U(t.i18n("Connected by ID %s ✅ You're the guest 💼").replace("%s",n));break e}case"failed":U(t.i18n("Connection failed ❌"));break e;case"disconnected":U(t.i18n("Disconnected 🔌"))}},he=[y,t,H.opponentId,A.opponentId,m],e[43]=t,e[44]=H.opponentId,e[45]=m,e[46]=y,e[47]=A.opponentId,e[48]=_e,e[49]=he):(_e=e[48],he=e[49]),d.useEffect(_e,he),e[50]!==m||e[51]!==y?(we=()=>{Q(m&&"connected_by_id"===y),Z(m&&"connected_to_id"===y)},xe=[m,y],e[50]=m,e[51]=y,e[52]=we,e[53]=xe):(we=e[52],xe=e[53]),d.useEffect(we,xe),e[54]!==n||e[55]!==X||e[56]!==A?(ve=()=>{if(X){const e=A,{playerName:t,opponentName:r,opponentId:s}=e,o=c(e,["playerName","opponentName","opponentId"]);n({type:ze,payload:o})}},e[54]=n,e[55]=X,e[56]=A,e[57]=ve):ve=e[57],e[58]!==t?(je=t.i18n("Preferences"),e[58]=t,e[59]=je):je=e[59],e[60]!==t?(Pe=t.i18n(": "),e[60]=t,e[61]=Pe):Pe=e[61],e[62]!==je||e[63]!==Pe?(Se=u.jsxs("h3",{className:qn,children:[je,Pe]}),e[62]=je,e[63]=Pe,e[64]=Se):Se=e[64],e[65]!==t||e[66]!==w?(ke=w>0?t.i18n("You are playing against human"):t.i18n("You are playing against computer AI"),e[65]=t,e[66]=w,e[67]=ke):ke=e[67],e[68]!==ke?(Te=u.jsx("span",{id:Ln,className:qn,children:ke}),e[68]=ke,e[69]=Te):Te=e[69],e[70]!==Se||e[71]!==Te?(Oe=u.jsxs("div",{className:Fn,children:[Se,Te]}),e[70]=Se,e[71]=Te,e[72]=Oe):Oe=e[72],e[73]===Symbol.for("react.memo_cache_sentinel")?(Ee=x(Bn,Vn),e[73]=Ee):Ee=e[73],e[74]!==t?(Ce=t.i18n("Your Name"),e[74]=t,e[75]=Ce):Ce=e[75],e[76]!==t?(Me=t.i18n(": "),e[76]=t,e[77]=Me):Me=e[77],e[78]!==Ce||e[79]!==Me?(Ie=u.jsxs("span",{children:[Ce,Me]}),e[78]=Ce,e[79]=Me,e[80]=Ie):Ie=e[80];const Re=J||X?_:H.playerName,Le=J||X?be:ue;let Ae,Fe,$e,Ge,We;e[81]!==Re||e[82]!==Le?(Ae=u.jsx("input",{type:"text",name:er[0],id:er[0],className:"emoji",value:Re,onChange:Le,onFocus:ps}),e[81]=Re,e[82]=Le,e[83]=Ae):Ae=e[83],e[84]!==Ie||e[85]!==Ae?(Fe=u.jsxs("label",{htmlFor:er[0],children:[Ie,Ae]}),e[84]=Ie,e[85]=Ae,e[86]=Fe):Fe=e[86],e[87]!==t?($e=t.i18n("Opponent's Name"),e[87]=t,e[88]=$e):$e=e[88],e[89]!==t?(Ge=t.i18n(": "),e[89]=t,e[90]=Ge):Ge=e[90],e[91]!==$e||e[92]!==Ge?(We=u.jsxs("span",{children:[$e,Ge]}),e[91]=$e,e[92]=Ge,e[93]=We):We=e[93];const Ve=J||X,Ye=J||X?h:H.opponentName,Ke=J||X?be:ue;let Ue,Je,Qe,Xe,Ze,et,tt;e[94]!==Ve||e[95]!==Ye||e[96]!==Ke?(Ue=u.jsx("input",{type:"text",name:er[1],id:er[1],className:"emoji",disabled:Ve,value:Ye,onChange:Ke,onFocus:us}),e[94]=Ve,e[95]=Ye,e[96]=Ke,e[97]=Ue):Ue=e[97],e[98]!==We||e[99]!==Ue?(Je=u.jsxs("label",{htmlFor:er[1],children:[We,Ue]}),e[98]=We,e[99]=Ue,e[100]=Je):Je=e[100],e[101]!==Fe||e[102]!==Je?(Qe=u.jsxs("div",{className:Ee,children:[Fe,Je]}),e[101]=Fe,e[102]=Je,e[103]=Qe):Qe=e[103],e[104]===Symbol.for("react.memo_cache_sentinel")?(Xe=x(Rn),e[104]=Xe):Xe=e[104],e[105]!==t?(Ze=t.i18n("Choose a Tavern (Preset Preferences)"),e[105]=t,e[106]=Ze):Ze=e[106],e[107]!==t?(et=t.i18n(": "),e[107]=t,e[108]=et):et=e[108],e[109]!==Ze||e[110]!==et?(tt=u.jsxs("span",{children:[Ze,et]}),e[109]=Ze,e[110]=et,e[111]=tt):tt=e[111];const nt=J?ne:V;let rt,st,ot,at,it,lt,ct,dt,pt,ut,mt,bt,gt;e[112]===Symbol.for("react.memo_cache_sentinel")?(rt=e=>{ge(parseInt(e.target.value,10))},e[112]=rt):rt=e[112],e[113]!==t?(st=t.i18n("Default"),e[113]=t,e[114]=st):st=e[114],e[115]!==st?(ot=u.jsx("option",{value:-2,children:st}),e[115]=st,e[116]=ot):ot=e[116],e[117]!==t?(at=Dr.map(((e,n)=>u.jsx("optgroup",{className:"font-light not-italic",label:`${t.i18n(["Castle in Enroth","Antagarich","Jadame"][e.c-6])} ${["🏰","🍺","🍺"][e.c-6]}`,children:Fr(Ir.map(((e,n)=>u.jsxs("option",{value:n,children:[t.taverns(n,"name")," - ",t.taverns(n,"location")]},n))),Dr.map(ms))[n]},n))),e[117]=t,e[118]=at):at=e[118],e[119]!==t||e[120]!==J||e[121]!==V?(it=(-1===V||J)&&u.jsx("option",{value:-1,children:t.i18n("Customized")}),e[119]=t,e[120]=J,e[121]=V,e[122]=it):it=e[122],e[123]!==J||e[124]!==nt||e[125]!==ot||e[126]!==at||e[127]!==it?(lt=u.jsxs("select",{name:"tavern",id:"tavern",value:nt,disabled:J,onChange:rt,children:[ot,at,it]}),e[123]=J,e[124]=nt,e[125]=ot,e[126]=at,e[127]=it,e[128]=lt):lt=e[128],e[129]!==tt||e[130]!==lt?(ct=u.jsxs("label",{htmlFor:"tavern",className:Xe,children:[tt,lt]}),e[129]=tt,e[130]=lt,e[131]=ct):ct=e[131],e[132]!==t?(dt=t.i18n("Starting Conditions"),e[132]=t,e[133]=dt):dt=e[133],e[134]!==t?(pt=t.i18n(": "),e[134]=t,e[135]=pt):pt=e[135],e[136]!==dt||e[137]!==pt?(ut=u.jsxs("h4",{children:[dt,pt]}),e[136]=dt,e[137]=pt,e[138]=ut):ut=e[138],e[139]===Symbol.for("react.memo_cache_sentinel")?(mt=x($n),e[139]=mt):mt=e[139],e[140]!==t?(bt=Hr(t.i18n("tower")),e[140]=t,e[141]=bt):bt=e[141],e[142]!==bt?(gt=u.jsx("span",{children:bt}),e[142]=bt,e[143]=gt):gt=e[143];const ht=J&&null!==g?g.tower:H.tower;let wt,xt,vt,jt;e[144]!==J||e[145]!==ht?(wt=u.jsx(Cr,{name:tr[0],id:tr[0],min:"1",disabled:J,value:ht,onChange:ue}),e[144]=J,e[145]=ht,e[146]=wt):wt=e[146],e[147]!==gt||e[148]!==wt?(xt=u.jsxs("label",{htmlFor:tr[0],children:[gt,wt]}),e[147]=gt,e[148]=wt,e[149]=xt):xt=e[149],e[150]!==t?(vt=Hr(t.i18n("bricks")),e[150]=t,e[151]=vt):vt=e[151],e[152]!==vt?(jt=u.jsx("span",{children:vt}),e[152]=vt,e[153]=jt):jt=e[153];const Pt=J&&null!==g?g.bricks:H.bricks;let St,kt,Tt,Ot;e[154]!==J||e[155]!==Pt?(St=u.jsx(Cr,{name:tr[2],id:tr[2],min:"0",disabled:J,value:Pt,onChange:ue}),e[154]=J,e[155]=Pt,e[156]=St):St=e[156],e[157]!==jt||e[158]!==St?(kt=u.jsxs("label",{htmlFor:tr[2],children:[jt,St]}),e[157]=jt,e[158]=St,e[159]=kt):kt=e[159],e[160]!==t?(Tt=Hr(t.i18n("gems")),e[160]=t,e[161]=Tt):Tt=e[161],e[162]!==Tt?(Ot=u.jsx("span",{children:Tt}),e[162]=Tt,e[163]=Ot):Ot=e[163];const Nt=J&&null!==g?g.gems:H.gems;let Et,Ct,Mt,It;e[164]!==J||e[165]!==Nt?(Et=u.jsx(Cr,{name:tr[3],id:tr[3],min:"0",disabled:J,value:Nt,onChange:ue}),e[164]=J,e[165]=Nt,e[166]=Et):Et=e[166],e[167]!==Ot||e[168]!==Et?(Ct=u.jsxs("label",{htmlFor:tr[3],children:[Ot,Et]}),e[167]=Ot,e[168]=Et,e[169]=Ct):Ct=e[169],e[170]!==t?(Mt=Hr(t.i18n("recruits")),e[170]=t,e[171]=Mt):Mt=e[171],e[172]!==Mt?(It=u.jsx("span",{children:Mt}),e[172]=Mt,e[173]=It):It=e[173];const Dt=J&&null!==g?g.recruits:H.recruits;let zt,Rt,Lt,At,Ht,Ft;e[174]!==J||e[175]!==Dt?(zt=u.jsx(Cr,{name:tr[4],id:tr[4],min:"0",disabled:J,value:Dt,onChange:ue}),e[174]=J,e[175]=Dt,e[176]=zt):zt=e[176],e[177]!==It||e[178]!==zt?(Rt=u.jsxs("label",{htmlFor:tr[4],children:[It,zt]}),e[177]=It,e[178]=zt,e[179]=Rt):Rt=e[179],e[180]!==xt||e[181]!==kt||e[182]!==Ct||e[183]!==Rt?(Lt=u.jsxs("div",{className:mt,children:[xt,kt,Ct,Rt]}),e[180]=xt,e[181]=kt,e[182]=Ct,e[183]=Rt,e[184]=Lt):Lt=e[184],e[185]===Symbol.for("react.memo_cache_sentinel")?(At=x($n),e[185]=At):At=e[185],e[186]!==t?(Ht=Hr(t.i18n("wall")),e[186]=t,e[187]=Ht):Ht=e[187],e[188]!==Ht?(Ft=u.jsx("span",{children:Ht}),e[188]=Ht,e[189]=Ft):Ft=e[189];const qt=J&&null!==g?g.wall:H.wall;let Bt,$t,Gt,Wt;e[190]!==J||e[191]!==qt?(Bt=u.jsx(Cr,{name:tr[1],id:tr[1],min:"0",disabled:J,value:qt,onChange:ue}),e[190]=J,e[191]=qt,e[192]=Bt):Bt=e[192],e[193]!==Ft||e[194]!==Bt?($t=u.jsxs("label",{htmlFor:tr[1],children:[Ft,Bt]}),e[193]=Ft,e[194]=Bt,e[195]=$t):$t=e[195],e[196]!==t?(Gt=Hr(t.i18n("quarry")),e[196]=t,e[197]=Gt):Gt=e[197],e[198]!==Gt?(Wt=u.jsx("span",{children:Gt}),e[198]=Gt,e[199]=Wt):Wt=e[199];const Vt=J&&null!==g?g.brickProd:H.brickProd;let Kt,Ut,Jt,Qt;e[200]!==J||e[201]!==Vt?(Kt=u.jsx(Cr,{name:tr[5],id:tr[5],min:1,disabled:J,value:Vt,onChange:ue}),e[200]=J,e[201]=Vt,e[202]=Kt):Kt=e[202],e[203]!==Kt||e[204]!==Wt?(Ut=u.jsxs("label",{htmlFor:tr[5],children:[Wt,Kt]}),e[203]=Kt,e[204]=Wt,e[205]=Ut):Ut=e[205],e[206]!==t?(Jt=Hr(t.i18n("magic")),e[206]=t,e[207]=Jt):Jt=e[207],e[208]!==Jt?(Qt=u.jsx("span",{children:Jt}),e[208]=Jt,e[209]=Qt):Qt=e[209];const Xt=J&&null!==g?g.gemProd:H.gemProd;let Zt,en,tn,nn;e[210]!==J||e[211]!==Xt?(Zt=u.jsx(Cr,{name:tr[6],id:tr[6],min:1,disabled:J,value:Xt,onChange:ue}),e[210]=J,e[211]=Xt,e[212]=Zt):Zt=e[212],e[213]!==Qt||e[214]!==Zt?(en=u.jsxs("label",{htmlFor:tr[6],children:[Qt,Zt]}),e[213]=Qt,e[214]=Zt,e[215]=en):en=e[215],e[216]!==t?(tn=Hr(t.i18n("dungeon")),e[216]=t,e[217]=tn):tn=e[217],e[218]!==tn?(nn=u.jsx("span",{children:tn}),e[218]=tn,e[219]=nn):nn=e[219];const rn=J&&null!==g?g.recruitProd:H.recruitProd;let sn,on,an,ln,cn,dn,pn,un,mn;e[220]!==J||e[221]!==rn?(sn=u.jsx(Cr,{name:tr[7],id:tr[7],min:1,disabled:J,value:rn,onChange:ue}),e[220]=J,e[221]=rn,e[222]=sn):sn=e[222],e[223]!==nn||e[224]!==sn?(on=u.jsxs("label",{htmlFor:tr[7],children:[nn,sn]}),e[223]=nn,e[224]=sn,e[225]=on):on=e[225],e[226]!==Ut||e[227]!==en||e[228]!==on||e[229]!==$t?(an=u.jsxs("div",{className:At,children:[$t,Ut,en,on]}),e[226]=Ut,e[227]=en,e[228]=on,e[229]=$t,e[230]=an):an=e[230],e[231]!==t?(ln=t.i18n("Victory Conditions"),e[231]=t,e[232]=ln):ln=e[232],e[233]!==t?(cn=t.i18n(": "),e[233]=t,e[234]=cn):cn=e[234],e[235]!==ln||e[236]!==cn?(dn=u.jsxs("h4",{children:[ln,cn]}),e[235]=ln,e[236]=cn,e[237]=dn):dn=e[237],e[238]===Symbol.for("react.memo_cache_sentinel")?(pn=x(Bn),e[238]=pn):pn=e[238],e[239]!==t?(un=Hr(t.i18n("tower")),e[239]=t,e[240]=un):un=e[240],e[241]!==un?(mn=u.jsx("span",{children:un}),e[241]=un,e[242]=mn):mn=e[242];const bn=H.tower+1,fn=J&&null!==g?g.winTower:H.winTower;let yn,gn,_n,hn,wn;e[243]!==t||e[244]!==H.tower?(yn=Yt(t.i18n("Minimum is starting %s1 + 1 = %s0").replace("%s1",Hr(t.i18n("tower"))).replace("%s0",(H.tower+1).toString()),"bottom"),e[243]=t,e[244]=H.tower,e[245]=yn):yn=e[245],e[246]!==J||e[247]!==bn||e[248]!==fn||e[249]!==yn?(gn=u.jsx(Cr,i({name:nr[0],id:nr[0],min:bn,disabled:J,value:fn,onChange:ue},yn)),e[246]=J,e[247]=bn,e[248]=fn,e[249]=yn,e[250]=gn):gn=e[250],e[251]!==mn||e[252]!==gn?(_n=u.jsxs("label",{htmlFor:nr[0],children:[mn,gn]}),e[251]=mn,e[252]=gn,e[253]=_n):_n=e[253],e[254]!==t?(hn=Hr(t.i18n("resource")),e[254]=t,e[255]=hn):hn=e[255],e[256]!==hn?(wn=u.jsx("span",{children:hn}),e[256]=hn,e[257]=wn):wn=e[257];const xn=Math.max(H.bricks+H.brickProd,H.gems+H.gemProd,H.recruits+H.recruitProd)+1,vn=J&&null!==g?g.winResource:H.winResource;let jn,Pn,Sn,kn,Tn,On,Nn,En,Cn,Dn;e[258]!==t||e[259]!==H.brickProd||e[260]!==H.bricks||e[261]!==H.gemProd||e[262]!==H.gems||e[263]!==H.recruitProd||e[264]!==H.recruits?(jn=Yt(t.i18n("Minimum is MAX(%s1+%s2, %s3+%s4, %s5+%s6) + 1 = %s0").replace("%s1",Hr(t.i18n("bricks"))).replace("%s2",Hr(t.i18n("quarry"))).replace("%s3",Hr(t.i18n("gems"))).replace("%s4",Hr(t.i18n("magic"))).replace("%s5",Hr(t.i18n("recruits"))).replace("%s6",Hr(t.i18n("dungeon"))).replace("%s0",(Math.max(H.bricks+H.brickProd,H.gems+H.gemProd,H.recruits+H.recruitProd)+1).toString()),"bottom"),e[258]=t,e[259]=H.brickProd,e[260]=H.bricks,e[261]=H.gemProd,e[262]=H.gems,e[263]=H.recruitProd,e[264]=H.recruits,e[265]=jn):jn=e[265],e[266]!==J||e[267]!==xn||e[268]!==vn||e[269]!==jn?(Pn=u.jsx(Cr,i({name:nr[1],id:nr[1],min:xn,disabled:J,value:vn,onChange:ue},jn)),e[266]=J,e[267]=xn,e[268]=vn,e[269]=jn,e[270]=Pn):Pn=e[270],e[271]!==wn||e[272]!==Pn?(Sn=u.jsxs("label",{htmlFor:nr[1],children:[wn,Pn]}),e[271]=wn,e[272]=Pn,e[273]=Sn):Sn=e[273],e[274]!==_n||e[275]!==Sn?(kn=u.jsxs("div",{className:pn,children:[_n,Sn]}),e[274]=_n,e[275]=Sn,e[276]=kn):kn=e[276],e[277]!==t?(Tn=t.i18n("Other Preferences"),e[277]=t,e[278]=Tn):Tn=e[278],e[279]!==t?(On=t.i18n(": "),e[279]=t,e[280]=On):On=e[280],e[281]!==Tn||e[282]!==On?(Nn=u.jsxs("h4",{children:[Tn,On]}),e[281]=Tn,e[282]=On,e[283]=Nn):Nn=e[283],e[284]===Symbol.for("react.memo_cache_sentinel")?(En=x(Bn),e[284]=En):En=e[284],e[285]!==t?(Cn=t.i18n("Cards in Hand"),e[285]=t,e[286]=Cn):Cn=e[286],e[287]!==Cn?(Dn=u.jsx("span",{children:Cn}),e[287]=Cn,e[288]=Dn):Dn=e[288];const zn=J&&null!==g?g.cardsInHand:H.cardsInHand;let Yn,Kn,Jn,Qn,Xn,Zn;e[289]!==J||e[290]!==zn?(Yn=u.jsx(Cr,{name:nr[2],id:nr[2],min:"0",max:15,disabled:J,value:zn,onChange:ue}),e[289]=J,e[290]=zn,e[291]=Yn):Yn=e[291],e[292]!==Dn||e[293]!==Yn?(Kn=u.jsxs("label",{htmlFor:nr[2],children:[Dn,Yn]}),e[292]=Dn,e[293]=Yn,e[294]=Kn):Kn=e[294],e[295]===Symbol.for("react.memo_cache_sentinel")?(Jn=x(Gn),e[295]=Jn):Jn=e[295],e[296]!==t?(Qn=t.i18n("AI Level"),e[296]=t,e[297]=Qn):Qn=e[297],e[298]!==Qn?(Xn=u.jsx("span",{className:Jn,children:Qn}),e[298]=Qn,e[299]=Xn):Xn=e[299],e[300]===Symbol.for("react.memo_cache_sentinel")?(Zn=x(Wn),e[300]=Zn):Zn=e[300];const rr=w>0;let sr,or,ar,ir,lr,cr,dr,pr,ur,mr,br,fr,yr,gr,_r,hr,wr,xr,jr,Pr,Sr,kr,Tr,Or,Nr,Er,Mr,zr,Rr,Lr,qr,fs,ys;e[301]===Symbol.for("react.memo_cache_sentinel")?(sr=e=>{B(parseInt(e.target.value,10))},e[301]=sr):sr=e[301],e[302]!==t?(or=t.i18n("Genius"),e[302]=t,e[303]=or):or=e[303],e[304]!==or?(ar=u.jsxs("option",{className:"emoji",value:0,children:[or," 💡"]}),e[304]=or,e[305]=ar):ar=e[305],e[306]!==t?(ir=t.i18n("Smart"),e[306]=t,e[307]=ir):ir=e[307],e[308]!==ir?(lr=u.jsxs("option",{className:"emoji",value:1,children:[ir," 📚"]}),e[308]=ir,e[309]=lr):lr=e[309],e[310]!==t?(cr=t.i18n("Mediocre"),e[310]=t,e[311]=cr):cr=e[311],e[312]!==cr?(dr=u.jsxs("option",{className:"emoji",value:2,children:[cr," 😐"]}),e[312]=cr,e[313]=dr):dr=e[313],e[314]!==t?(pr=t.i18n("Stupid"),e[314]=t,e[315]=pr):pr=e[315],e[316]!==pr?(ur=u.jsxs("option",{className:"emoji",value:3,children:[pr," 👹"]}),e[316]=pr,e[317]=ur):ur=e[317],e[318]!==t?(mr=t.i18n("Idiotic"),e[318]=t,e[319]=mr):mr=e[319],e[320]!==mr?(br=u.jsxs("option",{className:"emoji",value:4,children:[mr," 🤡"]}),e[320]=mr,e[321]=br):br=e[321],e[322]!==q||e[323]!==rr||e[324]!==ar||e[325]!==lr||e[326]!==dr||e[327]!==ur||e[328]!==br?(fr=u.jsxs("select",{name:nr[3],id:nr[3],className:Zn,value:q,disabled:rr,onChange:sr,children:[ar,lr,dr,ur,br]}),e[322]=q,e[323]=rr,e[324]=ar,e[325]=lr,e[326]=dr,e[327]=ur,e[328]=br,e[329]=fr):fr=e[329],e[330]!==Xn||e[331]!==fr?(yr=u.jsxs("label",{htmlFor:nr[3],children:[Xn,fr]}),e[330]=Xn,e[331]=fr,e[332]=yr):yr=e[332],e[333]!==Kn||e[334]!==yr?(gr=u.jsxs("div",{className:En,children:[Kn,yr]}),e[333]=Kn,e[334]=yr,e[335]=gr):gr=e[335],e[336]===Symbol.for("react.memo_cache_sentinel")?(_r=x(Fn,An),e[336]=_r):_r=e[336],e[337]!==n?(hr=e=>{n({type:"0e",on:e.target.checked})},e[337]=n,e[338]=hr):hr=e[338],e[339]!==m||e[340]!==hr?(wr=u.jsx(vr,{name:"isMultiplayer",id:"isMultiplayer",checked:m,onChange:hr}),e[339]=m,e[340]=hr,e[341]=wr):wr=e[341],e[342]!==t?(xr=t.i18n("Multiplayer"),e[342]=t,e[343]=xr):xr=e[343],e[344]!==t?(jr=Yt(t.i18n("Multiplayer Mode is experimental and works only for users behind non-symmetric NAT")),e[344]=t,e[345]=jr):jr=e[345],e[346]!==jr?(Pr=u.jsx("span",l(i({className:"emoji"},jr),{children:"🧪"})),e[346]=jr,e[347]=Pr):Pr=e[347],e[348]!==t?(Sr=t.i18n(": "),e[348]=t,e[349]=Sr):Sr=e[349],e[350]!==t||e[351]!==m?(kr=(m?t.i18n("on"):t.i18n("off")).toUpperCase(),e[350]=t,e[351]=m,e[352]=kr):kr=e[352],e[353]!==xr||e[354]!==Pr||e[355]!==Sr||e[356]!==kr?(Tr=u.jsxs("span",{children:[xr,Pr,Sr,kr]}),e[353]=xr,e[354]=Pr,e[355]=Sr,e[356]=kr,e[357]=Tr):Tr=e[357],e[358]!==wr||e[359]!==Tr?(Or=u.jsx("h4",{className:qn,children:u.jsxs("label",{htmlFor:"isMultiplayer",children:[wr,Tr]})}),e[358]=wr,e[359]=Tr,e[360]=Or):Or=e[360],e[361]===Symbol.for("react.memo_cache_sentinel")?(Nr=x(qn,"emoji"),e[361]=Nr):Nr=e[361],e[362]!==K?(Er=u.jsx("span",{id:Hn,className:Nr,children:K}),e[362]=K,e[363]=Er):Er=e[363],e[364]!==Or||e[365]!==Er?(Mr=u.jsxs("div",{className:_r,children:[Or,Er]}),e[364]=Or,e[365]=Er,e[366]=Mr):Mr=e[366],e[367]===Symbol.for("react.memo_cache_sentinel")?(zr=x(An),e[367]=zr):zr=e[367],e[368]!==t?(Rr=t.i18n("Your ID"),e[368]=t,e[369]=Rr):Rr=e[369],e[370]!==t?(Lr=t.i18n(": "),e[370]=t,e[371]=Lr):Lr=e[371],e[372]!==Rr||e[373]!==Lr?(qr=u.jsxs("span",{children:[Rr,Lr]}),e[372]=Rr,e[373]=Lr,e[374]=qr):qr=e[374],e[375]===Symbol.for("react.memo_cache_sentinel")?(fs=e=>{const t=e.target;var n;""!==t.value&&(t.select(),(n=t.value,new Promise(((e,t)=>{if(navigator.clipboard)navigator.clipboard.writeText(n).then((()=>e())).catch((e=>t(new Error("Clipboard API failed: "+e))));else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const s=document.createElement("textarea");s.value=n,s.style.position="absolute",s.style.opacity="0",document.body.appendChild(s),s.select(),s.setSelectionRange(0,n.length);try{document.execCommand("copy")?e():t(new Error("execCommand copy failed"))}catch(r){t(new Error("execCommand failed: "+r))}finally{document.body.removeChild(s)}}else t(new Error("Clipboard API and execCommand not supported"))}))).then((()=>{a(!0),null!==s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{a(!1)}),3e3)})).catch(bs))},e[375]=fs):fs=e[375],e[376]!==b?(ys=u.jsx("input",{ref:r,type:"text",name:"yourId",id:"yourid",className:"cursor-pointer",value:b,readOnly:!0,onClick:fs}),e[376]=b,e[377]=ys):ys=e[377];const gs=!m;let _s,hs,ws,xs,vs,js,Ps,Ss;e[378]===Symbol.for("react.memo_cache_sentinel")?(_s=()=>{var e;null==(e=r.current)||e.click()},e[378]=_s):_s=e[378],e[379]!==t||e[380]!==o?(hs=o?t.i18n("Copied 📋✅"):t.i18n("Copy"),e[379]=t,e[380]=o,e[381]=hs):hs=e[381],e[382]!==gs||e[383]!==hs?(ws=u.jsx("button",{disabled:gs,onClick:_s,children:hs}),e[382]=gs,e[383]=hs,e[384]=ws):ws=e[384],e[385]!==qr||e[386]!==ys||e[387]!==ws?(xs=u.jsx("div",{className:zr,children:u.jsxs("label",{htmlFor:"yourid",children:[qr,ys,ws]})}),e[385]=qr,e[386]=ys,e[387]=ws,e[388]=xs):xs=e[388],e[389]===Symbol.for("react.memo_cache_sentinel")?(vs=x(An),e[389]=vs):vs=e[389],e[390]!==t?(js=t.i18n("Enter your opponent's ID"),e[390]=t,e[391]=js):js=e[391],e[392]!==t?(Ps=t.i18n(": "),e[392]=t,e[393]=Ps):Ps=e[393],e[394]!==js||e[395]!==Ps?(Ss=u.jsxs("span",{children:[js,Ps]}),e[394]=js,e[395]=Ps,e[396]=Ss):Ss=e[396];const ks=!m||"connecting_net"===y||"connecting_to_id"===y||"connected_to_id"===y||"connected_by_id"===y;let Ts,Os;e[397]!==H.opponentId||e[398]!==ks?(Ts=u.jsx("input",{disabled:ks,type:"text",name:"opponentId",id:"opponentid",value:H.opponentId,onChange:ue}),e[397]=H.opponentId,e[398]=ks,e[399]=Ts):Ts=e[399],e[400]!==Ss||e[401]!==Ts?(Os=u.jsxs("label",{htmlFor:"opponentid",children:[Ss,Ts]}),e[400]=Ss,e[401]=Ts,e[402]=Os):Os=e[402];const Ns=!m||"connecting_net"===y||"connecting_to_id"===y||"connected_to_id"===y||"connected_by_id"===y||""===H.opponentId;let Es,Cs,Ms,Is,Ds,zs,Rs,Ls,As,Hs,Fs,qs;return e[403]!==n||e[404]!==H.opponentId?(Es=e=>{n({type:"0j",id:H.opponentId})},e[403]=n,e[404]=H.opponentId,e[405]=Es):Es=e[405],e[406]!==t?(Cs=t.i18n("Connect"),e[406]=t,e[407]=Cs):Cs=e[407],e[408]!==Ns||e[409]!==Es||e[410]!==Cs?(Ms=u.jsx("button",{disabled:Ns,onClick:Es,children:Cs}),e[408]=Ns,e[409]=Es,e[410]=Cs,e[411]=Ms):Ms=e[411],e[412]!==Os||e[413]!==Ms?(Is=u.jsxs("div",{className:vs,children:[Os,Ms]}),e[412]=Os,e[413]=Ms,e[414]=Is):Is=e[414],e[415]===Symbol.for("react.memo_cache_sentinel")?(Ds=x(Mn),e[415]=Ds):Ds=e[415],e[416]!==m||e[417]!==w||e[418]!==b?(zs=e=>{F((e=>{const{opponentId:t}=e;return l(i({playerName:Ar(qe),opponentName:Ar(Be)},He),{isMultiplayer:m,yourId:b,opponentId:t})})),w<=0&&B(0)},e[416]=m,e[417]=w,e[418]=b,e[419]=zs):zs=e[419],e[420]!==t?(Rs=t.i18n("Reset"),e[420]=t,e[421]=Rs):Rs=e[421],e[422]!==J||e[423]!==zs||e[424]!==Rs?(Ls=u.jsx("button",{accessKey:"r",disabled:J,onClick:zs,children:Rs}),e[422]=J,e[423]=zs,e[424]=Rs,e[425]=Ls):Ls=e[425],e[426]!==t?(As=t.i18n("Apply & New Game"),e[426]=t,e[427]=As):As=e[427],e[428]!==G||e[429]!==J||e[430]!==As?(Hs=u.jsx("button",{accessKey:"a",disabled:J,className:In,onClick:G,children:As}),e[428]=G,e[429]=J,e[430]=As,e[431]=Hs):Hs=e[431],e[432]!==Ls||e[433]!==Hs?(Fs=u.jsxs("div",{className:Ds,children:[Ls,Hs]}),e[432]=Ls,e[433]=Hs,e[434]=Fs):Fs=e[434],e[435]!==an||e[436]!==dn||e[437]!==kn||e[438]!==Nn||e[439]!==gr||e[440]!==Mr||e[441]!==xs||e[442]!==Is||e[443]!==Fs||e[444]!==ve||e[445]!==Oe||e[446]!==Qe||e[447]!==ct||e[448]!==ut||e[449]!==Lt?(qs=u.jsxs(Un,{screenActionType:ye,onCancel:ve,children:[Oe,Qe,ct,ut,Lt,an,dn,kn,Nn,gr,Mr,xs,Is,Fs]}),e[435]=an,e[436]=dn,e[437]=kn,e[438]=Nn,e[439]=gr,e[440]=Mr,e[441]=xs,e[442]=Is,e[443]=Fs,e[444]=ve,e[445]=Oe,e[446]=Qe,e[447]=ct,e[448]=ut,e[449]=Lt,e[450]=qs):qs=e[450],qs};function Br(e){return e.multiplayer.on}function $r(e){return e.multiplayer.yourId}function Gr(e){return e.multiplayer.status}function Wr(e){return e.multiplayer.tempSettings}function Vr(e){return e.multiplayer.tempPlayerName}function Yr(e){return e.multiplayer.tempOpponentName}function Kr(e){return e.multiplayer.gameNumber}function Ur(e){return e.ai.aiLevel}function Jr(e){return e.settings.playerName}function Qr(e){return e.settings.opponentName}function Xr(e){return e.settings.tower}function Zr(e){return e.settings.wall}function es(e){return e.settings.bricks}function ts(e){return e.settings.gems}function ns(e){return e.settings.recruits}function rs(e){return e.settings.brickProd}function ss(e){return e.settings.gemProd}function os(e){return e.settings.recruitProd}function as(e){return e.settings.winTower}function is(e){return e.settings.winResource}function ls(e){return e.settings.cardsInHand}function cs(e){return e.multiplayer.opponentId}function ds(e){const t=Ir.concat(He).findIndex((t=>((e,t)=>e.tower===t.tower&&e.wall===t.wall&&e.brickProd===t.brickProd&&e.gemProd===t.gemProd&&e.recruitProd===t.recruitProd&&e.bricks===t.bricks&&e.gems===t.gems&&e.recruits===t.recruits&&e.winTower===t.winTower&&e.winResource===t.winResource&&e.cardsInHand===t.cardsInHand)(e,t)));return t===Ir.length?-2:t}function ps(e){Rr(e.target.value)&&e.target.select()}function us(e){Rr(e.target.value)&&e.target.select()}function ms(e){return e.count}function bs(e){}const fs=()=>{const e=p.c(162),t=yt(ys),n=yt(gs),r=yt(_s),s=yt(hs),o=yt(ws),a=d.useContext(_t),c=ft(),[m,b]=d.useState(0);let f,y,g,_,h,w,v,j,P,S,k,T;e[0]!==o?(f=()=>{b(It.findIndex((e=>((e,t)=>{if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(e[s]!==t[s])return!1;return!0})(o,i(i({},Ve),e.values)))))},y=[o],e[0]=o,e[1]=f,e[2]=y):(f=e[1],y=e[2]),d.useEffect(f,y),e[3]!==a?(g=a.i18n("Sound"),e[3]=a,e[4]=g):g=e[4],e[5]!==a?(_=a.i18n(": "),e[5]=a,e[6]=_):_=e[6],e[7]!==g||e[8]!==_?(h=u.jsxs("h3",{children:[g,_]}),e[7]=g,e[8]=_,e[9]=h):h=e[9],e[10]!==a?(w=a.i18n("Volume"),e[10]=a,e[11]=w):w=e[11],e[12]!==w?(v=u.jsx("span",{children:w}),e[12]=w,e[13]=v):v=e[13],e[14]!==t?(j=u.jsx("span",{children:t}),e[14]=t,e[15]=j):j=e[15],e[16]!==v||e[17]!==j?(P=u.jsxs("div",{className:"flex justify-between",children:[v,j]}),e[16]=v,e[17]=j,e[18]=P):P=e[18],e[19]!==c?(S=e=>{c({type:te,volume:parseFloat(e.target.value)})},e[19]=c,e[20]=S):S=e[20],e[21]!==S||e[22]!==t?(k=u.jsx("input",{type:"range",min:0,max:10,step:.1,value:t,onChange:S}),e[21]=S,e[22]=t,e[23]=k):k=e[23],e[24]!==k||e[25]!==P?(T=u.jsxs("label",{children:[P,k]}),e[24]=k,e[25]=P,e[26]=T):T=e[26];const O=0===t;let N,E,C,M,I,D,z,R,L,A,H,F,q,B,$,G,W,V,Y,K,U,J,Q,X,Z,ee,re,se;e[27]!==c?(N=e=>{c({type:te,volume:e.target.checked?0:5})},e[27]=c,e[28]=N):N=e[28],e[29]!==O||e[30]!==N?(E=u.jsx(vr,{checked:O,onChange:N}),e[29]=O,e[30]=N,e[31]=E):E=e[31],e[32]!==a?(C=a.i18n("Mute"),e[32]=a,e[33]=C):C=e[33],e[34]!==C?(M=u.jsx("span",{children:C}),e[34]=C,e[35]=M):M=e[35],e[36]!==E||e[37]!==M?(I=u.jsxs("label",{className:"flex",children:[E,M]}),e[36]=E,e[37]=M,e[38]=I):I=e[38],e[39]!==c?(D=e=>{c({type:"8",stereo:e.target.checked})},e[39]=c,e[40]=D):D=e[40],e[41]!==n||e[42]!==D?(z=u.jsx(vr,{checked:n,onChange:D}),e[41]=n,e[42]=D,e[43]=z):z=e[43],e[44]!==a?(R=a.i18n("Stereo Sound"),e[44]=a,e[45]=R):R=e[45],e[46]!==R?(L=u.jsx("span",{children:R}),e[46]=R,e[47]=L):L=e[47],e[48]!==z||e[49]!==L?(A=u.jsxs("label",{className:"flex",children:[z,L]}),e[48]=z,e[49]=L,e[50]=A):A=e[50],e[51]!==I||e[52]!==A?(H=u.jsxs("div",{className:"flex justify-evenly",children:[I,A]}),e[51]=I,e[52]=A,e[53]=H):H=e[53],e[54]!==a?(F=a.i18n("Graphics"),e[54]=a,e[55]=F):F=e[55],e[56]!==a?(q=a.i18n(": "),e[56]=a,e[57]=q):q=e[57],e[58]!==F||e[59]!==q?(B=u.jsxs("h3",{children:[F,q]}),e[58]=F,e[59]=q,e[60]=B):B=e[60],e[61]!==c?($=e=>{c({type:"a",noanim:e.target.checked})},e[61]=c,e[62]=$):$=e[62],e[63]!==r||e[64]!==$?(G=u.jsx(vr,{checked:r,onChange:$}),e[63]=r,e[64]=$,e[65]=G):G=e[65],e[66]!==a?(W=a.i18n("Disable animation"),e[66]=a,e[67]=W):W=e[67],e[68]!==W?(V=u.jsx("span",{children:W}),e[68]=W,e[69]=V):V=e[69],e[70]!==G||e[71]!==V?(Y=u.jsxs("label",{className:"shrink-0",children:[G,V]}),e[70]=G,e[71]=V,e[72]=Y):Y=e[72],e[73]!==B||e[74]!==Y?(K=u.jsxs("div",{className:"flex justify-between",children:[B,Y]}),e[73]=B,e[74]=Y,e[75]=K):K=e[75],e[76]!==a?(U=a.i18n("Pixelation"),e[76]=a,e[77]=U):U=e[77],e[78]!==U?(J=u.jsx("span",{className:"!p-0",children:u.jsx("span",{children:U})}),e[78]=U,e[79]=J):J=e[79],e[80]!==s?(Q=u.jsx("span",{children:s}),e[80]=s,e[81]=Q):Q=e[81],e[82]!==J||e[83]!==Q?(X=u.jsxs("div",{className:"flex justify-between",children:[J,Q]}),e[82]=J,e[83]=Q,e[84]=X):X=e[84],e[85]!==c?(Z=e=>{c({type:"c",pixelation:parseInt(e.target.value,10)})},e[85]=c,e[86]=Z):Z=e[86],e[87]!==s||e[88]!==Z?(ee=u.jsx("input",{type:"range",min:0,max:12,step:1,value:s,onChange:Z}),e[87]=s,e[88]=Z,e[89]=ee):ee=e[89],e[90]!==X||e[91]!==ee?(re=u.jsxs("label",{children:[X,ee]}),e[90]=X,e[91]=ee,e[92]=re):re=e[92],e[93]!==a?(se=a.i18n("Visual Preset"),e[93]=a,e[94]=se):se=e[94];const oe=`${a.i18n("Reset")}${a.i18n(": ")}Alt + O`;let ae,ie,le,ce,de,pe,ue,me,be,fe,ye,ge,he,we,xe,ve,je,Pe,Se,ke,Te,Oe,Ne;return e[95]!==oe?(ae=Yt(oe),e[95]=oe,e[96]=ae):ae=e[96],e[97]!==ae?(ie=u.jsx("span",l(i({className:"emoji !p-0"},ae),{children:"💡"})),e[97]=ae,e[98]=ie):ie=e[98],e[99]!==se||e[100]!==ie?(le=u.jsxs("span",{children:[se," ",ie]}),e[99]=se,e[100]=ie,e[101]=le):le=e[101],e[102]!==c?(ce=e=>{"-1"!==e.target.value&&c({type:ne,payload:i(i({},Ve),It[parseInt(e.target.value,10)].values)})},e[102]=c,e[103]=ce):ce=e[103],e[104]!==a?(de=It.map(((e,t)=>u.jsx("option",{value:t,children:a.i18n(e.en)},t))),e[104]=a,e[105]=de):de=e[105],e[106]!==a||e[107]!==m?(pe=-1===m&&u.jsx("option",{value:-1,children:a.i18n("Customized")},-1),e[106]=a,e[107]=m,e[108]=pe):pe=e[108],e[109]!==ce||e[110]!==de||e[111]!==pe||e[112]!==m?(ue=u.jsxs("select",{id:"visual-preset",className:"flex-grow",value:m,onChange:ce,children:[de,pe]}),e[109]=ce,e[110]=de,e[111]=pe,e[112]=m,e[113]=ue):ue=e[113],e[114]!==le||e[115]!==ue?(me=u.jsxs("label",{htmlFor:"visual-preset",className:"flex",children:[le,ue]}),e[114]=le,e[115]=ue,e[116]=me):me=e[116],e[117]!==a||e[118]!==c||e[119]!==o?(be=Mt.filter(xs).map((e=>u.jsxs("label",{className:"w-1/4 px-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:a.i18n(e.en)}),u.jsx("span",{children:o[e.term]})]}),u.jsx("input",{type:"range",min:Mr[e.term].min,max:Mr[e.term].max,step:Mr[e.term].step,value:o[e.term],onChange:t=>{c({type:ne,payload:{[e.term]:parseFloat(t.target.value)}})}})]},e.term))),e[117]=a,e[118]=c,e[119]=o,e[120]=be):be=e[120],e[121]!==be?(fe=u.jsx("div",{className:"flex flex-wrap",children:be}),e[121]=be,e[122]=fe):fe=e[122],e[123]!==a?(ye=a.i18n("Filters"),e[123]=a,e[124]=ye):ye=e[124],e[125]!==a?(ge=a.i18n(": "),e[125]=a,e[126]=ge):ge=e[126],e[127]!==a?(he=Yt(a.i18n("Filter may slow down the game")),e[127]=a,e[128]=he):he=e[128],e[129]!==he?(we=u.jsx("span",l(i({className:"emoji !p-0"},he),{children:"🧪"})),e[129]=he,e[130]=we):we=e[130],e[131]!==ye||e[132]!==ge||e[133]!==we?(xe=u.jsxs("span",{className:"px-3 py-0.5",children:[ye,ge,we]}),e[131]=ye,e[132]=ge,e[133]=we,e[134]=xe):xe=e[134],e[135]!==a||e[136]!==c||e[137]!==o?(ve=Mt.filter(vs).map((e=>u.jsxs("label",{className:"mx-1",htmlFor:`filter-${e.term}`,children:[u.jsx(vr,{id:`filter-${e.term}`,checked:o[e.term],onChange:t=>{c({type:ne,payload:{[e.term]:t.target.checked}})}}),u.jsx("span",{children:a.i18n(e.en)})]},e.term))),e[135]=a,e[136]=c,e[137]=o,e[138]=ve):ve=e[138],e[139]!==xe||e[140]!==ve?(je=u.jsxs("div",{className:"flex flex-wrap justify-center",children:[xe,ve]}),e[139]=xe,e[140]=ve,e[141]=je):je=e[141],e[142]!==fe||e[143]!==je?(Pe=u.jsxs("div",{className:"text-sm",children:[fe,je]}),e[142]=fe,e[143]=je,e[144]=Pe):Pe=e[144],e[145]===Symbol.for("react.memo_cache_sentinel")?(Se=x(Mn),e[145]=Se):Se=e[145],e[146]!==c?(ke=e=>{c({type:te,volume:5}),c({type:"8",stereo:We}),c({type:"a",noanim:Ye}),c({type:"c",pixelation:0}),c({type:ne,payload:Ve})},e[146]=c,e[147]=ke):ke=e[147],e[148]!==a?(Te=a.i18n("Reset"),e[148]=a,e[149]=Te):Te=e[149],e[150]!==ke||e[151]!==Te?(Oe=u.jsx("div",{className:Se,children:u.jsx("button",{accessKey:"r",onClick:ke,children:Te})}),e[150]=ke,e[151]=Te,e[152]=Oe):Oe=e[152],e[153]!==T||e[154]!==H||e[155]!==K||e[156]!==re||e[157]!==h||e[158]!==me||e[159]!==Pe||e[160]!==Oe?(Ne=u.jsxs(Un,{screenActionType:_e,children:[h,T,H,K,re,me,Pe,Oe]}),e[153]=T,e[154]=H,e[155]=K,e[156]=re,e[157]=h,e[158]=me,e[159]=Pe,e[160]=Oe,e[161]=Ne):Ne=e[161],Ne};function ys(e){return e.sound.volume}function gs(e){return e.sound.stereo}function _s(e){return e.visual.noanim}function hs(e){return e.visual.pixelation}function ws(e){return e.visual.visualvalues}function xs(e){return"main"===e.type}function vs(e){return"filter"===e.type}const js=()=>{const e=p.c(22),t=yt(Ps),n=yt(Ss),r=yt(ks),s=yt(Ts),o=yt(Os),a=yt(Ns),l=yt(Es);let c,d,m,b,f,y,g,_;return e[0]!==s?(c=hn(s)&&u.jsx(mr,i({},s)),e[0]=s,e[1]=c):c=e[1],e[2]!==t?(d=t&&u.jsx(qr,{}),e[2]=t,e[3]=d):d=e[3],e[4]!==n?(m=n&&u.jsx(jr,{}),e[4]=n,e[5]=m):m=e[5],e[6]!==r?(b=r&&u.jsx(fs,{}),e[6]=r,e[7]=b):b=e[7],e[8]!==o?(f=o&&u.jsx(fr,{}),e[8]=o,e[9]=f):f=e[9],e[10]!==a?(y=a&&u.jsx(xr,{}),e[10]=a,e[11]=y):y=e[11],e[12]!==l?(g=l&&u.jsx(Jn,{}),e[12]=l,e[13]=g):g=e[13],e[14]!==c||e[15]!==d||e[16]!==m||e[17]!==b||e[18]!==f||e[19]!==y||e[20]!==g?(_=u.jsxs(u.Fragment,{children:[c,d,m,b,f,y,g]}),e[14]=c,e[15]=d,e[16]=m,e[17]=b,e[18]=f,e[19]=y,e[20]=g,e[21]=_):_=e[21],_};function Ps(e){return e.screen.pref}function Ss(e){return e.screen.langPref}function ks(e){return e.screen.sgPref}function Ts(e){return e.screen.end}function Os(e){return e.screen.help}function Ns(e){return e.screen.landscape}function Es(e){return e.screen.disconnectNotice}const Cs=188/252,Ms=1.5,Is=(e,t,n)=>.8*e*Cs*n+(5*(n-1)+15)<=t,Ds=(e,t,n)=>Is(e,t,n)?.8*e:zs(e,t,n)/Cs,zs=(e,t,n)=>Is(e,t,n)?Ds(e,t,n)*Cs:(t-(5*(n-1)+15))/n,Rs=(e,t,n)=>Is(n,e,t)?(e-zs(n,e,t)*t)/(t-1+3):5,Ls=(e,t,n,r)=>s=>{const o=s-5;return o>=0?t*(r?.5:2/3)+(t*(r?.5:1/3)-Ds(t*(r?.5:1/3),n,e))/2:-5===o?t*(r?.5:2/3)-Ds(t*(r?.5:1/3),n,e)+16*(r?1:-1):16},As=(e,t,n,r)=>s=>{const o=s-5;return o>=0?((e,t,n)=>Rs(e,t,n)*Ms)(n,e,t*(r?.5:1/3))+(zs(t*(r?.5:1/3),n,e)+Rs(n,e,t*(r?.5:1/3)))*o:-5===o?n/2-zs(t*(r?.5:1/3),n,e)/2:n/2-(zs(t*(r?.5:1/3),n,e)*(o+3)-10*(-2.5-o))},Hs=e=>{const t=p.c(8),{cardsInHand:n,winHeight:r,winWidth:s}=e,[o,a]=d.useState(""),i=d.useContext(Tt),{narrowMobile:l}=i;let c,m,b;return t[0]!==n||t[1]!==l||t[2]!==r||t[3]!==s?(c=()=>{const e=n+1,t=[...Array(e+5).keys()],o=r*(l?.5:.3333333333333333),i=zs(o,s,e),c=Ds(o,s,e),d=t.map(Ls(e,r,s,l)),p=t.map(Ls(e-1,r,s,l)),u=t.map(As(e,r,s,l)),m=t.map(As(e-1,r,s,l));let b=`\n.endscreen-review-cards-btn {\n  width: ${i}px;\n  height: 3em;\n  line-height: 1.1em;\n  top: calc(${d[4]}px + (${c}px - 3em) / 2);\n  left: ${u[4]}px;\n}\n.card {\n  --cardwidth: ${i}px;\n  width: ${i}px;\n  height: ${c}px;\n  font-size: ${.094*i}px;\n}`;const f=[-5,-4,-3,-2,-1].map((e=>`\n.card-pos-${e} {\n  top: ${d[e+5]}px;\n  left: ${u[e+5]}px;\n}`));for(let n=5,r=d.length;n<r;n++)f.push(`\n.card-pos-m0.card-pos-${n-5} {\n  top: ${d[n]}px;\n  left: ${u[n]}px;\n}`);for(let n=5,r=p.length;n<r;n++)f.push(`\n.card-pos-m1.card-pos-${n-5} {\n  top: ${p[n]}px;\n  left: ${m[n]}px;\n}`);b+=f.join(""),a(b)},m=[n,r,s,l],t[0]=n,t[1]=l,t[2]=r,t[3]=s,t[4]=c,t[5]=m):(c=t[4],m=t[5]),d.useEffect(c,m),t[6]!==o?(b=u.jsx("style",{children:o}),t[6]=o,t[7]=b):b=t[7],b},Fs="_main_1mzom_1",qs=e=>{const t=p.c(3),{shown:n}=e,r=void 0===n||n,s=d.useContext(_t);let o;return t[0]!==s||t[1]!==r?(o=r?u.jsx("div",{className:x(Fs,"robotocondensed el-text"),children:s.i18n("Discard a card")}):null,t[0]=s,t[1]=r,t[2]=o):o=t[2],o},Bs=(e,t,n)=>{{const r=Xn.includes(t)?1:0;e[t]=n>r?n:r}},$s=(e,t,n)=>{Bs(e,t,e[t]+n)},Gs=(e,t)=>{const n=e.wall-t;$s(e,"wall",-t),n<0&&$s(e,"tower",n)},Ws=[{type:0,cost:0,prob:3,effect:(e,t)=>{$s(e,"bricks",-8),$s(t,"bricks",-8)}},{type:0,cost:0,prob:1,special:{playagain:!0},effect:(e,t)=>{$s(e,"bricks",2),$s(e,"gems",2)}},{type:0,cost:1,prob:2,special:{playagain:!0},effect:(e,t)=>{$s(e,"wall",1)}},{type:0,cost:3,prob:3,effect:(e,t)=>{$s(e,"brickProd",1)}},{type:0,cost:4,prob:3,effect:(e,t)=>{e.brickProd<t.brickProd?$s(e,"brickProd",2):$s(e,"brickProd",1)}},{type:0,cost:7,prob:2,effect:(e,t)=>{$s(e,"wall",4),$s(e,"brickProd",1)}},{type:0,cost:2,prob:3,effect:(e,t)=>{$s(e,"wall",5),$s(e,"gems",-6)}},{type:0,cost:5,prob:2,effect:(e,t)=>{e.brickProd<t.brickProd&&Bs(e,"brickProd",t.brickProd)}},{type:0,cost:2,prob:3,effect:(e,t)=>{$s(e,"wall",3)}},{type:0,cost:3,prob:2,effect:(e,t)=>{$s(e,"wall",4)}},{type:0,cost:2,prob:3,effect:(e,t)=>{$s(e,"brickProd",1),$s(t,"brickProd",1),$s(e,"gems",4)}},{type:0,cost:3,prob:3,effect:(e,t)=>{$s(e,"wall",0===e.wall?6:3)}},{type:0,cost:7,prob:2,special:{playagain:!0},effect:(e,t)=>{$s(e,"wall",-5),$s(t,"wall",-5)}},{type:0,cost:8,prob:1,special:{playagain:!0},effect:(e,t)=>{$s(e,"gemProd",1)}},{type:0,cost:0,prob:3,effect:(e,t)=>{$s(e,"brickProd",-1),$s(t,"brickProd",-1)}},{type:0,cost:5,prob:3,effect:(e,t)=>{$s(e,"wall",6)}},{type:0,cost:4,prob:2,effect:(e,t)=>{$s(t,"brickProd",-1)}},{type:0,cost:6,prob:2,effect:(e,t)=>{$s(e,"brickProd",2)}},{type:0,cost:0,prob:2,effect:(e,t)=>{$s(e,"brickProd",-1),$s(e,"wall",10),$s(e,"gems",5)}},{type:0,cost:8,prob:3,effect:(e,t)=>{$s(e,"wall",8)}},{type:0,cost:9,prob:2,effect:(e,t)=>{$s(e,"wall",5),$s(e,"recruitProd",1)}},{type:0,cost:9,prob:2,effect:(e,t)=>{$s(e,"wall",7),$s(e,"gems",7)}},{type:0,cost:11,prob:2,effect:(e,t)=>{$s(e,"wall",6),$s(e,"tower",3)}},{type:0,cost:13,prob:2,effect:(e,t)=>{$s(e,"wall",12)}},{type:0,cost:15,prob:2,effect:(e,t)=>{$s(e,"wall",8),$s(e,"tower",5)}},{type:0,cost:16,prob:2,effect:(e,t)=>{$s(e,"wall",15)}},{type:0,cost:18,prob:2,effect:(e,t)=>{$s(e,"wall",6),Gs(t,10)}},{type:0,cost:24,prob:2,effect:(e,t)=>{$s(e,"wall",20),$s(e,"tower",8)}},{type:0,cost:7,prob:2,effect:(e,t)=>{$s(e,"wall",9),$s(e,"recruits",-5)}},{type:0,cost:1,prob:2,effect:(e,t)=>{$s(e,"wall",1),$s(e,"tower",1),$s(e,"recruits",2)}},{type:0,cost:6,prob:3,effect:(e,t)=>{t.wall<e.wall?($s(t,"recruitProd",-1),$s(t,"tower",-2)):e.wall===t.wall?($s(t,"recruitProd",-1),$s(t,"tower",-2),$s(e,"recruitProd",-1),$s(e,"tower",-2)):($s(e,"recruitProd",-1),$s(e,"tower",-2))}},{type:0,cost:10,prob:2,effect:(e,t)=>{$s(e,"recruits",6),$s(e,"wall",6),e.recruitProd<t.recruitProd&&$s(e,"recruitProd",1)}},{type:0,cost:14,prob:2,effect:(e,t)=>{$s(e,"wall",7),Gs(t,6)}},{type:0,cost:17,prob:2,effect:(e,t)=>{const n=e.wall;Bs(e,"wall",t.wall),Bs(t,"wall",n)}},{type:1,cost:1,prob:2,special:{playagain:!0},effect:(e,t)=>{$s(e,"tower",1)}},{type:1,cost:2,prob:2,special:{playagain:!0},effect:(e,t)=>{$s(t,"tower",-1)}},{type:1,cost:2,prob:3,effect:(e,t)=>{$s(e,"tower",3)}},{type:1,cost:3,prob:2,effect:(e,t)=>{$s(e,"gemProd",1)}},{type:1,cost:2,prob:1,special:{drawDiscardPlayagain:!0},effect:(e,t)=>{}},{type:1,cost:5,prob:2,special:{undiscardable:!0},effect:(e,t)=>{$s(e,"tower",3)}},{type:1,cost:4,prob:3,effect:(e,t)=>{$s(e,"tower",2),$s(t,"tower",-2)}},{type:1,cost:6,prob:2,effect:(e,t)=>{$s(e,"gemProd",1),$s(e,"tower",3),$s(t,"tower",1)}},{type:1,cost:2,prob:3,effect:(e,t)=>{$s(t,"tower",-3)}},{type:1,cost:3,prob:3,effect:(e,t)=>{$s(e,"tower",5)}},{type:1,cost:4,prob:3,effect:(e,t)=>{$s(t,"tower",-5)}},{type:1,cost:3,prob:2,effect:(e,t)=>{$s(e,"tower",-5),$s(e,"gemProd",2)}},{type:1,cost:7,prob:2,effect:(e,t)=>{$s(e,"gemProd",1),$s(e,"tower",3),$s(e,"wall",3)}},{type:1,cost:7,prob:2,effect:(e,t)=>{const n=Math.max(t.gemProd,e.gemProd);Bs(e,"gemProd",n),Bs(t,"gemProd",n)}},{type:1,cost:6,prob:2,effect:(e,t)=>{$s(e,"tower",8)}},{type:1,cost:9,prob:2,effect:(e,t)=>{$s(e,"tower",5),$s(e,"gemProd",1)}},{type:1,cost:8,prob:3,effect:(e,t)=>{$s(e,"gemProd",-1),$s(t,"tower",-9)}},{type:1,cost:7,prob:2,effect:(e,t)=>{$s(e,"tower",5),$s(t,"bricks",-6)}},{type:1,cost:10,prob:2,effect:(e,t)=>{$s(e,"tower",11)}},{type:1,cost:5,prob:3,effect:(e,t)=>{$s(e,"tower",-7),$s(t,"tower",-7),$s(e,"gemProd",-1),$s(t,"gemProd",-1)}},{type:1,cost:13,prob:2,effect:(e,t)=>{$s(e,"tower",6),$s(t,"tower",-4)}},{type:1,cost:4,prob:2,effect:(e,t)=>{$s(e,"tower",7),$s(e,"bricks",-10)}},{type:1,cost:12,prob:2,effect:(e,t)=>{$s(e,"tower",8),$s(e,"wall",3)}},{type:1,cost:14,prob:2,effect:(e,t)=>{$s(e,"tower",8),$s(e,"recruitProd",1)}},{type:1,cost:16,prob:2,effect:(e,t)=>{$s(e,"tower",15)}},{type:1,cost:15,prob:2,effect:(e,t)=>{$s(e,"tower",10),$s(e,"wall",5),$s(e,"recruits",5)}},{type:1,cost:17,prob:2,effect:(e,t)=>{$s(e,"tower",12),Gs(t,6)}},{type:1,cost:21,prob:2,effect:(e,t)=>{$s(e,"tower",20)}},{type:1,cost:8,prob:2,effect:(e,t)=>{$s(e,"tower",11),$s(e,"wall",-6)}},{type:1,cost:0,prob:2,effect:(e,t)=>{e.tower<t.tower?$s(e,"tower",2):$s(e,"tower",1)}},{type:1,cost:0,prob:2,effect:(e,t)=>{$s(e,"tower",1),$s(t,"tower",1),$s(e,"gems",3)}},{type:1,cost:5,prob:3,effect:(e,t)=>{$s(e,"tower",4),$s(e,"recruits",-3),$s(t,"tower",-2)}},{type:1,cost:11,prob:2,effect:(e,t)=>{e.tower>t.wall?$s(t,"tower",-8):Gs(t,8)}},{type:1,cost:18,prob:2,effect:(e,t)=>{$s(e,"tower",13),$s(e,"recruits",6),$s(e,"bricks",6)}},{type:2,cost:0,prob:2,effect:(e,t)=>{$s(e,"recruits",-6),$s(t,"recruits",-6)}},{type:2,cost:1,prob:1,special:{playagain:!0},effect:(e,t)=>{Gs(t,2)}},{type:2,cost:1,prob:3,effect:(e,t)=>{Gs(t,4),$s(e,"gems",-3)}},{type:2,cost:3,prob:2,effect:(e,t)=>{$s(e,"recruitProd",1)}},{type:2,cost:2,prob:1,special:{drawDiscardPlayagain:!0},effect:(e,t)=>{}},{type:2,cost:3,prob:3,effect:(e,t)=>{Gs(t,6),Gs(e,3)}},{type:2,cost:4,prob:2,effect:(e,t)=>{$s(t,"tower",-3),Gs(e,1)}},{type:2,cost:6,prob:2,special:{playagain:!0},effect:(e,t)=>{$s(t,"tower",-2)}},{type:2,cost:3,prob:3,effect:(e,t)=>{Gs(t,5)}},{type:2,cost:5,prob:3,effect:(e,t)=>{Gs(t,4),$s(e,"wall",3)}},{type:2,cost:6,prob:3,effect:(e,t)=>{$s(t,"tower",-4)}},{type:2,cost:7,prob:3,effect:(e,t)=>{$s(e,"recruitProd",2)}},{type:2,cost:8,prob:2,effect:(e,t)=>{Gs(t,2),$s(e,"tower",4),$s(e,"wall",2)}},{type:2,cost:0,prob:2,effect:(e,t)=>{$s(e,"recruitProd",1),$s(t,"recruitProd",1),$s(e,"recruits",3)}},{type:2,cost:5,prob:3,effect:(e,t)=>{Gs(t,6)}},{type:2,cost:6,prob:3,effect:(e,t)=>{Gs(t,7)}},{type:2,cost:6,prob:3,effect:(e,t)=>{Gs(t,6),$s(t,"recruits",-3)}},{type:2,cost:5,prob:3,effect:(e,t)=>{Gs(t,6),$s(e,"bricks",-5),$s(e,"gems",-5),$s(e,"recruits",-5),$s(t,"bricks",-5),$s(t,"gems",-5),$s(t,"recruits",-5)}},{type:2,cost:8,prob:2,effect:(e,t)=>{0===t.wall?Gs(t,10):Gs(t,6)}},{type:2,cost:9,prob:2,effect:(e,t)=>{Gs(t,9)}},{type:2,cost:11,prob:2,effect:(e,t)=>{t.wall>0?Gs(t,10):Gs(t,7)}},{type:2,cost:9,prob:2,effect:(e,t)=>{e.gemProd>t.gemProd?Gs(t,12):Gs(t,8)}},{type:2,cost:10,prob:2,effect:(e,t)=>{e.wall>t.wall?$s(t,"tower",-6):Gs(t,6)}},{type:2,cost:14,prob:2,effect:(e,t)=>{$s(t,"tower",-5),$s(t,"recruits",-8)}},{type:2,cost:11,prob:2,effect:(e,t)=>{Gs(t,8),$s(t,"brickProd",-1)}},{type:2,cost:12,prob:2,effect:(e,t)=>{$s(e,"gems",Math.ceil((t.gems>=10?10:t.gems)/2)),$s(e,"bricks",Math.ceil((t.bricks>=5?5:t.bricks)/2)),$s(t,"gems",-10),$s(t,"bricks",-5)}},{type:2,cost:15,prob:2,effect:(e,t)=>{Gs(t,10),$s(e,"wall",4)}},{type:2,cost:17,prob:2,effect:(e,t)=>{Gs(t,10),$s(t,"recruits",-5),$s(t,"recruitProd",-1)}},{type:2,cost:25,prob:2,effect:(e,t)=>{Gs(t,20),$s(t,"gems",-10),$s(t,"recruitProd",-1)}},{type:2,cost:2,prob:3,effect:(e,t)=>{e.wall>t.wall?Gs(t,3):Gs(t,2)}},{type:2,cost:2,prob:3,effect:(e,t)=>{Gs(t,3),$s(e,"gems",1)}},{type:2,cost:4,prob:3,effect:(e,t)=>{Gs(t,8),$s(e,"tower",-3)}},{type:2,cost:13,prob:2,effect:(e,t)=>{Gs(t,13),$s(e,"gems",-3)}},{type:2,cost:18,prob:2,effect:(e,t)=>{$s(t,"tower",-12)}}],Vs="ontouchstart"in window,Ys={main:"_main_1d5qn_1",cardname:"_cardname_1d5qn_8",red:"_red_1d5qn_13",blue:"_blue_1d5qn_16",green:"_green_1d5qn_19",isflipped:"_isflipped_1d5qn_23",cardeffect:"_cardeffect_1d5qn_27",cardfront:"_cardfront_1d5qn_33",unusableopacity:"_unusableopacity_1d5qn_61",cardback:"_cardback_1d5qn_65",cardbackhard:"_cardbackhard_1d5qn_84",cardbackimage:"_cardbackimage_1d5qn_97",imagewrapper:"_imagewrapper_1d5qn_105",imageholder:"_imageholder_1d5qn_110",discarded:"_discarded_1d5qn_114",text:"_text_1d5qn_119",textholder:"_textholder_1d5qn_124",resall:"_resall_1d5qn_128",resbg:"_resbg_1d5qn_135",brick:"_brick_1d5qn_142",gem:"_gem_1d5qn_145",recruit:"_recruit_1d5qn_148",cost:"_cost_1d5qn_152"},Ks=e=>{const t=p.c(5),{unusable:n,zeroOpacity:r}=e,s=void 0!==r&&r?"opacity-0":void 0!==n&&n?Ys.unusableopacity:"opacity-100";let o,a,i;return t[0]!==s?(o=x(Ys.cardback,s),t[0]=s,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",{className:x(Ys.cardbackimage,"pixelated")}),t[2]=a):a=t[2],t[3]!==o?(i=u.jsx("div",{className:o,children:a}),t[3]=o,t[4]=i):i=t[4],i},Us=e=>{const t=p.c(6),{n:n}=e,r=d.useContext(_t);let s,o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=x(Ys.textholder,"el-text cantoggleboldfont"),t[0]=s):s=t[0],t[1]!==r||t[2]!==n?(o=r.cards(n,"desc"),t[1]=r,t[2]=n,t[3]=o):o=t[3],t[4]!==o?(a=u.jsx("div",{className:Ys.text,children:u.jsx("div",{className:s,children:o})}),t[4]=o,t[5]=a):a=t[5],a},Js=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/0-CAPqI3QN.webp"},Symbol.toStringTag,{value:"Module"})),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/1-DLIQXHoI.webp"},Symbol.toStringTag,{value:"Module"})),Xs=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/10-aIHBW7Rj.webp"},Symbol.toStringTag,{value:"Module"})),Zs=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/100-llZqUjrX.webp"},Symbol.toStringTag,{value:"Module"})),eo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/101-DRKQwBpx.webp"},Symbol.toStringTag,{value:"Module"})),to=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/11-CLCRuFtJ.webp"},Symbol.toStringTag,{value:"Module"})),no=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/12-at6Z5suT.webp"},Symbol.toStringTag,{value:"Module"})),ro=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/13-C51BYtZr.webp"},Symbol.toStringTag,{value:"Module"})),so=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/14-fDqJXDag.webp"},Symbol.toStringTag,{value:"Module"})),oo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/15-CyXcnBZ_.webp"},Symbol.toStringTag,{value:"Module"})),ao=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/16-vauAiG-s.webp"},Symbol.toStringTag,{value:"Module"})),io=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/17-DYM9_aCJ.webp"},Symbol.toStringTag,{value:"Module"})),lo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/18-DRS5yRr9.webp"},Symbol.toStringTag,{value:"Module"})),co=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/19-BKo4rPeQ.webp"},Symbol.toStringTag,{value:"Module"})),po=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/2-CPWpNsTO.webp"},Symbol.toStringTag,{value:"Module"})),uo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/20-DrIBZTY8.webp"},Symbol.toStringTag,{value:"Module"})),mo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/21-BQijWoMq.webp"},Symbol.toStringTag,{value:"Module"})),bo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/22-Cs3lQEWC.webp"},Symbol.toStringTag,{value:"Module"})),fo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/23-u-dvTWcm.webp"},Symbol.toStringTag,{value:"Module"})),yo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/24-DWbY5zf4.webp"},Symbol.toStringTag,{value:"Module"})),go=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/25-jPtNt75P.webp"},Symbol.toStringTag,{value:"Module"})),_o=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/26-MOQ_skSw.webp"},Symbol.toStringTag,{value:"Module"})),ho=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/27-Bh17jQgQ.webp"},Symbol.toStringTag,{value:"Module"})),wo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/28-8OsL1fjC.webp"},Symbol.toStringTag,{value:"Module"})),xo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/29-Bg-iV0Kw.webp"},Symbol.toStringTag,{value:"Module"})),vo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/3-C-1Rzf73.webp"},Symbol.toStringTag,{value:"Module"})),jo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/30-DxLms12i.webp"},Symbol.toStringTag,{value:"Module"})),Po=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/31-r30h_TIa.webp"},Symbol.toStringTag,{value:"Module"})),So=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/32-S4MCZcJq.webp"},Symbol.toStringTag,{value:"Module"})),ko=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/33-GIfL2cKV.webp"},Symbol.toStringTag,{value:"Module"})),To=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/34-79OmUl9l.webp"},Symbol.toStringTag,{value:"Module"})),Oo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/35-OACArD5j.webp"},Symbol.toStringTag,{value:"Module"})),No=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/36-DObSNehy.webp"},Symbol.toStringTag,{value:"Module"})),Eo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/37-CNMgp6bI.webp"},Symbol.toStringTag,{value:"Module"})),Co=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/38-Da9lOqy6.webp"},Symbol.toStringTag,{value:"Module"})),Mo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/39-Ba2FaHx6.webp"},Symbol.toStringTag,{value:"Module"})),Io=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/4-DNygLW2A.webp"},Symbol.toStringTag,{value:"Module"})),Do=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/40-DvE5x8bY.webp"},Symbol.toStringTag,{value:"Module"})),zo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/41-C7IOQd3z.webp"},Symbol.toStringTag,{value:"Module"})),Ro=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/42-0IrIqlUf.webp"},Symbol.toStringTag,{value:"Module"})),Lo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/43-Bvm4fjNU.webp"},Symbol.toStringTag,{value:"Module"})),Ao=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/44-NKuURPvC.webp"},Symbol.toStringTag,{value:"Module"})),Ho=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/45-CNGH86AG.webp"},Symbol.toStringTag,{value:"Module"})),Fo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/46-wv4-gknV.webp"},Symbol.toStringTag,{value:"Module"})),qo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/47-B7R4sLmY.webp"},Symbol.toStringTag,{value:"Module"})),Bo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/48-CDyiGpt0.webp"},Symbol.toStringTag,{value:"Module"})),$o=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/49-YbN52WNi.webp"},Symbol.toStringTag,{value:"Module"})),Go=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/5-BVSmDAae.webp"},Symbol.toStringTag,{value:"Module"})),Wo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/50-Dj9HL4dE.webp"},Symbol.toStringTag,{value:"Module"})),Vo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/51-D7WRzzEw.webp"},Symbol.toStringTag,{value:"Module"})),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/52-CZG7PGmu.webp"},Symbol.toStringTag,{value:"Module"})),Ko=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/53-BIYZmnp9.webp"},Symbol.toStringTag,{value:"Module"})),Uo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/54-BPpeSVGd.webp"},Symbol.toStringTag,{value:"Module"})),Jo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/55-Bnq40l2z.webp"},Symbol.toStringTag,{value:"Module"})),Qo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/56-DxlFvLM8.webp"},Symbol.toStringTag,{value:"Module"})),Xo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/57-B5Kgogyo.webp"},Symbol.toStringTag,{value:"Module"})),Zo=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/58-CDnpvUlG.webp"},Symbol.toStringTag,{value:"Module"})),ea=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/59-B2wDKN_L.webp"},Symbol.toStringTag,{value:"Module"})),ta=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/6-DnKygAxn.webp"},Symbol.toStringTag,{value:"Module"})),na=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/60-DU16iiZK.webp"},Symbol.toStringTag,{value:"Module"})),ra=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/61-CsPdHsjU.webp"},Symbol.toStringTag,{value:"Module"})),sa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/62-BTWCIo0d.webp"},Symbol.toStringTag,{value:"Module"})),oa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/63-C6NkD2zj.webp"},Symbol.toStringTag,{value:"Module"})),aa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/64-De5oM2I-.webp"},Symbol.toStringTag,{value:"Module"})),ia=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/65-CuZdxPpv.webp"},Symbol.toStringTag,{value:"Module"})),la=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/66-Co8DLW-e.webp"},Symbol.toStringTag,{value:"Module"})),ca=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/67-jLDoc761.webp"},Symbol.toStringTag,{value:"Module"})),da=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/68-Cr_JUu5V.webp"},Symbol.toStringTag,{value:"Module"})),pa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/69-CZvjoqko.webp"},Symbol.toStringTag,{value:"Module"})),ua=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/7-DJ0N6i6k.webp"},Symbol.toStringTag,{value:"Module"})),ma=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/70-MQVGR9f6.webp"},Symbol.toStringTag,{value:"Module"})),ba=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/71-1UHanCPV.webp"},Symbol.toStringTag,{value:"Module"})),fa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/72-Eclp2EUn.webp"},Symbol.toStringTag,{value:"Module"})),ya=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/73-Dk9MIJmL.webp"},Symbol.toStringTag,{value:"Module"})),ga=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/74-BKk4-Iio.webp"},Symbol.toStringTag,{value:"Module"})),_a=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/75-iGaxevr0.webp"},Symbol.toStringTag,{value:"Module"})),ha=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/76-Fp4FT1qR.webp"},Symbol.toStringTag,{value:"Module"})),wa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/77-D1bJYPCA.webp"},Symbol.toStringTag,{value:"Module"})),xa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/78-CfOT1PVz.webp"},Symbol.toStringTag,{value:"Module"})),va=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/79-BkS2rc_-.webp"},Symbol.toStringTag,{value:"Module"})),ja=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/8-CCNyk3E6.webp"},Symbol.toStringTag,{value:"Module"})),Pa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/80-Db7EcUvI.webp"},Symbol.toStringTag,{value:"Module"})),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/81-D_F4fBgW.webp"},Symbol.toStringTag,{value:"Module"})),ka=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/82-CLpRYWE9.webp"},Symbol.toStringTag,{value:"Module"})),Ta=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/83-DYlyFR_3.webp"},Symbol.toStringTag,{value:"Module"})),Oa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/84-CeA9aXUY.webp"},Symbol.toStringTag,{value:"Module"})),Na=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/85-_C-kPpgU.webp"},Symbol.toStringTag,{value:"Module"})),Ea=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/86-BIbuK9CM.webp"},Symbol.toStringTag,{value:"Module"})),Ca=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/87-Bn6mLTXr.webp"},Symbol.toStringTag,{value:"Module"})),Ma=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/88-qqCOMuLW.webp"},Symbol.toStringTag,{value:"Module"})),Ia=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/89-BEtThz00.webp"},Symbol.toStringTag,{value:"Module"})),Da=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/9-DnmZE16c.webp"},Symbol.toStringTag,{value:"Module"})),za=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/90-CVKDMWLE.webp"},Symbol.toStringTag,{value:"Module"})),Ra=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/91-DvtFTpq-.webp"},Symbol.toStringTag,{value:"Module"})),La=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/92-CqCdvA25.webp"},Symbol.toStringTag,{value:"Module"})),Aa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/93-DVybUvBI.webp"},Symbol.toStringTag,{value:"Module"})),Ha=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/94-B47j088t.webp"},Symbol.toStringTag,{value:"Module"})),Fa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/95-CfMXy3Ae.webp"},Symbol.toStringTag,{value:"Module"})),qa=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/96-Dm0shNUU.webp"},Symbol.toStringTag,{value:"Module"})),Ba=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/97-CSV9mluq.webp"},Symbol.toStringTag,{value:"Module"})),$a=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/98-DARjrjHl.webp"},Symbol.toStringTag,{value:"Module"})),Ga=Object.freeze(Object.defineProperty({__proto__:null,default:"/assets/99-Mz6WtQdr.webp"},Symbol.toStringTag,{value:"Module"})),Wa=Object.assign({"../../../assets/img/cards/0.webp":Js,"../../../assets/img/cards/1.webp":Qs,"../../../assets/img/cards/10.webp":Xs,"../../../assets/img/cards/100.webp":Zs,"../../../assets/img/cards/101.webp":eo,"../../../assets/img/cards/11.webp":to,"../../../assets/img/cards/12.webp":no,"../../../assets/img/cards/13.webp":ro,"../../../assets/img/cards/14.webp":so,"../../../assets/img/cards/15.webp":oo,"../../../assets/img/cards/16.webp":ao,"../../../assets/img/cards/17.webp":io,"../../../assets/img/cards/18.webp":lo,"../../../assets/img/cards/19.webp":co,"../../../assets/img/cards/2.webp":po,"../../../assets/img/cards/20.webp":uo,"../../../assets/img/cards/21.webp":mo,"../../../assets/img/cards/22.webp":bo,"../../../assets/img/cards/23.webp":fo,"../../../assets/img/cards/24.webp":yo,"../../../assets/img/cards/25.webp":go,"../../../assets/img/cards/26.webp":_o,"../../../assets/img/cards/27.webp":ho,"../../../assets/img/cards/28.webp":wo,"../../../assets/img/cards/29.webp":xo,"../../../assets/img/cards/3.webp":vo,"../../../assets/img/cards/30.webp":jo,"../../../assets/img/cards/31.webp":Po,"../../../assets/img/cards/32.webp":So,"../../../assets/img/cards/33.webp":ko,"../../../assets/img/cards/34.webp":To,"../../../assets/img/cards/35.webp":Oo,"../../../assets/img/cards/36.webp":No,"../../../assets/img/cards/37.webp":Eo,"../../../assets/img/cards/38.webp":Co,"../../../assets/img/cards/39.webp":Mo,"../../../assets/img/cards/4.webp":Io,"../../../assets/img/cards/40.webp":Do,"../../../assets/img/cards/41.webp":zo,"../../../assets/img/cards/42.webp":Ro,"../../../assets/img/cards/43.webp":Lo,"../../../assets/img/cards/44.webp":Ao,"../../../assets/img/cards/45.webp":Ho,"../../../assets/img/cards/46.webp":Fo,"../../../assets/img/cards/47.webp":qo,"../../../assets/img/cards/48.webp":Bo,"../../../assets/img/cards/49.webp":$o,"../../../assets/img/cards/5.webp":Go,"../../../assets/img/cards/50.webp":Wo,"../../../assets/img/cards/51.webp":Vo,"../../../assets/img/cards/52.webp":Yo,"../../../assets/img/cards/53.webp":Ko,"../../../assets/img/cards/54.webp":Uo,"../../../assets/img/cards/55.webp":Jo,"../../../assets/img/cards/56.webp":Qo,"../../../assets/img/cards/57.webp":Xo,"../../../assets/img/cards/58.webp":Zo,"../../../assets/img/cards/59.webp":ea,"../../../assets/img/cards/6.webp":ta,"../../../assets/img/cards/60.webp":na,"../../../assets/img/cards/61.webp":ra,"../../../assets/img/cards/62.webp":sa,"../../../assets/img/cards/63.webp":oa,"../../../assets/img/cards/64.webp":aa,"../../../assets/img/cards/65.webp":ia,"../../../assets/img/cards/66.webp":la,"../../../assets/img/cards/67.webp":ca,"../../../assets/img/cards/68.webp":da,"../../../assets/img/cards/69.webp":pa,"../../../assets/img/cards/7.webp":ua,"../../../assets/img/cards/70.webp":ma,"../../../assets/img/cards/71.webp":ba,"../../../assets/img/cards/72.webp":fa,"../../../assets/img/cards/73.webp":ya,"../../../assets/img/cards/74.webp":ga,"../../../assets/img/cards/75.webp":_a,"../../../assets/img/cards/76.webp":ha,"../../../assets/img/cards/77.webp":wa,"../../../assets/img/cards/78.webp":xa,"../../../assets/img/cards/79.webp":va,"../../../assets/img/cards/8.webp":ja,"../../../assets/img/cards/80.webp":Pa,"../../../assets/img/cards/81.webp":Sa,"../../../assets/img/cards/82.webp":ka,"../../../assets/img/cards/83.webp":Ta,"../../../assets/img/cards/84.webp":Oa,"../../../assets/img/cards/85.webp":Na,"../../../assets/img/cards/86.webp":Ea,"../../../assets/img/cards/87.webp":Ca,"../../../assets/img/cards/88.webp":Ma,"../../../assets/img/cards/89.webp":Ia,"../../../assets/img/cards/9.webp":Da,"../../../assets/img/cards/90.webp":za,"../../../assets/img/cards/91.webp":Ra,"../../../assets/img/cards/92.webp":La,"../../../assets/img/cards/93.webp":Aa,"../../../assets/img/cards/94.webp":Ha,"../../../assets/img/cards/95.webp":Fa,"../../../assets/img/cards/96.webp":qa,"../../../assets/img/cards/97.webp":Ba,"../../../assets/img/cards/98.webp":$a,"../../../assets/img/cards/99.webp":Ga}),Va=e=>{const t=p.c(11),{n:n,discarded:r}=e,s=void 0!==r&&r,o=d.useContext(_t),a=`url(${(e=>{var t;return(null==(t=Wa[`../../../assets/img/cards/${e}.webp`])?void 0:t.default)||""})(n)})`;let i,l,c,m,b;return t[0]!==a?(i={backgroundImage:a},t[0]=a,t[1]=i):i=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=x(Ys.imageholder,"pixelated"),t[2]=l):l=t[2],t[3]!==i?(c=u.jsx("div",{style:i,className:l}),t[3]=i,t[4]=c):c=t[4],t[5]!==o||t[6]!==s?(m=s&&u.jsx("div",{className:x(Ys.discarded,"el-text"),children:o.i18n("discarded")}),t[5]=o,t[6]=s,t[7]=m):m=t[7],t[8]!==c||t[9]!==m?(b=u.jsxs("div",{className:Ys.imagewrapper,children:[c,m]}),t[8]=c,t[9]=m,t[10]=b):b=t[10],b},Ya=e=>{const t=p.c(9),{n:n}=e,r=d.useContext(_t);let s;t[0]!==r||t[1]!==n?(s=r.cards(n,"name"),t[0]=r,t[1]=n,t[2]=s):s=t[2];const o=s,a=o.length;let i;t[3]===Symbol.for("react.memo_cache_sentinel")?(i=x(Ys.cardname,"el-text cantoggleboldfont"),t[3]=i):i=t[3];const l=a>15?`calc(var(--cardwidth) * 0.094 * 16 / ${a})`:"inherit";let c,m;return t[4]!==l?(c={fontSize:l},t[4]=l,t[5]=c):c=t[5],t[6]!==o||t[7]!==c?(m=u.jsx("div",{className:i,style:c,children:o}),t[6]=o,t[7]=c,t[8]=m):m=t[8],m},Ka=e=>{const t=p.c(20),{n:n}=e,{type:r,cost:s}=Ws[n],o=d.useContext(_t);let a,c,m,b,f,y;if(t[0]!==o||t[1]!==s||t[2]!==r){const e=o.i18n("This card costs %s").replace("%s",1===s?o.i18n(["1 brick","1 gem","1 recruit"][r]):o.i18n(["%s bricks","%s gems","%s recruits"][r]).replace("%s",s.toString()));let n;m=Ys.resall,t[7]!==r?(n=x(Ys.resbg,[Ys.brick,Ys.gem,Ys.recruit][r]),t[7]=r,t[8]=n):n=t[8],t[9]!==n?(b=u.jsx("div",{className:n}),t[9]=n,t[10]=b):b=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(a=x(Ys.cost,"el-number"),t[11]=a):a=t[11],c=Yt(e,void 0,{noTouch:!0}),t[0]=o,t[1]=s,t[2]=r,t[3]=a,t[4]=c,t[5]=m,t[6]=b}else a=t[3],c=t[4],m=t[5],b=t[6];return t[12]!==s||t[13]!==a||t[14]!==c?(f=u.jsx("div",l(i({className:a},c),{children:s})),t[12]=s,t[13]=a,t[14]=c,t[15]=f):f=t[15],t[16]!==m||t[17]!==b||t[18]!==f?(y=u.jsxs("div",{className:m,children:[b,f]}),t[16]=m,t[17]=b,t[18]=f,t[19]=y):y=t[19],y},Ua=e=>{const t=p.c(16),{n:n,unusable:r,discarded:s,zeroOpacity:o}=e,a=void 0!==s&&s,i=void 0!==o&&o?"opacity-0":void 0!==r&&r?Ys.unusableopacity:"opacity-100";let l,c,d,m,b,f;return t[0]!==i?(l=x(Ys.cardfront,i),t[0]=i,t[1]=l):l=t[1],t[2]!==n?(c=u.jsx(Ya,{n:n}),t[2]=n,t[3]=c):c=t[3],t[4]!==a||t[5]!==n?(d=u.jsx(Va,{n:n,discarded:a}),t[4]=a,t[5]=n,t[6]=d):d=t[6],t[7]!==n?(m=u.jsx(Us,{n:n}),b=u.jsx(Ka,{n:n}),t[7]=n,t[8]=m,t[9]=b):(m=t[8],b=t[9]),t[10]!==l||t[11]!==c||t[12]!==d||t[13]!==m||t[14]!==b?(f=u.jsxs("div",{className:l,children:[c,d,m,b]}),t[10]=l,t[11]=c,t[12]=d,t[13]=m,t[14]=b,t[15]=f):f=t[15],f},Ja=({n:e,unusable:t=!1,discarded:n=!1,position:r,owner:s="common",index:o=-1,isFlipped:a=!1,zeroOpacity:c=!1})=>{d.useContext(_t);const p=ft(),m=d.useRef(null),b=yt((e=>e.game.playersTurn)),f=yt((e=>e.game.locked.some((e=>!0===e)))),y=yt((e=>e.game.discardMode)),g=yt((e=>e.multiplayer.gameNumber)),_=yt((e=>e.cards.total)),h=yt(qt),w=yt((e=>e.settings.cardsInHand))+1,v=("common"===s?_[b?"player":"opponent"]:_[s])===w,j=-1===e||"opponent"===s?void 0:Ws[e].type,P=b&&"opponent"===s||!b&&"player"===s;if(void 0===j)return u.jsx("button",{ref:m,disabled:!0,"aria-hidden":!0,tabIndex:-1,className:x(Ys.main,Ys.cardbackhard,P&&"opacity-0 pointer-events-none",-1===e&&Ys.unusableopacity,"card",`card-pos-${r}`,"card-pos-"+(v?"m0":"m1")),children:u.jsx("div",{className:x(Ys.cardbackimage,"pixelated")})});const{special:S}=Ws[e];let k=!0;const T=()=>{"common"!==s&&p({type:"l",n:e,index:o,position:r,owner:s})},O=()=>{"common"!==s&&p({type:"y",index:o,position:r,owner:s})},N=(()=>{if("common"!==s&&!f&&(-1!==g||"opponent"!==s))if(y){if(!(null==S?void 0:S.undiscardable))return k=!1,{onClick:O}}else if(!t)return k=!1,{onClick:T};return{}})(),E=(()=>{if(!("common"===s||f||(null==S?void 0:S.undiscardable)||-1===g&&"opponent"===s)){let e;k=!1;const t=()=>{e&&clearTimeout(e)};return Vs?{onTouchStart:t=>{t.touches.length>1||(e=setTimeout((()=>{t.preventDefault(),O()}),500))},onTouchCancel:t,onTouchEnd:t,onTouchMove:t}:{onContextMenu:e=>{e.preventDefault(),O()}}}return{}})();P&&(k=!0);const C=!k&&r>=0&&r<9?(r+1).toString():"";let M=-1,I=-1;return h||k||(M=r+1,I=0),u.jsxs("button",l(i(i({ref:m,className:x(Ys.main,Ys.cardeffect,Ys[["red","blue","green"][j]],a&&Ys.isflipped,(b&&"opponent"===s||!b&&"player"===s)&&"opacity-0 pointer-events-none",-1!==r&&"shadow-lg",r>=0&&"cursor-pointer hover:scale-105","card",`card-pos-${r}`,"card-pos-"+(v?"m0":"m1")),accessKey:C,tabIndex:I,"data-tabindex":M,disabled:k,onKeyDown:e=>{if("Delete"===e.key||"Backspace"===e.key){const t=m.current;if(t){const n=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,button:2});e.preventDefault(),t.dispatchEvent(n)}}}},N),E),{children:[u.jsx(Ua,{n:e,discarded:n,unusable:t,zeroOpacity:c}),u.jsx(Ks,{unusable:t,zeroOpacity:c})]}))},Qa="_main_y1clu_1",Xa=()=>{const e=p.c(21),t=d.useContext(_t),n=yt(Za),r=yt(ei),s=yt(ti),o=yt(ri),a=d.useContext(Tt),c=n.filter(si),m=c.length>0&&c.every(oi),b=yt(ai)&&c.length>0&&c.every((e=>{var t;return e&&!0===e.unusable&&!0===(null==(t=Ws[e.n].special)?void 0:t.undiscardable)&&!0}));let f,y,g,_,h,w;if(e[0]!==t||e[1]!==m||e[2]!==r||e[3]!==o||e[4]!==s||e[5]!==b||e[6]!==a.narrowMobile){const n=b&&s&&!o?t.i18n('With no usable or discardable card, you must surrender. Open the "%s1" window and click "%s2" (or ask your opponent to do so)').replace("%s1",t.i18n("Preferences")).replace("%s2",t.i18n("Apply & New Game")):"",i=m&&s&&!o&&!r?t.i18n("allUnusableTip"):"",l=a.narrowMobile?"h-1/2":"h-1/3";e[9]!==l?(f=x(Qa,l),e[9]=l,e[10]=f):f=e[10],y=Yt(n||i),e[0]=t,e[1]=m,e[2]=r,e[3]=o,e[4]=s,e[5]=b,e[6]=a.narrowMobile,e[7]=f,e[8]=y}else f=e[7],y=e[8];return e[11]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(Ja,{n:-1,position:-1,unusable:!0}),e[11]=g):g=e[11],e[12]!==n?(_=n.map(ii),e[12]=n,e[13]=_):_=e[13],e[14]!==r?(h=u.jsx(qs,{shown:r}),e[14]=r,e[15]=h):h=e[15],e[16]!==f||e[17]!==y||e[18]!==_||e[19]!==h?(w=u.jsxs("div",l(i({className:f},y),{children:[g,_,h]})),e[16]=f,e[17]=y,e[18]=_,e[19]=h,e[20]=w):w=e[20],w};function Za(e){return e.cards.list}function ei(e){return e.game.discardMode}function ti(e){return e.game.playersTurn}function ni(e){return!0===e}function ri(e){return e.game.locked.some(ni)}function si(e){return e&&e.position>=0&&"player"===e.owner}function oi(e){return e&&!0===e.unusable}function ai(e){return e.multiplayer.on}function ii(e,t){return null===e?null:u.jsx(Ja,i({index:t},e),t)}const li=()=>{const e=p.c(7),t=yt(ci),n=d.useContext(Tt),r=n.height,s=n.width;let o,a,i;return e[0]!==t||e[1]!==r||e[2]!==s?(o=u.jsx(Hs,{cardsInHand:t,winHeight:r,winWidth:s}),e[0]=t,e[1]=r,e[2]=s,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(Xa,{}),e[4]=a):a=e[4],e[5]!==o?(i=u.jsxs(u.Fragment,{children:[o,a]}),e[5]=o,e[6]=i):i=e[6],i};function ci(e){return e.settings.cardsInHand}const di=new(window.AudioContext||window.webkitAudioContext),pi=["click","contextmenu","dblclick","keydown","touchstart","mousedown","pointerdown"],ui=()=>{pi.forEach((e=>{document.body.removeEventListener(e,mi)}))},mi=()=>{"suspended"===di.state?di.resume().then((()=>{ui()})):ui()};pi.forEach((e=>{document.body.addEventListener(e,mi)}));const bi=di.createGain();bi.gain.value=.5,bi.connect(di.destination);const[fi,yi,gi,_i,hi,wi,xi,vi,ji,Pi,Si,ki,Ti,Oi]=[...Array(14).keys()],Ni={tower:{up:fi,down:ji},wall:{up:yi,down:ji},bricks:{up:gi,down:wi},brickProd:{up:gi,down:wi},gems:{up:_i,down:xi},gemProd:{up:_i,down:xi},recruits:{up:hi,down:vi},recruitProd:{up:hi,down:vi},deal:Pi,victory:Si,defeat:ki,start:Ti,typing:Oi},Ei=async e=>{const t=await fetch(e),n=await t.arrayBuffer();return await di.decodeAudioData(n)},Ci=[Ei("/assets/tower_up-B5IicBOy.mp3"),Ei("/assets/wall_up-TrBd_reR.mp3"),Ei("/assets/brick_up-nkwdVl6z.mp3"),Ei("/assets/gem_up-D5m8Mg8e.mp3"),Ei("/assets/recruit_up-CTg0_JeU.mp3"),Ei("/assets/brick_down-BQPrxBre.mp3"),Ei("/assets/gem_down-C-FYbouQ.mp3"),Ei("/assets/recruit_down-Co3SM42O.mp3"),Ei("/assets/damage-DNPsnzDi.mp3"),Ei("/assets/deal-DrfhCnYJ.mp3"),Ei("/assets/victory-DVvo3cuG.mp3"),Ei("/assets/defeat-f7VBhL_u.mp3"),Ei("/assets/start-Ck7-Puln.mp3"),Ei("/assets/typing-BSh2ZOhf.mp3")],Mi=(e,t=null,n=0)=>{const r=(()=>{const n=Ni[e];return"object"==typeof n&&"up"in n?t?n.up:n.down:n})(),s="boolean"==typeof n?n?-.7:.7:n;Ci[r].then((e=>{if("suspended"===di.state)di.resume();else if("running"===di.state){const t=di.createBufferSource();t.buffer=e;const n=di.createStereoPanner();n.pan.value=s,t.connect(n),n.connect(bi),t.start()}}))},Ii={birdcontainer:"_birdcontainer_1conn_32","fly-right-one":"_fly-right-one_1conn_1",birdcontainer1:"_birdcontainer1_1conn_46",birdcontainer2:"_birdcontainer2_1conn_51",bird:"_bird_1conn_32","fly-cycle":"_fly-cycle_1conn_1",bird1:"_bird1_1conn_67",bird2:"_bird2_1conn_72",svg:"_svg_1conn_57",shown:"_shown_1conn_86",svgpath:"_svgpath_1conn_90",svgtext:"_svgtext_1conn_96"},Di=({index:e})=>{const[t,n]=d.useState([]),r=d.useRef([]);return d.useEffect((()=>()=>{r.current.forEach(clearTimeout)}),[]),u.jsxs("div",{className:x(Ii.birdcontainer,Ii[1===e?"birdcontainer1":"birdcontainer2"]),"aria-hidden":!0,onClick:()=>{const e=Math.random()<.5?"start":"typing",t={start:1e4,typing:1e3}[e];Mi(e),n((e=>[...e,!0]));const s=setTimeout((()=>{n((e=>{const t=[...e];return t.shift(),t}))}),t);r.current.push(s)},children:[u.jsx("div",{className:x(Ii.bird,Ii[1===e?"bird1":"bird2"])}),u.jsxs("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",className:x(Ii.svg,t.length>0&&Ii.shown),"aria-hidden":!0,children:[u.jsx("path",{d:"m10.495 1.4998c-5.9969 0-8.9954 3.1334-8.9954 9.4001v28.2c0 6.2667 2.9985 9.4001 8.9954 9.4001h14.393c5.9969 0 8.9954-3.1334 8.9954-9.4001v-4.7l13.493-9.4001-13.493-9.4001v-4.7c0-6.2667-2.9985-9.4001-8.9954-9.4001z",className:Ii.svgpath}),u.jsx("text",{x:"8",y:"35","aria-hidden":!0,className:Ii.svgtext,children:"𝄞"})]})]})},zi=()=>{const e=p.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsxs(u.Fragment,{children:[u.jsx(Di,{index:1}),u.jsx(Di,{index:2})]}),e[0]=t):t=e[0],t},Ri="_main_b1h13_1",Li="_player_b1h13_5",Ai="_opponent_b1h13_9",Hi="_towernbearer_b1h13_13",Fi="_towerwrapper_b1h13_17",qi="_towerbody_b1h13_22",Bi="_towerbodybg_b1h13_30",$i="_towerbodytop_b1h13_38",Gi="_numberouterwrapper_b1h13_52",Wi="_numberinnerwrapper_b1h13_57",Vi="_towertooltipbearer_b1h13_61",Yi=({n:e})=>{const t=yt((e=>e.visual.noanim)),n=d.useRef(null),r=d.useRef(e),s=d.useRef(null),o=d.useRef(e);return d.useEffect((()=>{if(!n.current)return;if(null!==s.current&&cancelAnimationFrame(s.current),t)return o.current=e,n.current.textContent=String(e),void(r.current=e);const a=r.current;if(a===e)return;let i=e>a?1:-1;let l=300/Math.abs(e-a);l<18&&(i*=Math.ceil(18/l),l=18);let c=a,d=performance.now();const p=t=>{if(!n.current)return;if(t-d>=l){if(d=t,c+=i,o.current=c,n.current.textContent=String(c),c===e)return void(s.current=null);if(1!==i&&-1!==i&&(e>a?c+i>e:c+i<e))return c=e,o.current=c,n.current.textContent=String(c),void(s.current=null)}s.current=requestAnimationFrame(p)};return s.current=requestAnimationFrame(p),r.current=e,()=>{null!==s.current&&cancelAnimationFrame(s.current)}}),[e,t]),u.jsx("span",{ref:n,children:o.current})},Ki="_main_1vqmd_11",Ui="_inner_1vqmd_15",Ji="_explosion_1vqmd_25",Qi="_firework_1vqmd_37",Xi=e=>{const t=p.c(5),{n:n}=e,r=d.useRef(!1),s=d.useRef(0),o=d.useRef(null),a=d.useContext(Tt);let i,l,c;return t[0]!==n||t[1]!==a.narrowMobile?(i=()=>{if(r.current){const e=s.current,t=o.current;if(null!==t){const r=document.createElement("div");r.className=x(Ui,a.narrowMobile?"scale-50":"scale-75",n<e?Ji:Qi),t.appendChild(r),r.onanimationend=()=>t.removeChild(r)}}r.current||(r.current=!0),s.current=n},l=[n,a.narrowMobile],t[0]=n,t[1]=a.narrowMobile,t[2]=i,t[3]=l):(i=t[2],l=t[3]),d.useEffect(i,l),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx("div",{ref:o,className:Ki}),t[4]=c):c=t[4],c},Zi="_main_sic02_1",el="_number_sic02_15",tl="_up_sic02_28",nl="_down_sic02_32",rl=e=>{const t=p.c(4),{n:n}=e,r=d.useRef(!1),s=d.useRef(0),o=d.useRef(null);let a,i,l;return t[0]!==n?(a=()=>{if(r.current){const e=s.current,t=o.current;if(null!==t){const r=n-e,s=document.createElement("div"),o=document.createTextNode(`${r>0?"+":""}${r.toString()}`);s.className=x(el,r>=0?tl:nl,"el-number"),s.appendChild(o),t.appendChild(s),s.onanimationend=()=>t.removeChild(s)}}r.current||(r.current=!0),s.current=n},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),d.useEffect(a,i),t[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx("div",{ref:o,className:Zi,"aria-hidden":!0}),t[3]=l):l=t[3],l},sl=({isOpponent:e,isWall:t=!1,target:n,maxN:r})=>{const s=yt((n=>n.status[e?"opponent":"player"][t?"wall":"tower"])),o=s>r?r:s;return d.useEffect((()=>{null!==n.current&&n.current.style.setProperty("--n",o.toString())}),[o]),u.jsxs(u.Fragment,{children:[u.jsx(rl,{n:s}),u.jsx(Yi,{n:s}),u.jsx(Xi,{n:s})]})},ol=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,al=e=>`${ol(e)} * 204`,il=e=>`${ol(e)} * ((204 - 135) / 2)`,ll=(e,t)=>`(${al(e)} - ${il(e)} * 2) / 135 * 600 * ${t}`,cl=({isOpponent:e=!1,goal:t})=>{const n=d.useContext(_t),r=d.useContext(Tt),s=r.height*(r.narrowMobile?.5:2/3),o=yt((e=>e.settings.winTower)),a=d.useRef(null);let c=n.i18n(e?"Opponent's %s":"Your %s").replace("%s",n.i18n("tower"));c=n.i18n("%s1. Reach %s2 to win").replace("%s1",`${c} = %%`).replace("%s2",o.toString()),c=Hr(c);const p=d.useRef(null),m=d.useCallback((t=>t.status[e?"opponent":"player"].tower),[e]),b=d.useCallback((e=>{if(null!==p.current){const t=p.current.dataset.tooltipContentTemplate;t&&(p.current.dataset.tooltipContent=t.replace("%%",e.toString()))}}),[]);return d.useEffect((()=>gt(m,b)),[]),d.useEffect((()=>{b(m(bt.getState()))}),[n,m,b]),u.jsx("div",{className:x(Ri,e?Ai:Li),style:{width:`calc(${al(s)})`},children:u.jsxs("div",{ref:a,className:Hi,children:[u.jsx("div",{className:Fi,style:{paddingLeft:`calc(${il(s)})`,paddingRight:`calc(${il(s)})`},"aria-hidden":!0,children:u.jsxs("div",{className:qi,style:{width:`calc(100% - ${il(s)} * 2)`,height:`calc(${ll(s,"1")})`,transform:`translateY(calc((1 - (var(--n) / ${t})) * 100%)) translateZ(0)`},children:[u.jsx("div",{className:x($i,"pixelated"),style:{top:`calc(0px - ${al(s)} / 204 * 282 + 1px)`,left:`calc(0px - ${il(s)})`,right:`calc(0px - ${il(s)})`,width:`calc(${al(s)})`,height:`calc(${al(s)} / 204 * 282)`}}),u.jsx("div",{className:x(Bi,"pixelated")})]})}),u.jsx("div",{className:Gi,children:u.jsx("div",{className:x(Wi,"el-number cantoggleboldfont"),children:u.jsx(sl,{isOpponent:e,isWall:!1,target:a,maxN:t})})}),u.jsx("div",l(i({ref:p,className:Vi,style:{height:`calc(2.25rem + ${ll(s,"1")} * var(--n) / ${t} + ${al(s)} / 204 * 282)`}},Yt("","bottom")),{"data-tooltip-content-template":c}))]})})},dl="_main_1rumm_1",pl="_player_1rumm_5",ul="_opponent_1rumm_9",ml="_wallwrapper_1rumm_13",bl="_wallbody_1rumm_18",fl="_numberouterwrapper_1rumm_31",yl="_numberinnerwrapper_1rumm_35",gl="_walltooltipbearer_1rumm_39",_l="_wallnbearer_1rumm_43",hl=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,wl=(e,t)=>`${hl(e)} * 597 * ${t}`,xl=({isOpponent:e=!1})=>{const t=d.useContext(_t),n=d.useContext(Tt),r=n.height*(n.narrowMobile?.5:2/3),s=d.useRef(null),o=`${Hr(t.i18n(e?"Opponent's %s":"Your %s").replace("%s",t.i18n("wall")))} = %%`,a=d.useRef(null),c=d.useCallback((t=>t.status[e?"opponent":"player"].wall),[e]),p=d.useCallback((e=>{if(null!==a.current){const t=a.current.dataset.tooltipContentTemplate;t&&(a.current.dataset.tooltipContent=t.replace("%%",e.toString()))}}),[]);return d.useEffect((()=>gt(c,p)),[]),d.useEffect((()=>{p(c(bt.getState()))}),[t,c,p]),u.jsx("div",{className:x(dl,e?ul:pl),style:{width:`calc(${hl(r)} * 72 + 1rem * 2)`},children:u.jsxs("div",{ref:s,className:_l,children:[u.jsx("div",{className:ml,style:{height:`calc(${wl(r,"1")})`},"aria-hidden":!0,children:u.jsx("div",{className:x(bl,"pixelated"),style:{height:`calc(${wl(r,"1")})`,width:`calc(${hl(r)} * 72)`}})}),u.jsx("div",{className:fl,children:u.jsx("div",{className:x(yl,"el-number cantoggleboldfont"),children:u.jsx(sl,{isOpponent:e,isWall:!0,target:s,maxN:100})})}),u.jsx("div",l(i({ref:a,className:gl,style:{height:`calc(2.25rem + ${wl(r,"1")} * var(--n) / 100)`}},Yt("","bottom")),{"data-tooltip-content-template":o}))]})})},vl="_username_11hr5_1",jl=e=>{const t=p.c(14),{playerName:n,isOpponent:r}=e,s=void 0!==r&&r,o=d.useContext(_t),a=yt(Pl),c=d.useContext(Tt),m=`${o.i18n(s?"Opponent's Name":"Your Name")} = ${n}`,b=c.narrowMobile?" mb-2":"mb-4";let f;t[0]!==b?(f=x("bg-black bg-opacity-50 p-1 shadow-lg",b),t[0]=b,t[1]=f):f=t[1];const y=a===s&&"border-opacity-25 text-opacity-25";let g;t[2]!==y?(g=x(y,vl,"el-text","emoji"),t[2]=y,t[3]=g):g=t[3];const _=s?"left":"right";let h,w,v;return t[4]!==m||t[5]!==_?(h=Yt(m,_),t[4]=m,t[5]=_,t[6]=h):h=t[6],t[7]!==n||t[8]!==g||t[9]!==h?(w=u.jsx("div",l(i({className:g},h),{children:n})),t[7]=n,t[8]=g,t[9]=h,t[10]=w):w=t[10],t[11]!==f||t[12]!==w?(v=u.jsx("div",{className:f,children:w}),t[11]=f,t[12]=w,t[13]=v):v=t[13],v};function Pl(e){return e.game.playersTurn}const Sl={main:"_main_h3zz7_1",brick:"_brick_h3zz7_5",gem:"_gem_h3zz7_9",recruit:"_recruit_h3zz7_13",resimgholder:"_resimgholder_h3zz7_17",prodcontainer:"_prodcontainer_h3zz7_32",prod:"_prod_h3zz7_32",countcontainer:"_countcontainer_h3zz7_42",count:"_count_h3zz7_42",unit:"_unit_h3zz7_51",smallmode:"_smallmode_h3zz7_57"},kl=156/216,Tl=(e,t)=>{const n=e*t;return Math.max(n,7)},Ol=(e,t)=>1.2*Tl(e,t),Nl=e=>`(${e}px - 1.25rem * 2 - (1.75rem + 0.25rem * 2 + 1rem) - (0.25rem * 2 + ${Ol(e,.036)}px + 0.25rem + 0.75rem) * 3) / 3`,El=e=>{const t=p.c(5),{isOpponent:n,type:r}=e;let s;t[0]!==n||t[1]!==r?(s=e=>e.status[n?"opponent":"player"][r],t[0]=n,t[1]=r,t[2]=s):s=t[2];const o=yt(s);let a;return t[3]!==o?(a=u.jsxs(u.Fragment,{children:[u.jsx(rl,{n:o}),u.jsx(Yi,{n:o})]}),t[3]=o,t[4]=a):a=t[4],a},Cl=({type:e,isOpponent:t})=>{const n=d.useContext(_t),r=d.useContext(Tt),s=r.height,o=s*(r.narrowMobile?.5:2/3),a=s<689,c=n.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e]);let p=n.i18n((t?"Opponent's":"Your")+" %s").replace("%s",n.i18n("%s (%ss production)").replace("%s",n.i18n({brick:"quarry",gem:"magic",recruit:"dungeon"}[e])).replace("%ss",n.i18n(e)).replace("%sp",n.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e])));p=`${Hr(p)} = %%`;const m=d.useRef(null),b=d.useCallback((n=>n.status[t?"opponent":"player"][rr[e][1]]),[t,e]),f=d.useCallback((e=>{if(null!==m.current){const t=m.current.dataset.tooltipContentTemplate;t&&(m.current.dataset.tooltipContent=t.replace("%%",e.toString()))}}),[]);d.useEffect((()=>gt(b,f)),[]),d.useEffect((()=>{f(b(bt.getState()))}),[n,b,f]);const y=yt((e=>e.settings.winResource));let g=n.i18n((t?"Opponent's":"Your")+" %sp").replace("%sp",n.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e])).replace("%ss",n.i18n(e));g=n.i18n("%s1. Reach %s2 to win").replace("%s1",`${g} = %%`).replace("%s2",y.toString()),g=Hr(g);const _=d.useRef(null),h=d.useCallback((n=>n.status[t?"opponent":"player"][rr[e][0]]),[t]),w=d.useCallback((e=>{if(null!==_.current){const t=_.current.dataset.tooltipContentTemplate;t&&(_.current.dataset.tooltipContent=t.replace("%%",e.toString()))}}),[]);return d.useEffect((()=>gt(h,w)),[]),d.useEffect((()=>{w(h(bt.getState()))}),[n]),u.jsxs("div",{className:x(Sl.main,Sl[e],r.narrowMobile?"mb-2":"mb-3"),children:[u.jsxs("div",l(i({ref:m,className:x(Sl.prodcontainer),style:{height:`calc(${Nl(o)})`}},Yt("",t?"left":"right")),{"data-tooltip-content-template":p,children:[u.jsx("div",{className:x(Sl.resimgholder,"pixelated"),"aria-hidden":!0}),u.jsx("div",{className:x(Sl.prod,"fatnumber","el-number"),style:{fontSize:`${Tl(o,.05)}px`,lineHeight:`${Ol(o,.05)}px`},children:u.jsx(El,{isOpponent:t,type:rr[e][1]})})]})),u.jsxs("div",l(i({ref:_,className:Sl.countcontainer},Yt("",t?"left":"right")),{"data-tooltip-content-template":g,children:[u.jsx("div",{className:x(Sl.count,"fatnumber","el-number"),style:{fontSize:`${Tl(o,.036)}px`,lineHeight:`${Ol(o,.036)}px`,height:`${Ol(o,.036)}px`},children:u.jsx(El,{isOpponent:t,type:rr[e][0]})}),u.jsx("div",{className:x(Sl.unit,a&&Sl.smallmode,"robotocondensed","el-text"),style:{fontSize:(()=>{let e=Tl(o,.036);const t=a?0:c.replace(/[ыщ]/g,"  ").replace(/ll/g,"l").replace(/in/g,"n").length;return t>7&&(e=e/t*8),`${e}px`})(),lineHeight:`${Ol(o,.036)}px`,height:`${Ol(o,.036)}px`,width:a?`${Ol(o,.036)}px`:"57.5%"},children:a?"":c})]}))]})},Ml="_main_vgtfq_1",Il=e=>{const t=p.c(18),{playerName:n,isOpponent:r}=e,s=void 0!==r&&r,o=d.useContext(Tt).height/3*2,a=s?"float-right":"float-left";let i;t[0]!==a?(i=x(Ml,a),t[0]=a,t[1]=i):i=t[1];const l=`calc(${(e=>`${Nl(e)} / ${kl} + 0.25rem * 2 + 1.25rem * 2`)(o)})`;let c,m,b,f,y,g;return t[2]!==l?(c={width:l},t[2]=l,t[3]=c):c=t[3],t[4]!==s||t[5]!==n?(m=u.jsx(jl,{playerName:n,isOpponent:s}),t[4]=s,t[5]=n,t[6]=m):m=t[6],t[7]!==s?(b=u.jsx(Cl,{type:"brick",isOpponent:s}),f=u.jsx(Cl,{type:"gem",isOpponent:s}),y=u.jsx(Cl,{type:"recruit",isOpponent:s}),t[7]=s,t[8]=b,t[9]=f,t[10]=y):(b=t[8],f=t[9],y=t[10]),t[11]!==i||t[12]!==c||t[13]!==m||t[14]!==b||t[15]!==f||t[16]!==y?(g=u.jsxs("div",{className:i,style:c,children:[m,b,f,y]}),t[11]=i,t[12]=c,t[13]=m,t[14]=b,t[15]=f,t[16]=y,t[17]=g):g=t[17],g},Dl="_main_112h2_1",zl="_mainbg_112h2_5",Rl="_side_112h2_13",Ll=()=>{const e=p.c(22),t=yt(Al),n=yt(Hl),r=yt(Fl),s=yt(ql),o=yt(Bl),a=s&&("connected_by_id"===o||"connected_to_id"===o),i=yt($l),l=yt(Gl),c=d.useContext(Tt).narrowMobile?"h-1/2":"h-2/3";let m,b;e[0]!==c?(m=x(Dl,c),e[0]=c,e[1]=m):m=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx("div",{className:x(zl,"pixelated")}),e[2]=b):b=e[2];const f=a?i:t;let y,g,_;e[3]!==f?(y=u.jsx(Il,{playerName:f}),e[3]=f,e[4]=y):y=e[4],e[5]!==r?(g=u.jsx(cl,{goal:r}),e[5]=r,e[6]=g):g=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(xl,{}),e[7]=_):_=e[7];const h=a?l:n;let w,v,j,P,S,k;return e[8]!==h?(w=u.jsx(Il,{playerName:h,isOpponent:!0}),e[8]=h,e[9]=w):w=e[9],e[10]!==r?(v=u.jsx(cl,{isOpponent:!0,goal:r}),e[10]=r,e[11]=v):v=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(j=u.jsx(xl,{isOpponent:!0}),P=u.jsx(zi,{}),e[12]=j,e[13]=P):(j=e[12],P=e[13]),e[14]!==y||e[15]!==g||e[16]!==w||e[17]!==v?(S=u.jsxs("div",{className:Rl,children:[y,g,_,w,v,j,P]}),e[14]=y,e[15]=g,e[16]=w,e[17]=v,e[18]=S):S=e[18],e[19]!==m||e[20]!==S?(k=u.jsxs("div",{className:m,children:[b,S]}),e[19]=m,e[20]=S,e[21]=k):k=e[21],k};function Al(e){return e.settings.playerName}function Hl(e){return e.settings.opponentName}function Fl(e){return e.settings.winTower}function ql(e){return e.multiplayer.on}function Bl(e){return e.multiplayer.status}function $l(e){return e.multiplayer.tempPlayerName}function Gl(e){return e.multiplayer.tempOpponentName}const Wl=()=>{const e=p.c(11),t=yt(Vl),[n,r]=d.useState("");let s,o,a,c,m,b,f,y;return e[0]!==t?(s=()=>{r(Ze(t).filter(Yl).map(Kl).filter(Ul).join(" "))},o=[t],e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]),d.useEffect(s,o),e[3]!==n?(a=""!==n?{style:{filter:n}}:{},e[3]=n,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(Ll,{}),m=u.jsx(li,{}),b=u.jsx(js,{}),f=u.jsx(gn,{}),e[5]=c,e[6]=m,e[7]=b,e[8]=f):(c=e[5],m=e[6],b=e[7],f=e[8]),e[9]!==a?(y=u.jsxs("div",l(i({className:_n,tabIndex:-1},a),{children:[c,m,b,f]})),e[9]=a,e[10]=y):y=e[10],y};function Vl(e){return e.visual.visualvalues}function Yl(e){const[t,n]=e;return Ve[t]!==n}function Kl(e){const[t,n]=e,r=Mt.find((e=>t===e.term));if(r){if("main"===r.type)return"hue"===r.term?`${r.css}(${n}deg)`:`${r.css}(${n})`;if(!0===n)return`url('#${r.css}')`}return null}function Ul(e){return null!==e}const Jl=()=>{const e=p.c(53),t=yt(Ql),n=yt(Xl),r=yt(Zl),s=yt(ec),o=yt(tc),a=d.useContext(_t);let i,l;e[0]!==n?(i=()=>{(e=>{bi.gain.value=e/10})(n)},l=[n],e[0]=n,e[1]=i,e[2]=l):(i=e[1],l=e[2]),d.useEffect(i,l);const c=nt[t].isRtl?"rtl":"ltr";let m,b,f,y,g,_,h,w,j,P,S,k,T,O,N,E;e[3]!==t||e[4]!==c?(m=u.jsx("html",{lang:t,dir:c}),e[3]=t,e[4]=c,e[5]=m):m=e[5],e[6]!==a?(b=a.i18n("ArcoMage HD"),e[6]=a,e[7]=b):b=e[7],e[8]!==b?(f=u.jsx("title",{children:b}),e[8]=b,e[9]=f):f=e[9],e[10]!==a?(y=a.i18n("ArcoMage HD"),e[10]=a,e[11]=y):y=e[11],e[12]!==y?(g=u.jsx("meta",{name:"title",content:y}),e[12]=y,e[13]=g):g=e[13],e[14]!==a?(_=a.i18n("DESC"),e[14]=a,e[15]=_):_=e[15],e[16]!==_?(h=u.jsx("meta",{name:"description",content:_}),e[16]=_,e[17]=h):h=e[17],e[18]!==t?(w=u.jsx("meta",{property:"og:locale",content:t}),e[18]=t,e[19]=w):w=e[19],e[20]!==a?(j=a.i18n("ArcoMage HD"),e[20]=a,e[21]=j):j=e[21],e[22]!==j?(P=u.jsx("meta",{property:"og:title",content:j}),e[22]=j,e[23]=P):P=e[23],e[24]!==a?(S=a.i18n("DESC"),e[24]=a,e[25]=S):S=e[25],e[26]!==S?(k=u.jsx("meta",{property:"og:description",content:S}),e[26]=S,e[27]=k):k=e[27],e[28]!==a?(T=a.i18n("ArcoMage HD"),e[28]=a,e[29]=T):T=e[29],e[30]!==T?(O=u.jsx("meta",{name:"twitter:title",content:T}),e[30]=T,e[31]=O):O=e[31],e[32]!==a?(N=a.i18n("DESC"),e[32]=a,e[33]=N):N=e[33],e[34]!==N?(E=u.jsx("meta",{name:"twitter:description",content:N}),e[34]=N,e[35]=E):E=e[35];const C=r&&nt[t].isLatinScript&&"with-erathian",M=o?"noanim":"anim",I=s&&"with-boldfont";let D,z,R;return e[36]!==C||e[37]!==M||e[38]!==I?(D=x(C,M,I),e[36]=C,e[37]=M,e[38]=I,e[39]=D):D=e[39],e[40]!==D?(z=u.jsx("body",{className:D}),e[40]=D,e[41]=z):z=e[41],e[42]!==w||e[43]!==P||e[44]!==k||e[45]!==O||e[46]!==E||e[47]!==z||e[48]!==m||e[49]!==f||e[50]!==g||e[51]!==h?(R=u.jsxs(v,{prioritizeSeoTags:!0,children:[m,f,g,h,w,P,k,O,E,z]}),e[42]=w,e[43]=P,e[44]=k,e[45]=O,e[46]=E,e[47]=z,e[48]=m,e[49]=f,e[50]=g,e[51]=h,e[52]=R):R=e[52],R};function Ql(e){return e.lang.code}function Xl(e){return e.sound.volume}function Zl(e){return e.lang.erathian}function ec(e){return e.lang.boldfont}function tc(e){return e.visual.noanim}const nc=e=>{const t=e.tabIndex,n=e.dataset.tabindex;return-1===t?-1:void 0===n?t:parseInt(n,10)};function rc({currentTarget:e=null,listType:t="all",indexType:n=">"}){const r='button.card:not([disabled]):not([tabindex="-1"])',s='button.topbutton:not([tabindex="-1"]),a.topbutton:not([tabindex="-1"])';let o="";switch(t){case"c":default:o=r;break;case"b":o=s;break;case"c&b":o='button.card:not([disabled]):not([tabindex="-1"]),button.topbutton:not([tabindex="-1"]),a.topbutton:not([tabindex="-1"])';break;case"c|b":o=e instanceof HTMLElement?(null==e?void 0:e.matches(r))?r:(null==e?void 0:e.matches(s))?s:r:r;break;case"all+":case"all":o='button:not([disabled]):not([tabindex="-1"]),a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"])'}const a=Array.from(document.querySelectorAll(o));if(!a.length)return;let i;a.sort(((e,t)=>{const n=nc(e),r=nc(t);return 0===n&&0!==r?1:0!==n&&0===r?-1:n!==r?n-r:Array.prototype.indexOf.call(document.body,e)-Array.prototype.indexOf.call(document.body,t)}));const l=e=>">"===e?0:"<"===e?a.length-1:0;let c=!1;if("1"===n)i=0;else if("-1"===n)i=a.length-1;else if(e instanceof HTMLElement){const t=a.indexOf(e);-1===t?i=l(n):">"===n?t===a.length-1?(c=!0,i=0):i=t+1:"<"===n?0===t?(c=!0,i=a.length-1):i=t-1:i=0}else i=l(n);if("all+"===t&&c)return!0;a[i].focus()}const sc=e=>{if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){return["text","number","email","tel","password"].includes(e.type)&&!e.readOnly&&!e.disabled}return!1},oc=(e,t)=>{e.selectedIndex=t,e.dispatchEvent(new Event("change",{bubbles:!0}))},ac=(e,t)=>{if(t){if(sc(t)){let{selectionStart:n,selectionEnd:r}=t;const{value:s}=t;null===n&&(n=0),null===r&&(r=s.length),n===r?"left"===e&&n>0?t.setSelectionRange(n-1,r-1):"right"===e&&r<s.length&&t.setSelectionRange(n+1,r+1):"left"===e&&n>=0?t.setSelectionRange(n,n):"right"===e&&r<=s.length&&t.setSelectionRange(r,r)}if(t instanceof HTMLSelectElement){const n=Array.from(t.options),r=t.selectedIndex;("up"===e||"left"===e)&&r>0?oc(t,r-1):("down"===e||"right"===e)&&r<n.length-1&&oc(t,r+1)}if(t instanceof HTMLInputElement&&"range"===t.type){let n=parseFloat(t.value);const r=parseFloat(t.min),s=parseFloat(t.max),o=parseFloat(t.step)||1;"left"===e||"down"===e?n=Math.max(n-o,r):"right"!==e&&"up"!==e||(n=Math.min(n+o,s)),t.value=n.toString(),((e,t)=>{var n;const r=null==(n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))?void 0:n.set;r&&(r.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0})))})(t,n.toString())}}},ic=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window}),lc=new KeyboardEvent("keydown",{key:"ArrowUp",code:"ArrowUp",keyCode:38,bubbles:!0,cancelable:!0}),cc=new KeyboardEvent("keydown",{key:"ArrowDown",code:"ArrowDown",keyCode:40,bubbles:!0,cancelable:!0}),dc=e=>{var t,n,r;const s=document.activeElement;switch(e.name){case"A":return void(null==s||s.click());case"B":{const e=document.querySelector("button.cancel");return s&&s.classList.contains("card")&&s.dispatchEvent(ic),void(e&&e.click())}case"X":return void rc({currentTarget:s,listType:"c",indexType:"<"});case"Y":return void rc({currentTarget:s,listType:"c",indexType:">"});case"LB":return void rc({currentTarget:s,indexType:"<"});case"RB":return void rc({currentTarget:s,indexType:">"});case"LT":case"RT":case"BACK":case"LSCLICK":case"RSCLICK":case"GUIDE":default:return;case"START":return void(null==(t=document.querySelector("[accesskey='s']"))||t.click());case"UP":if(sc(s)||s instanceof HTMLSelectElement||s instanceof HTMLInputElement&&"range"===s.type)ac("up",s),s.dispatchEvent(lc);else if(s instanceof HTMLButtonElement&&(s.classList.contains("increase")||s.classList.contains("decrease"))){(null==(n=s.parentNode)?void 0:n.querySelector("input.number-input-field")).dispatchEvent(lc)}else 0===document.getElementsByClassName("windowbg").length&&rc({listType:"b",indexType:"1"});return;case"DOWN":if(sc(s)||s instanceof HTMLSelectElement||s instanceof HTMLInputElement&&"range"===s.type)ac("down",s),s.dispatchEvent(cc);else if(s instanceof HTMLButtonElement&&(s.classList.contains("increase")||s.classList.contains("decrease"))){(null==(r=s.parentNode)?void 0:r.querySelector("input.number-input-field")).dispatchEvent(cc)}else 0===document.getElementsByClassName("windowbg").length&&rc({listType:"c",indexType:"1"});return;case"LEFT":return void(sc(s)||s instanceof HTMLSelectElement||s instanceof HTMLInputElement&&"range"===s.type?ac("left",s):0===document.getElementsByClassName("windowbg").length&&rc({currentTarget:s,listType:"c|b",indexType:"<"}));case"RIGHT":return void(sc(s)||s instanceof HTMLSelectElement||s instanceof HTMLInputElement&&"range"===s.type?ac("right",s):0===document.getElementsByClassName("windowbg").length&&rc({currentTarget:s,listType:"c|b",indexType:">"}))}};function pc(e){const{key:t}=e,{target:n}=e;switch(t){case"ArrowUp":return void rc({listType:"b",indexType:"1"});case"ArrowDown":return void rc({listType:"c",indexType:"1"});case"ArrowLeft":return void rc({currentTarget:n,listType:"c|b",indexType:"<"});case"ArrowRight":return void rc({currentTarget:n,listType:"c|b",indexType:">"});default:return}}function uc(){const e=pc;return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}function mc(e){null!==e.target&&e.target instanceof Element&&null===e.target.closest('input[type="text"]')&&null===e.target.closest('input[type="number"]')&&null===e.target.closest("small.version")&&null===e.target.closest("p.description")&&null===e.target.closest(".help-text")&&e.preventDefault()}function bc(){{const e=mc;return window.addEventListener("contextmenu",e),()=>{window.removeEventListener("contextmenu",e)}}}const fc=["A","B","X","Y","LB","RB","LT","RT","BACK","START","LSCLICK","RSCLICK","UP","DOWN","LEFT","RIGHT","GUIDE"],yc=e=>{const t=p.c(8),{onButtonDown:n,onButtonUp:r}=e,[s,o]=d.useState(null);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];const i=d.useRef(a);let l,c,u,m;return t[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const e=e=>{o(e.gamepad)},t=()=>{o(null)};return window.addEventListener("gamepadconnected",e),window.addEventListener("gamepaddisconnected",t),()=>{window.removeEventListener("gamepadconnected",e),window.removeEventListener("gamepaddisconnected",t)}},c=[],t[1]=l,t[2]=c):(l=t[1],c=t[2]),d.useEffect(l,c),t[3]!==s||t[4]!==n||t[5]!==r?(u=()=>{let e;e=void 0;const t=()=>{const o=navigator.getGamepads(),a=s?o[s.index]:null;if(a){const e=a.buttons.map(gc);e.forEach(((e,t)=>{const s=i.current[t],o=(e=>({index:e,name:fc[e]}))(t);e&&!s?null==n||n(o):!e&&s&&(null==r||r(o))})),i.current=e}e=requestAnimationFrame(t)};return s&&t(),()=>{void 0!==e&&cancelAnimationFrame(e)}},m=[s,n,r],t[3]=s,t[4]=n,t[5]=r,t[6]=u,t[7]=m):(u=t[6],m=t[7]),d.useEffect(u,m),s};function gc(e){return e.pressed}const _c=e=>{if("Tab"!==e.key)return;const t=document.activeElement;if(e.shiftKey){rc({currentTarget:t,listType:"all+",indexType:"<"})||e.preventDefault()}else if(!e.shiftKey){rc({currentTarget:t,listType:"all+"})||e.preventDefault()}};function hc(){window.removeEventListener("keydown",_c)}function wc(){return window.addEventListener("keydown",_c),hc}const xc=e=>{e.preventDefault(),e.returnValue=""};function vc(){window.removeEventListener("beforeunload",xc)}function jc(){return window.addEventListener("beforeunload",xc),vc}const Pc=()=>{const e=ft(),{width:t,height:n}=d.useContext(Tt);(e=>{const t=p.c(3);let n,r;t[0]!==e?(n=()=>("complete"===document.readyState?e():window.addEventListener("load",e),()=>{window.removeEventListener("load",e)}),r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),d.useEffect(n,r)})(d.useCallback((()=>{e({type:"R"})}),[])),(()=>{const e=p.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],d.useEffect(bc,t)})(),(()=>{const e=p.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],d.useEffect(jc,t)})(),(()=>{const e=p.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],d.useEffect(uc,t)})();const r=d.useCallback((()=>{e({type:ne,payload:Ve})}),[]);wn("o",r,0,!0);const s=d.useCallback(dc,[]);return yc({onButtonDown:s}),(()=>{const e=p.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],d.useEffect(wc,t)})(),d.useEffect((()=>{(()=>{const t=window.matchMedia("(orientation:portrait)").matches;e({type:we,show:t})})(),((e,t)=>{const n=Math.min(e,t);if(n<689){const e=9/689*n+7;document.documentElement.style.fontSize=`${e}px`}else document.documentElement.style.fontSize=""})(t,n)}),[t,n]),u.jsxs(u.Fragment,{children:[u.jsx(Jl,{}),u.jsx(Wl,{}),u.jsx(Et,{})]})},Sc=(e,t)=>{const{discardMode:n}=e.game,r=e.cards.list,s=[];return r.forEach(((e,r)=>{var o,a;if(null!==e&&e.owner===t){let t=!1,i=!1;const{n:l}=e;n?(null==(o=Ws[l].special)?void 0:o.undiscardable)||(i=!0):e.unusable||(t=!0),(null==(a=Ws[l].special)?void 0:a.undiscardable)||(i=!0),s.push({index:r,n:l,score:0,canuse:t,candiscard:i})}})),s},kc={bricks:1,gems:1.28,recruits:1.05,prod:18,tower:3.67,wall:2.02,playagain:46,drawDiscardPlayagain:27.6,undiscardable:2.03,useDiscardRatio:2.18,tieBonus:999,losePenalty:999,attack:1.08},Tc=(()=>{const{bricks:e,gems:t,recruits:n,prod:r,tower:s,wall:o}=kc;return{bricks:e,gems:t,recruits:n,brickProd:e*r,gemProd:t*r,recruitProd:n*r,tower:s,wall:o}})(),Oc=(e,t,n,r)=>{const{player:s,opponent:o}=t;for(const p of e){p.score=0;const{index:e,n:t,canuse:r}=p,a=Ws[t],{type:l,cost:c,special:d,effect:u}=a,{winTower:m,winResource:b}=n,f=i({},s),y=i({},o);u(y,f);const g=y.tower>=m||y.bricks>=b||y.gems>=b||y.recruits>=b||f.tower<=0,_=f.tower>=m||f.bricks>=b||f.gems>=b||f.recruits>=b||y.tower<=0;if(r&&g&&!_)return{index:e,use:!0};const h=et(Ze(o).map((([e,t])=>[e,y[e]-t]))),w=et(Ze(s).map((([e,t])=>[e,f[e]-t])));h[Qn[l]]-=c;const x=tr.map((e=>h[e]*Tc[e])).reduce(((e,t)=>e+t),0),v=tr.map((e=>w[e]*Tc[e]*kc.attack)).reduce(((e,t)=>e+t),0);p.score+=x-v,(null==d?void 0:d.playagain)&&(p.score+=kc.playagain),(null==d?void 0:d.drawDiscardPlayagain)&&(p.score+=kc.drawDiscardPlayagain),(null==d?void 0:d.undiscardable)&&(p.score+=kc.undiscardable),g&&_&&(p.score+=kc.tieBonus),!g&&_&&(p.score-=kc.losePenalty)}const a=e.map((e=>({card:e,use:!0,scoreAll:e.score}))),l=e.map((e=>({card:e,use:!1,scoreAll:e.score/kc.useDiscardRatio*-1}))),c=a.concat(l).filter((e=>e.use&&e.card.canuse||!e.use&&e.card.candiscard));if(0===c.length)return null;const d=((e,t)=>{let n;switch(t){case 1:{const t=e.map((({scoreAll:e})=>e*Lr(100,8)/50));n=e[t.reduce(((e,t,n,r)=>t>r[e]?n:e),0)];break}case 2:{const t=e.map((({scoreAll:e})=>e*Lr(100,2)/50));n=e[t.reduce(((e,t,n,r)=>t>r[e]?n:e),0)];break}case 3:{const t=e.map((({scoreAll:e})=>e)),r=Math.max(...t),s=Math.min(...t);n=e[t.map((e=>e+(r-s)*(Lr(100,2)-50)/50)).reduce(((e,t,n,r)=>t>r[e]?n:e),0)];break}case 4:n=Ar(e);break;default:n=e.reduce(((e,t)=>e.scoreAll>t.scoreAll?e:t))}return n})(c,r);return{index:d.card.index,use:d.use}},Nc=[-2,-3,-4],Ec=(e,t)=>1===e?0:1.4/(e-1)*t-.7,Cc="INST",Mc=e=>"player"===e?"opponent":"player",Ic=e=>e.map((e=>{return null!==e?l(i({},e),{owner:(t=e.owner,"player"===t||"opponent"===t?Mc(e.owner):e.owner)}):null;var t})),Dc=Ws.map((e=>e.prob)).reduce(((e,t,n)=>e.concat(Array(t).fill(n))),[]),zc=()=>Dc[Math.floor(Math.random()*Dc.length)];class Rc{constructor(){this._queue=[],this._resolves=[]}get size(){return this._queue.length}init(){this._queue=[],this._resolves=[]}enqueue(e){const t=this._resolves.shift();void 0===t?this._queue.push(e):t(e)}dequeue(e=!1){var t;return null!=(t=e?this._queue[0]:this._queue.shift())?t:null}async dequeueAsync(){var e;return null!=(e=this._queue.shift())?e:new Promise(((e,t)=>{this._resolves.push(e)}))}}const Lc=new Map,Ac=new Map,Hc=new Map,Fc=[-2,-3,-4];const qc=new class{constructor(){this._v=0,this._queue=[]}get v(){return this._v}reset(){this._v=0}add(e=1){this._v+=e}enqueue(e){this._queue.push(e)}getRemoveUsablesInQueue(e){const t=[];let n=e;if(0!==this._queue.length)for(;;){n++;const e=this._queue.findIndex((e=>null!==e&&e.seq===n));if(-1===e)break;const r=this._queue[e];if(null!==r&&t.push(r),this._queue[e]=null,this._queue.every((e=>null===e))){this._queue=[];break}}return t}getUsableConnDataList(e){const{seq:t}=e;if(t!==this._v+1)return this.enqueue(e),JSON.stringify(e),null;this.add();const n=this.getRemoveUsablesInQueue(t);return this.add(n.length),JSON.stringify([e].concat(n)),[e].concat(n)}};const Bc=new class{constructor(){this._v=0}get v(){return this._v}add(e=1){this._v+=e}reset(){this._v=0}},$c=[Oe,Ee,de,le,re,be,me],Gc=[le,re,be],Wc={lose:"defeat",tie:"victory",win:"victory"},Vc=e=>{const t=window.localStorage.getItem(Z);if(null===t)return null;const n=JSON.parse(t);return"string"==typeof e?n[e]:e.reduce(((e,t)=>{var n;return null!=(n=null==e?void 0:e[t])?n:null}),n)},Yc=e=>{const t=window.localStorage.getItem(Z),n=null===t?{}:JSON.parse(t),r=f(n,e);window.localStorage.setItem(Z,JSON.stringify(r))},Kc=B(((e,t)=>e.pipe(j("0"),S((t=>{const{lang:n}=t;return Yc((e=>{void 0===e.lang?e.lang={code:n,boldfont:$e,erathian:Ge}:e.lang.code=n})),k({type:"1",lang:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("2"),S((t=>{const{boldfont:n}=t;return Yc((e=>{void 0===e.lang?e.lang={code:st,boldfont:n,erathian:Ge}:e.lang.boldfont=n})),k({type:"3",boldfont:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("4"),S((t=>{const{erathian:n}=t;return Yc((e=>{void 0===e.lang?e.lang={code:st,boldfont:$e,erathian:n}:e.lang.erathian=n})),k({type:"5",erathian:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(te),S((t=>{const{volume:n}=t;return Yc((e=>{void 0===e.sound?e.sound={volume:n,stereo:We}:e.sound.volume=n})),k({type:"7",volume:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("8"),S((t=>{const{stereo:n}=t;return Yc((e=>{void 0===e.sound?e.sound={volume:5,stereo:n}:e.sound.stereo=n})),k({type:"9",stereo:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("a"),S((t=>{const{noanim:n}=t;return Yc((e=>{void 0===e.visual?e.visual={noanim:n,visualvalues:Ve,pixelation:0}:e.visual.noanim=n})),k({type:"b",noanim:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("c"),S((t=>{const{pixelation:n}=t;return Yc((e=>{void 0===e.visual?e.visual={pixelation:n,visualvalues:Ve,noanim:Ye}:e.visual.pixelation=n})),k({type:"d",pixelation:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(ne),S((t=>{const{payload:n}=t;return Yc((e=>{void 0===e.visual?e.visual={pixelation:0,visualvalues:i(i({},Ve),n),noanim:Ye}:e.visual.visualvalues=i(i({},e.visual.visualvalues),n)})),k({type:"f",payload:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("g"),S((t=>{const{aiLevel:n}=t;return Yc((e=>{void 0===e.ai?e.ai={aiLevel:n}:e.ai.aiLevel=n})),k({type:"h",aiLevel:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(de),S((t=>{const{payload:n}=t;return Yc((e=>{void 0===e.settings?e.settings=i(l(i({},Ke),{playerName:Ar(qe),opponentName:Ar(Be)}),n):e.settings=i(i({},e.settings),n)})),k({type:pe,payload:n}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("i"),P(t),S((([t,n])=>{const r=t.payload.map((e=>{const{isPlayer:t,statusProp:r,noSound:s}=e;let o=null;if("to"in e){const s=n.status[t?"player":"opponent"][r];e.to!==s&&(o=e.to>s)}else 0!==e.diff&&(o=e.diff>0);return s||Mi(r,o,n.sound.stereo?t:0),i({isPlayer:t,statusProp:r},"to"in e?{to:e.to}:{diff:e.diff})}));return C(k({type:"j",payload:r}),k({type:"X"}),k({type:"00"})).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("k"),P(t),S((([t,n])=>{const r=n.status.player,s=n.status.opponent,o=i({},r),a=i({},s),l=Ws[t.n],c="player"===t.owner?o:a,d=Qn[l.type];c[d]-=l.cost;const p=c[d],u=l.effect;"player"===t.owner?u(o,a):u(a,o);const m=Ze(o).filter((([e,t])=>t!==r[e])).map((([e,n])=>({isPlayer:!0,statusProp:e,to:n,noSound:"player"===t.owner&&e===d&&n===p}))).concat(Ze(a).filter((([e,t])=>t!==s[e])).map((([e,n])=>({isPlayer:!1,statusProp:e,to:n,noSound:"opponent"===t.owner&&e===d&&n===p}))));return k({type:"i",payload:m}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("l"),P(t),S((([t,n])=>{const{n:r,index:s,position:o,owner:a}=t,i=n.multiplayer.gameNumber;return C(k({type:se,payload:{type:"p",n:r,index:s,position:o,owner:a}}),i>0?k({type:Ie,kind:Cc,data:{type:re,payload:{type:"p",n:r,index:s,position:o,owner:Mc(a)}}}):O).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(re),I((e=>{const{payload:t,gameNumber:n}=e;if(void 0===n)return void JSON.stringify(e);let r=Ac.get(n);void 0===r&&(r=new Rc,Ac.set(n,r)),r.enqueue(t)})),D())),((e,t)=>e.pipe(j("n"),P(t),S((([n,r])=>{const{gameNumber:s}=r.multiplayer;s.toString();let o=Ac.get(s);void 0===o&&(o=new Rc,Ac.set(s,o));const a=o.dequeueAsync();return M(a).pipe(P(t),S((([e,t])=>t.multiplayer.gameNumber===s?k({type:se,payload:e}).pipe(N(0)):O)),T(e.pipe(j(Pe))))})))),((e,t)=>e.pipe(j(se),P(t),S((([n,r])=>{const{payload:s}=n;return r.game.locked.some((e=>!0===e))?(JSON.stringify(s),JSON.stringify(r.game.locked),t.pipe(z((e=>e.game.locked)),R((e=>!e.some((e=>!0===e)))),L(1),z((()=>s)),T(e.pipe(j(Pe))))):k(s)})))),((e,t)=>e.pipe(j("p"),P(t),S((([t,n])=>{const{n:r,index:s,position:o,owner:a}=t,i=Ws[r].special;return Mi("deal",null,n.sound.stereo?Ec(n.cards.total[a],o):0),C(n.game.isNewTurn?k({type:oe}):O,k({type:"k",n:r,owner:a}),k({type:"t",index:s}),k({type:"x",index:s,position:o,owner:a}),k({type:fe,on:!0}),(null==i?void 0:i.drawDiscardPlayagain)?C(k({type:"W",on:!0}),k({type:ie}).pipe(N(0)),k({type:ae,index:s}).pipe(N(850)),k({type:fe,on:!1})):C(k({type:ae,index:s}).pipe(N(850)),(null==i?void 0:i.playagain)?C(k({type:ie}).pipe(N(0)),k({type:fe,on:!1})):k({type:"S"}).pipe(N(St)))).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("y"),P(t),S((([t,n])=>{const{index:r,position:s,owner:o}=t,a=n.multiplayer.gameNumber;return C(k({type:se,payload:{type:"z",index:r,position:s,owner:o}}),a>0?k({type:Ie,kind:Cc,data:{type:re,payload:{type:"z",index:r,position:s,owner:Mc(o)}}}):O).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("z"),P(t),S((([t,n])=>{const{index:r,position:s,owner:o}=t;return Mi("deal",null,n.sound.stereo?Ec(n.cards.total[o],s):0),C(n.game.isNewTurn?k({type:oe}):O,k({type:"A",index:r}),k({type:ae,index:r}).pipe(N(0)),k({type:"x",index:r,position:s,owner:o}),n.game.discardMode?C(k({type:"W",on:!1}),k({type:ie}).pipe(N(0))):C(k({type:fe,on:!0}),k({type:"S"}).pipe(N(St)))).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(ae),P(t),S((([t,n])=>{const r=n.cards.list,s=r[t.index];if(null!==s&&!1===Fc.includes(s.position)){const n=Fc.find((e=>r.every((t=>(null==t?void 0:t.position)!==e))));return void 0===n?C(k({type:oe}),k({type:ae,index:t.index})).pipe(T(e.pipe(j(je)))):k({type:"v",index:t.index,toPosition:n}).pipe(T(e.pipe(j(je))))}return O})))),((e,t)=>e.pipe(j("H"),P(t),S((([e,t])=>{const{payload:n}=e,r=t.multiplayer.on&&"connected_to_id"===t.multiplayer.status;return C(k({type:de,payload:n}),r?k({type:"0t",payload:n}):O,k({type:ue}).pipe(N(0)))})))),((e,t)=>e.pipe(j("R"),S((t=>{(()=>{const e=window.localStorage.getItem(ee);(null===e||q(e,"2.0.0"))&&window.localStorage.removeItem(Z),e!==Q&&window.localStorage.setItem(ee,Q)})();const n=Vc(["lang","code"]),r=Vc(["lang","boldfont"]),s=Vc(["lang","erathian"]),o=Vc(["settings"]),a=Vc(["sound","volume"]),i=Vc(["sound","stereo"]),l=Vc(["visual","noanim"]),c=Vc(["visual","pixelation"]),d=Vc(["visual","visualvalues"]),p=Vc(["ai","aiLevel"]);return C(k(null!==o?{type:pe,payload:o}:{type:pe,payload:{playerName:Ar(qe),opponentName:Ar(Be)}}),null!==n?k({type:"1",lang:n}):O,null!==r?k({type:"3",boldfont:r}):O,null!==s?k({type:"5",erathian:s}):O,null!==a?k({type:"7",volume:a}):O,null!==i?k({type:"9",stereo:i}):O,null!==l?k({type:"b",noanim:l}):O,null!==c?k({type:"d",pixelation:c}):O,null!==d?k({type:"f",payload:d}):O,null!==p?k({type:"h",aiLevel:p}):O,k({type:ue})).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(ue),P(t),S((([e,t])=>{const{fromScreenEnd:n=!1}=e,r=t.multiplayer.on&&"connected_to_id"===t.multiplayer.status,s=t.multiplayer.gameNumber,o=!r||n&&-1===s?-1:(new Date).getTime(),a=Math.random()<.5,i=[],l=t.settings.cardsInHand;for(let c=0,d=2*l;c<d;c++){const e={position:c%l,n:zc(),unusable:!1,discarded:!1,isFlipped:!1,zeroOpacity:!1,owner:c<l?"player":"opponent"};i.push(e)}return C(k({type:me,playersTurn:a,cardList:i,gameNumber:o}),r?k({type:Ie,kind:Cc,data:{type:n?be:me,playersTurn:!a,cardList:Ic(i),gameNumber:o}}):O)})))),((e,t)=>e.pipe(j(me),P(t),S((([e,t])=>{const{playersTurn:n,cardList:r,gameNumber:s}=e,o=t.settings.cardsInHand,a={total:{player:o,opponent:o},list:r,nextPos:{player:o,opponent:o}};return C(k({type:ve,payload:{type:null}}),k({type:je}),k({type:"O",payload:a}),k({type:"P",playersTurn:n}),k({type:"Q",payload:Le(t.settings)}),k({type:Ce,n:s}),k({type:"T",owner:n?"player":"opponent"}),k({type:ie}).pipe(N(0)))})))),((e,t)=>e.pipe(j(be),I((e=>{const t=e,{type:n,prevGameNumber:r}=t,s=c(t,["type","prevGameNumber"]);if(void 0===r)return void JSON.stringify(e);let o=Hc.get(r);void 0===o&&(o=new Rc,Hc.set(r,o)),o.enqueue(s)})),D())),((e,t)=>e.pipe(j("N"),P(t),S((([n,r])=>{const{gameNumber:s}=r.multiplayer;s.toString();let o=Hc.get(s);void 0===o&&(o=new Rc,Hc.set(s,o));const a=o.dequeueAsync();return M(a).pipe(P(t),S((([e,t])=>t.multiplayer.gameNumber===s?k(i({type:me},e)).pipe(N(0)):O)),T(e.pipe(j(Pe))))})))),((e,t)=>e.pipe(j(ie),P(t),S((([t,n])=>{const r="connected_to_id"===n.multiplayer.status;let s;if(-1===n.multiplayer.gameNumber)s=k({type:ce,n:zc()}).pipe(N(0));else if(r){const e=zc();s=C(k({type:ce,n:e}).pipe(N(0)),k({type:Ie,kind:Cc,data:{type:le,n:e}}))}else s=k({type:"D"}).pipe(N(0));return C(k({type:fe,on:!0,locknumber:1}),s).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(le),I((e=>{const{n:t,gameNumber:n}=e;if(void 0===n)return void JSON.stringify(e);let r=Lc.get(n);void 0===r&&(r=new Rc,Lc.set(n,r)),r.enqueue(t)})),D())),((e,t)=>e.pipe(j("D"),P(t),S((([n,r])=>{const{gameNumber:s}=r.multiplayer;s.toString();let o=Lc.get(s);void 0===o&&(o=new Rc,Lc.set(s,o));const a=o.dequeueAsync();return M(a).pipe(P(t),S((([e,t])=>t.multiplayer.gameNumber===s?k({type:ce,n:e}).pipe(N(0)):O)),T(e.pipe(j(Pe))))})))),((e,t)=>e.pipe(j(ce),P(t),S((([t,n])=>{const{n:r}=t,s=n.game.playersTurn?"player":"opponent",o=n.multiplayer.gameNumber;return Mi("deal",null,n.sound.stereo?Ec(n.cards.total[s]+1,n.cards.nextPos[s]):0),C(k({type:"F",n:r}),k({type:"X",lastOnly:!0}),k({type:"G",owner:s}).pipe(N(100)),k({type:fe,on:!1,locknumber:1}).pipe(N(0)),"opponent"===s&&-1===o?k({type:"0a"}).pipe(N(850)):O,"opponent"===s&&o>0?k({type:"n"}).pipe(N(850)):O,"player"===s?k({type:"0b"}).pipe(N(0)):O).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("S"),P(t),S((([t,n])=>C(k({type:"U"}),k({type:"T",owner:n.game.playersTurn?"opponent":"player"}),k({type:fe,on:!1}),k({type:ie}).pipe(N(0)),k({type:"Z",on:!0})).pipe(T(e.pipe(j(je)))))))),((e,t)=>e.pipe(j("T"),P(t),S((([t,n])=>{const r=n.status[t.owner],s=Ze(Zn).map((([e,n])=>({isPlayer:"player"===t.owner,statusProp:n,diff:r[e],noSound:!0})));return k({type:"i",payload:s}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j(oe),P(t),S((([t,n])=>{const r=[],s=[],o=[];return Nc.forEach((e=>{n.cards.list.forEach(((t,n)=>{null!==t&&t.position===e&&(r.push(k({type:"r",index:n})),s.push(k({type:"s",index:n}).pipe(N(St))),o.push(k({type:"w",index:n}).pipe(N(1e3))))}))})),E(k({type:"Z",on:!1}),E(...r,...s,...o)).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("X"),P(t),S((([t,n])=>{const r=[],s=[],o=(e,o)=>{if(null!==e){const a=t.lastOnly?n.game.playersTurn?"player":"opponent":e.owner;if("common"!==a){const{type:t,cost:i}=Ws[e.n];n.status[a][Qn[t]]<i?e.unusable||r.push(o):e.unusable&&s.push(o)}}};if(t.lastOnly){const e=n.cards.list,t=e.length-1;o(e[t],t)}else n.cards.list.forEach(o);return k({type:"Y",unusables:r,usables:s}).pipe(T(e.pipe(j(je))))})))),((e,t)=>e.pipe(j("00"),P(t),S((([t,n])=>{const{winTower:r,winResource:s}=Ae(n.settings),{player:o,opponent:a}=n.status,i=((e,t,n,r)=>{const s=[t.tower<=0,e.tower>=n,e.bricks>=r,e.gems>=r,e.recruits>=r],o=[e.tower<=0,t.tower>=n,t.bricks>=r,t.gems>=r,t.recruits>=r],a=sr(s),i=sr(o),l={};a.length>0&&(l.win=a),i.length>0&&(l.lose=i);let c=null;return s.includes(!0)&&!o.includes(!0)?c="win":!s.includes(!0)&&o.includes(!0)?c="lose":s.includes(!0)&&o.includes(!0)&&(c="tie"),c?{type:c,reasons:l}:null})(o,a,r,s);return i?k({type:ve,payload:i}).pipe(T(e.pipe(j(je)))):O})))),((e,t)=>e.pipe(j(ve),P(t),S((([e,t])=>{const{payload:n}=e;return hn(n)&&Mi(Wc[n.type]),C(k({type:je}),k({type:"08",payload:n}))})))),((e,t)=>e.pipe(j("09"),P(t),S((([e,t])=>{const n=t.multiplayer.gameNumber>0&&"connected_by_id"===t.multiplayer.status;return C(k({type:ve,payload:{type:null}}),k(n?{type:"N"}:{type:ue,fromScreenEnd:!0}))})))),((e,t)=>e.pipe(j("0a"),P(t),S((([t,n])=>{const r=(e=>{const t=Sc(e,"opponent");return Oc(t,e.status,Ae(e.settings),e.ai.aiLevel)})(n);if(null===r)return k({type:ve,payload:{type:"win",surrender:!0}}).pipe(T(e.pipe(j(je))));const{index:s,use:o}=r,a=n.cards.list[s];if(null!==a&&"common"!==a.owner){const{n:t,position:n,owner:r}=a;return o?k({type:"l",index:s,n:t,position:n,owner:r}).pipe(T(e.pipe(j(je)))):k({type:"y",index:s,position:n,owner:r}).pipe(T(e.pipe(j(je))))}return O})))),((e,t)=>e.pipe(j("0b"),P(t),S((([t,n])=>{if(n.multiplayer.on)return O;return 0===Sc(n,"player").filter((e=>e.canuse||e.candiscard)).length?k({type:ve,payload:{type:"lose",surrender:!0}}).pipe(T(e.pipe(j(je)))):O})))),((e,t)=>e.pipe(j("0e"),S((t=>{const{on:n}=t;return C(k(n?{type:"0g"}:{type:"0i"}),k({type:"0f",on:n})).pipe(T(e.pipe(j(Pe))))})))),((e,t)=>e.pipe(j("0g"),S((t=>{const n=new Promise(((e,t)=>{V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1])).then((n=>{n.initPeer();const{peer:r}=n.peerAll;r?(r.on("open",(t=>{e(t)})),r.on("error",(e=>{t(e)})),r.on("error",(e=>t(e)))):t(new Error("Peer init failed"))})).catch(t)}));return E(k({type:Te,status:"connecting_net"}),M(n).pipe(S((e=>C(k({type:Te,status:"connected_net"}),k({type:Se,id:e}),k({type:"0r"})))),H((e=>k({type:Te,status:"failed"}))))).pipe(T(e.pipe(j(Pe))))})))),((e,t)=>e.pipe(j("0i"),S((e=>M(V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1]))).pipe(S((({nullifyPeer:e,peerAll:t})=>{const{peer:n}=t;return null!==n&&(n.disconnect(),n.destroy(),e()),C(k({type:Pe}),k({type:Se,id:""}),k({type:Ce,n:-1}))}))))))),((e,t)=>e.pipe(j("0j"),S((t=>M(V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1]))).pipe(S((({peerAll:n})=>{const{peer:r}=n;if(null===r)return O;const s=new Promise(((e,s)=>{if(null!==r){let o=null,a=null,i=0;const l=()=>{i>5&&(null!=o&&o.close(),s(!1)),i+=1,(null===o||null!=o&&!o.open)&&(null!==o&&(null==o||o.close()),o=r.connect(t.id),n.conn=o),a=setTimeout(l,4e3*i),null==o||o.on("open",(()=>{null!==a&&clearTimeout(a),e(null)}))};l(),r.on("error",(e=>{null!=o&&o.close(),s(e)}))}}));return E(k({type:Te,status:"connecting_to_id"}),M(s).pipe(S((e=>(Bc.reset(),qc.reset(),C(k({type:Te,status:"connected_to_id"}),k({type:ke,id:t.id}),k({type:Me,host:!0}))))),H((e=>k({type:Te,status:"failed"}))))).pipe(T(e.pipe(j(Pe))))}))))))),((e,t)=>e.pipe(j(Me),S((n=>M(V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1]))).pipe(S((({peerAll:r})=>{const{conn:s}=r;return n.host,null===s?O:E(A(s,"data").pipe(S((e=>k({type:Re,data:e})))),A(s,"open").pipe(S((()=>n.host?O:(Bc.reset(),qc.reset(),C(k({type:ke,id:s.peer}),k({type:Te,status:"connected_by_id"})))))),A(s,"close").pipe(P(t),S((([e,t])=>{const n=t.multiplayer.gameNumber;return C(k({type:Te,status:"connected_net"}),n>0?C(k({type:xe,show:!0})):O,k({type:Ce,n:-1}))}))),A(s,"error").pipe(S((()=>O)))).pipe(T(e.pipe(j(Pe))))}))))))),((e,t)=>e.pipe(j("0r"),S((t=>M(V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1]))).pipe(S((({peerAll:t})=>{const{peer:n}=t;return null===n?O:E(A(n,"connection").pipe(S((e=>(t.conn=e,C(k({type:Me,host:!1})))))),A(n,"disconnected").pipe(S((()=>C(k({type:Te,status:"disconnected"}),k({type:Ce,n:-1}))))),A(n,"close").pipe(S((()=>C(k({type:Te,status:"disconnected"}),k({type:Ce,n:-1}))))),A(n,"error").pipe(S((()=>O)))).pipe(T(e.pipe(j(Pe))))}))))))),((e,t)=>e.pipe(j(Ie),P(t),S((([e,t])=>M(V((()=>import("./peer-BJfOmXIw.js")),__vite__mapDeps([0,1]))).pipe(S((({peerAll:n})=>{const{gameNumber:r}=t.multiplayer,{kind:s,data:o}=e,{conn:a}=n;if(null!==a){Bc.add();const e={kind:s,data:o,seq:Bc.v,gameNumber:r},t=JSON.stringify(e).replace(/[\u007F-\uFFFF]/g,(e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)));a.send(t)}return O}))))))),((e,t)=>e.pipe(j(De),F(500),S((e=>{const{name:t}=e;return k({type:Ie,kind:Cc,data:{type:Ee,name:t}})})))),((e,t)=>e.pipe(j("0t"),S((t=>{const{payload:n}=t,r=n;return r?C(k({type:"0w"}),k({type:Ie,kind:Cc,data:{type:Oe,payload:r}}),k({type:Ie,kind:Cc,data:{type:de,payload:r}})).pipe(T(e.pipe(j(Pe)))):O})))),((e,t)=>e.pipe(j(ze),F(500),S((t=>{const{payload:n}=t;return k({type:Ie,kind:Cc,data:{type:Oe,payload:n}}).pipe(T(E(e.pipe(j("0w")),e.pipe(j(Pe)))))})))),((e,t)=>e.pipe(j("0y"),S((e=>{e.data;const t=e,{type:n}=t,r=c(t,["type"]);return k(i({type:Re},r)).pipe(N(0))})))),((e,t)=>e.pipe(j(Re),S((e=>{const{data:t}=e;try{const e=JSON.parse(t),n=qc.getUsableConnDataList(e);if(null===n)return O;const r=n.map((e=>{const{kind:t,data:n,gameNumber:r}=e;if(t===Cc){if($c.includes(n.type))return s=n.type,Gc.includes(s)?n.type===be?k(l(i({},n),{prevGameNumber:r})).pipe(N(0)):k(l(i({},n),{gameNumber:r})).pipe(N(0)):k(n).pipe(N(0));JSON.stringify(e)}var s;return O}));return C(...r)}catch(n){}return O})))));mt.run(Kc);b.createRoot(document.getElementById("root")).render(u.jsx($,{children:u.jsx(m.StrictMode,{children:u.jsx(G,{store:bt,children:u.jsx(jt,{children:u.jsx(Ot,{children:u.jsx(Pc,{})})})})})}));const Uc=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
